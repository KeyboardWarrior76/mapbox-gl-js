define(["./shared"],(function(e){function t(e){const t=e?e.url.toString():void 0;return t?performance.getEntriesByName(t):[]}function o(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e||null==e)return JSON.stringify(e);if(Array.isArray(e)){let t="[";for(const s of e)t+=`${o(s)},`;return`${t}]`}let t="{";for(const s of Object.keys(e).sort())t+=`${s}:${o(e[s])},`;return`${t}}`}function s(t){let s="";for(const i of e.bg)s+=`/${o(t[i])}`;return s}class i{constructor(e){this.keyCache={},this._layers={},this._layerConfigs={},e&&this.replace(e)}replace(e,t){this._layerConfigs={},this._layers={},this.update(e,[],t)}update(t,o,i){this._options=i;for(const o of t)this._layerConfigs[o.id]=o,(this._layers[o.id]=e.cq(o,this.scope,null,this._options)).compileFilter(i),this.keyCache[o.id]&&delete this.keyCache[o.id];for(const e of o)delete this.keyCache[e],delete this._layerConfigs[e],delete this._layers[e];this.familiesBySource={};const n=function(e,t){const o={};for(let i=0;i<e.length;i++){const n=t&&t[e[i].id]||s(e[i]);t&&(t[e[i].id]=n);let r=o[n];r||(r=o[n]=[]),r.push(e[i])}const i=[];for(const e in o)i.push(o[e]);return i}(e.bd(this._layerConfigs),this.keyCache);for(const e of n){const t=e.map((e=>this._layers[e.id])),o=t[0];if("none"===o.visibility)continue;const s=o.source||"";let i=this.familiesBySource[s];i||(i=this.familiesBySource[s]={});const n=o.sourceLayer||"_geojsonTileLayer";let r=i[n];r||(r=i[n]=[]),r.push(t)}}}const n=1*e.dP;class r{constructor(t){const o={},s=[];for(const e in t){const i=t[e],r=o[e]={};for(const e in i.glyphs){const t=i.glyphs[+e];if(!t||0===t.bitmap.width||0===t.bitmap.height)continue;const o=t.metrics.localGlyph?n:1,a={x:0,y:0,w:t.bitmap.width+2*o,h:t.bitmap.height+2*o};s.push(a),r[e]=a}}const{w:i,h:r}=e.z(s),a=new e.dO({width:i||1,height:r||1});for(const s in t){const i=t[s];for(const t in i.glyphs){const r=i.glyphs[+t];if(!r||0===r.bitmap.width||0===r.bitmap.height)continue;const l=o[s][t],c=r.metrics.localGlyph?n:1;e.dO.copy(r.bitmap,a,{x:0,y:0},{x:l.x+c,y:l.y+c},r.bitmap)}}this.image=a,this.positions=o}}e.dN(r,"GlyphAtlas");class a{constructor(t){this.tileID=new e.aA(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.tileZoom=t.tileZoom,this.uid=t.uid,this.zoom=t.zoom,this.lut=t.lut,this.canonical=t.tileID.canonical,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.scope=t.scope,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.promoteId=t.promoteId,this.isSymbolTile=t.isSymbolTile,this.tileTransform=e.aK(t.tileID.canonical,t.projection),this.projection=t.projection,this.brightness=t.brightness,this.extraShadowCaster=!!t.extraShadowCaster,this.tessellationStep=t.tessellationStep}parse(t,o,s,i,n){this.status="parsing",this.data=t,this.collisionBoxArray=new e.aQ;const a=new e.dQ(Object.keys(t.layers).sort()),c=new e.dR(this.tileID,this.promoteId);c.bucketLayerIDs=[];const h={},u=new e.dS(256,256),d={featureIndex:c,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:u,availableImages:s,brightness:this.brightness},f=o.familiesBySource[this.source];for(const o in f){const i=t.layers[o];if(!i)continue;let n=!1,r=!1,u=!1;for(const e of f[o])"symbol"===e[0].type?n=!0:r=!0,e[0].is3D()&&"model"!==e[0].type&&(u=!0);if(this.extraShadowCaster&&!u)continue;if(!0===this.isSymbolTile&&!n)continue;if(!1===this.isSymbolTile&&!r)continue;1===i.version&&e.w(`Vector tile source "${this.source}" layer "${o}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const p=a.encode(o),g=[];for(let e=0;e<i.length;e++){const t=i.feature(e),s=c.getId(t,o);g.push({feature:t,id:s,index:e,sourceLayerIndex:p})}for(const e of f[o]){const t=e[0];(!this.extraShadowCaster||t.is3D()&&"model"!==t.type)&&(void 0!==this.isSymbolTile&&"symbol"===t.type!==this.isSymbolTile||t.minzoom&&this.zoom<Math.floor(t.minzoom)||t.maxzoom&&this.zoom>=t.maxzoom||"none"!==t.visibility&&(l(e,this.zoom,d.brightness,s),(h[t.id]=t.createBucket({index:c.bucketLayerIDs.length,layers:e,zoom:this.zoom,lut:this.lut,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:p,sourceID:this.source,projection:this.projection.spec,tessellationStep:this.tessellationStep})).populate(g,d,this.tileID.canonical,this.tileTransform),c.bucketLayerIDs.push(e.map((e=>e.id)))))}}let p,g,m,y;u.trim();const x={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},w=()=>{if(p)return this.status="done",n(p);if(this.extraShadowCaster)this.status="done",n(null,{buckets:e.bd(h).filter((e=>!e.isEmpty())),featureIndex:c,collisionBoxArray:null,glyphAtlasImage:null,lineAtlas:null,imageAtlas:null,brightness:d.brightness,glyphMap:null,iconMap:null,glyphPositions:null});else if(g&&m&&y){const t=new r(g),o=new e.dU(m,y,this.lut);for(const i in h){const n=h[i];n instanceof e.aR?(l(n.layers,this.zoom,d.brightness,s),e.dV(n,g,t.positions,m,o.iconPositions,this.showCollisionBoxes,s,this.tileID.canonical,this.tileZoom,this.projection,this.brightness)):n.hasPattern&&(n instanceof e.aX||n instanceof e.aY||n instanceof e.d0)&&(l(n.layers,this.zoom,d.brightness,s),n.addFeatures(d,this.tileID.canonical,o.patternPositions,s,this.tileTransform,this.brightness))}this.status="done",n(null,{buckets:e.bd(h).filter((e=>!e.isEmpty())),featureIndex:c,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,lineAtlas:u,imageAtlas:o,brightness:d.brightness})}};if(!this.extraShadowCaster){const t=e.dT(d.glyphDependencies,(e=>Object.keys(e).map(Number)));Object.keys(t).length?i.send("getGlyphs",{uid:this.uid,stacks:t,scope:this.scope},((e,t)=>{p||(p=e,g=t,w())}),void 0,!1,x):g={};const o=Object.keys(d.iconDependencies);o.length?i.send("getImages",{icons:o,source:this.source,scope:this.scope,tileID:this.tileID,type:"icons"},((e,t)=>{p||(p=e,m=t,w())}),void 0,!1,x):m={};const s=Object.keys(d.patternDependencies);s.length?i.send("getImages",{icons:s,source:this.source,scope:this.scope,tileID:this.tileID,type:"patterns"},((e,t)=>{p||(p=e,y=t,w())}),void 0,!1,x):y={}}w()}}function l(t,o,s,i){const n=new e.a3(o,{brightness:s});for(const e of t)e.recalculate(n,i)}class c extends e.E{constructor(t,o,s,i,n,r){super(),this.actor=t,this.layerIndex=o,this.availableImages=s,this.loadVectorData=n||e.aw,this.loading={},this.loaded={},this.deduped=new e.au(t.scheduler),this.isSpriteLoaded=i,this.scheduler=t.scheduler,this.brightness=r}loadTile(o,s){const i=o.uid,n=o&&o.request,r=n&&n.collectResourceTiming,l=this.loading[i]=new a(o);l.abort=this.loadVectorData(o,((a,c)=>{const h=!this.loading[i];if(delete this.loading[i],h||a||!c)return l.status="done",h||(this.loaded[i]=l),s(a);const u=c.rawData,d={};c.expires&&(d.expires=c.expires),c.cacheControl&&(d.cacheControl=c.cacheControl),l.vectorTile=c.vectorTile||new e.dW.VectorTile(new e.bb(u));const f=()=>{l.parse(l.vectorTile,this.layerIndex,this.availableImages,this.actor,((o,i)=>{if(o||!i)return s(o);const a={};if(r){const e=t(n);e.length>0&&(a.resourceTiming=JSON.parse(JSON.stringify(e)))}s(null,e.l({rawTileData:u.slice(0)},i,d,a))}))};this.isSpriteLoaded?f():this.once("isSpriteLoaded",(()=>{this.scheduler?this.scheduler.add(f,{type:"parseTile",isSymbolTile:o.isSymbolTile,zoom:o.tileZoom}):f()})),this.loaded=this.loaded||{},this.loaded[i]=l}))}reloadTile(t,o){const s=this.loaded,i=t.uid;if(s&&s[i]){const n=s[i];n.showCollisionBoxes=t.showCollisionBoxes,n.projection=t.projection,n.brightness=t.brightness,n.tileTransform=e.aK(t.tileID.canonical,t.projection),n.extraShadowCaster=t.extraShadowCaster,n.lut=t.lut;const r=(e,t)=>{const s=n.reloadCallback;s&&(delete n.reloadCallback,n.parse(n.vectorTile,this.layerIndex,this.availableImages,this.actor,s)),o(e,t)};"parsing"===n.status?n.reloadCallback=r:"done"===n.status&&(n.vectorTile?n.parse(n.vectorTile,this.layerIndex,this.availableImages,this.actor,r):r())}else o(null,void 0)}abortTile(e,t){const o=e.uid,s=this.loading[o];s&&(s.abort&&s.abort(),delete this.loading[o]),t()}removeTile(e,t){const o=this.loaded,s=e.uid;o&&o[s]&&delete o[s],t()}}class h{loadTile(t,o){const{uid:s,encoding:i,rawImageData:n,padding:r}=t,a=ImageBitmap&&n instanceof ImageBitmap?this.getImageData(n,r):n;o(null,new e.dX(s,a,i,r<1))}getImageData(e,t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);const o=this.offscreenCanvasContext.getImageData(-t,-t,e.width+2*t,e.height+2*t);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),o}}e.ba.setPbf(e.bb);class u{decodeRasterArray({task:t,buffer:o},s){e.ba.performDecoding(o,t).then((e=>{s(null,e)}),(e=>{s(e)}))}}const d=e.dW.VectorTileFeature.prototype.toGeoJSON;class f{constructor(t){this._feature=t,this.extent=e.ab,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))}loadGeometry(){if(1===this._feature.type){const t=[];for(const o of this._feature.geometry)t.push([new e.P(o[0],o[1])]);return t}{const t=[];for(const o of this._feature.geometry){const s=[];for(const t of o)s.push(new e.P(t[0],t[1]));t.push(s)}return t}}toGeoJSON(e,t,o){return d.call(this,e,t,o)}}class p{constructor(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.ab,this.length=t.length,this._features=t}feature(e){return new f(this._features[e])}}const g=64/4096,m=128;class y{constructor(){this.features=new Map}clear(){this.features.clear()}load(e=[],t){for(const o of e){const e=o.id;if(null==e)continue;let s=this.features.get(e);s&&this.updateCache(s,t),o.geometry?(s=w(o),this.updateCache(s,t),this.features.set(e,s)):this.features.delete(e),this.updateCache(s,t)}}updateCache(e,t){for(const{canonical:o,uid:s}of Object.values(t)){const{z:i,x:n,y:r}=o;x(e,Math.pow(2,i),n,r)&&delete t[s]}}getTile(e,t,o){const s=Math.pow(2,e),i=[];for(const e of this.features.values())x(e,s,t,o)&&i.push(I(e,s,t,o));return{features:i}}getFeatures(){return[...this.features.values()]}}function x({minX:e,minY:t,maxX:o,maxY:s},i,n,r){return e<(n+1+g)/i&&t<(r+1+g)/i&&o>(n-g)/i&&s>(r-g)/i}function w(e){const{id:t,geometry:o,properties:s}=e;if(!o)return;if("GeometryCollection"===o.type)throw new Error("GeometryCollection not supported in dynamic mode.");const{type:i,coordinates:n}=o,r={id:t,type:1,geometry:[],tags:s,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0},a=r.geometry;if("Point"===i)b(n,a,r);else if("MultiPoint"===i)for(const e of n)b(e,a,r);else if("LineString"===i)r.type=2,S(n,a,r);else if("MultiLineString"===i)r.type=2,v(n,a,r);else if("Polygon"===i)r.type=3,v(n,a,r,!0);else{if("MultiPolygon"!==i)throw new Error("Input data is not a valid GeoJSON object.");r.type=3;for(const e of n)v(e,a,r,!0)}return r}function b([t,o],s,i){const n=e.am(t);let r=e.at(o);r=r<0?0:r>1?1:r,s.push(n,r),i.minX=Math.min(i.minX,n),i.minY=Math.min(i.minY,r),i.maxX=Math.max(i.maxX,n),i.maxY=Math.max(i.maxY,r)}function S(e,t,o,s=!1,i=!1){const n=[];for(const t of e)b(t,n,o);t.push(n),s&&function(e,t){let o=0;for(let t=0,s=e.length,i=s-2;t<s;i=t,t+=2)o+=(e[t]-e[i])*(e[t+1]+e[i+1]);if(o>0===t)for(let t=0,o=e.length;t<o/2;t+=2){const s=e[t],i=e[t+1];e[t]=e[o-2-t],e[t+1]=e[o-1-t],e[o-2-t]=s,e[o-1-t]=i}}(n,i)}function v(e,t,o,s=!1){for(let i=0;i<e.length;i++)S(e[i],t,o,s,0===i)}function I(t,o,s,i){const{id:n,type:r,geometry:a,tags:l}=t,c=[];if(1===r)!function(t,o,s,i,n){for(let r=0;r<t.length;r+=2){const a=Math.round(e.ab*(t[r+0]*o-s)),l=Math.round(e.ab*(t[r+1]*o-i));n.push([a,l])}}(a,o,s,i,c);else for(const e of a)M(e,o,s,i,c);return{id:n,type:r,geometry:c,tags:l}}function M(t,o,s,i,n){const r=-m,a=e.ab+m;let l;for(let c=0;c<t.length-2;c+=2){let h=Math.round(e.ab*(t[c+0]*o-s)),u=Math.round(e.ab*(t[c+1]*o-i)),d=Math.round(e.ab*(t[c+2]*o-s)),f=Math.round(e.ab*(t[c+3]*o-i));const p=d-h,g=f-u;h<r&&d<r||(h<r?(u+=Math.round(g*((r-h)/p)),h=r):d<r&&(f=u+Math.round(g*((r-h)/p)),d=r),u<r&&f<r||(u<r?(h+=Math.round(p*((r-u)/g)),u=r):f<r&&(d=h+Math.round(p*((r-u)/g)),f=r),h>=a&&d>=a||(h>=a?(u+=Math.round(g*((a-h)/p)),h=a):d>=a&&(f=u+Math.round(g*((a-h)/p)),d=a),u>=a&&f>=a||(u>=a?(h+=Math.round(p*((a-u)/g)),u=a):f>=a&&(d=h+Math.round(p*((a-u)/g)),f=a),l&&h===l[l.length-1][0]&&u===l[l.length-1][1]||(l=[[h,u]],n.push(l)),l.push([d,f])))))}}var k,T,P,C={exports:{}},_=function(){if(P)return C.exports;P=1;var t=e.d_(),o=function(){if(T)return k;T=1;var t=e.dY(),o=e.dZ().VectorTileFeature;function s(e,t){this.options=t||{},this.features=e,this.length=e.length}function i(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}return k=s,s.prototype.feature=function(e){return new i(this.features[e],this.options.extent)},i.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var o=0;o<e.length;o++){for(var s=e[o],i=[],n=0;n<s.length;n++)i.push(new t(s[n][0],s[n][1]));this.geometry.push(i)}return this.geometry},i.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,o=-1/0,s=1/0,i=-1/0,n=0;n<e.length;n++)for(var r=e[n],a=0;a<r.length;a++){var l=r[a];t=Math.min(t,l.x),o=Math.max(o,l.x),s=Math.min(s,l.y),i=Math.max(i,l.y)}return[t,s,o,i]},i.prototype.toGeoJSON=o.prototype.toGeoJSON,k}();function s(e){var o=new t;return function(e,t){for(var o in e.layers)t.writeMessage(3,i,e.layers[o])}(e,o),o.finish()}function i(e,t){var o;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var s={keys:[],values:[],keycache:{},valuecache:{}};for(o=0;o<e.length;o++)s.feature=e.feature(o),t.writeMessage(2,n,s);var i=s.keys;for(o=0;o<i.length;o++)t.writeStringField(3,i[o]);var r=s.values;for(o=0;o<r.length;o++)t.writeMessage(4,h,r[o])}function n(e,t){var o=e.feature;void 0!==o.id&&t.writeVarintField(1,o.id),t.writeMessage(2,r,e),t.writeVarintField(3,o.type),t.writeMessage(4,c,o)}function r(e,t){var o=e.feature,s=e.keys,i=e.values,n=e.keycache,r=e.valuecache;for(var a in o.properties){var l=o.properties[a],c=n[a];if(null!==l){void 0===c&&(s.push(a),n[a]=c=s.length-1),t.writeVarint(c);var h=typeof l;"string"!==h&&"boolean"!==h&&"number"!==h&&(l=JSON.stringify(l));var u=h+":"+l,d=r[u];void 0===d&&(i.push(l),r[u]=d=i.length-1),t.writeVarint(d)}}}function a(e,t){return(t<<3)+(7&e)}function l(e){return e<<1^e>>31}function c(e,t){for(var o=e.loadGeometry(),s=e.type,i=0,n=0,r=o.length,c=0;c<r;c++){var h=o[c],u=1;1===s&&(u=h.length),t.writeVarint(a(1,u));for(var d=3===s?h.length-1:h.length,f=0;f<d;f++){1===f&&1!==s&&t.writeVarint(a(2,d-1));var p=h[f].x-i,g=h[f].y-n;t.writeVarint(l(p)),t.writeVarint(l(g)),i+=p,n+=g}3===s&&t.writeVarint(a(7,1))}}function h(e,t){var o=typeof e;"string"===o?t.writeStringField(1,e):"boolean"===o?t.writeBooleanField(7,e):"number"===o&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}return C.exports=s,C.exports.fromVectorTileJs=s,C.exports.fromGeojsonVt=function(e,t){t=t||{};var i={};for(var n in e)i[n]=new o(e[n].features,t),i[n].name=n,i[n].version=t.version,i[n].extent=t.extent;return s({layers:i})},C.exports.GeoJSONWrapper=o,C.exports}(),L=e.d$(_);const D={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},j=Math.fround||(O=new Float32Array(1),e=>(O[0]=+e,O[0]));var O;const z=3,A=5,Z=6;class E{constructor(e){this.options=Object.assign(Object.create(D),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:t,minZoom:o,maxZoom:s}=this.options;t&&console.time("total time");const i=`prepare ${e.length} points`;t&&console.time(i),this.points=e;const n=[];for(let t=0;t<e.length;t++){const o=e[t];if(!o.geometry)continue;const[s,i]=o.geometry.coordinates,r=j(N(s)),a=j(X(i));n.push(r,a,1/0,t,-1,1),this.options.reduce&&n.push(0)}let r=this.trees[s+1]=this._createTree(n);t&&console.timeEnd(i);for(let e=s;e>=o;e--){const o=+Date.now();r=this.trees[e]=this._createTree(this._cluster(r,e)),t&&console.log("z%d: %d clusters in %dms",e,r.numItems,+Date.now()-o)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let o=((e[0]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,e[1]));let i=180===e[2]?180:((e[2]+180)%360+360)%360-180;const n=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)o=-180,i=180;else if(o>i){const e=this.getClusters([o,s,180,n],t),r=this.getClusters([-180,s,i,n],t);return e.concat(r)}const r=this.trees[this._limitZoom(t)],a=r.range(N(o),X(n),N(i),X(s)),l=r.data,c=[];for(const e of a){const t=this.stride*e;c.push(l[t+A]>1?F(l,t,this.clusterProps):this.points[l[t+z]])}return c}getChildren(e){const t=this._getOriginId(e),o=this._getOriginZoom(e),s="No cluster with the specified id.",i=this.trees[o];if(!i)throw new Error(s);const n=i.data;if(t*this.stride>=n.length)throw new Error(s);const r=this.options.radius/(this.options.extent*Math.pow(2,o-1)),a=i.within(n[t*this.stride],n[t*this.stride+1],r),l=[];for(const t of a){const o=t*this.stride;n[o+4]===e&&l.push(n[o+A]>1?F(n,o,this.clusterProps):this.points[n[o+z]])}if(0===l.length)throw new Error(s);return l}getLeaves(e,t,o){const s=[];return this._appendLeaves(s,e,t=t||10,o=o||0,0),s}getTile(e,t,o){const s=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:n,radius:r}=this.options,a=r/n,l=(o-a)/i,c=(o+1+a)/i,h={features:[]};return this._addTileFeatures(s.range((t-a)/i,l,(t+1+a)/i,c),s.data,t,o,i,h),0===t&&this._addTileFeatures(s.range(1-a/i,l,1,c),s.data,i,o,i,h),t===i-1&&this._addTileFeatures(s.range(0,l,a/i,c),s.data,-1,o,i,h),h.features.length?h:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const o=this.getChildren(e);if(t++,1!==o.length)break;e=o[0].properties.cluster_id}return t}_appendLeaves(e,t,o,s,i){const n=this.getChildren(t);for(const t of n){const n=t.properties;if(n&&n.cluster?i+n.point_count<=s?i+=n.point_count:i=this._appendLeaves(e,n.cluster_id,o,s,i):i<s?i++:e.push(t),e.length===o)break}return i}_createTree(t){const o=new e.by(t.length/this.stride|0,this.options.nodeSize,Float32Array);for(let e=0;e<t.length;e+=this.stride)o.add(t[e],t[e+1]);return o.finish(),o.data=t,o}_addTileFeatures(e,t,o,s,i,n){for(const r of e){const e=r*this.stride,a=t[e+A]>1;let l,c,h;if(a)l=Y(t,e,this.clusterProps),c=t[e],h=t[e+1];else{const o=this.points[t[e+z]];l=o.properties;const[s,i]=o.geometry.coordinates;c=N(s),h=X(i)}const u={type:1,geometry:[[Math.round(this.options.extent*(c*i-o)),Math.round(this.options.extent*(h*i-s))]],tags:l};let d;d=a||this.options.generateId?t[e+z]:this.points[t[e+z]].id,void 0!==d&&(u.id=d),n.features.push(u)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const{radius:o,extent:s,reduce:i,minPoints:n}=this.options,r=o/(s*Math.pow(2,t)),a=e.data,l=[],c=this.stride;for(let o=0;o<a.length;o+=c){if(a[o+2]<=t)continue;a[o+2]=t;const s=a[o],h=a[o+1],u=e.within(a[o],a[o+1],r),d=a[o+A];let f=d;for(const e of u){const o=e*c;a[o+2]>t&&(f+=a[o+A])}if(f>d&&f>=n){let e,n=s*d,r=h*d,p=-1;const g=(o/c<<5)+(t+1)+this.points.length;for(const s of u){const l=s*c;if(a[l+2]<=t)continue;a[l+2]=t;const h=a[l+A];n+=a[l]*h,r+=a[l+1]*h,a[l+4]=g,i&&(e||(e=this._map(a,o,!0),p=this.clusterProps.length,this.clusterProps.push(e)),i(e,this._map(a,l)))}a[o+4]=g,l.push(n/f,r/f,1/0,g,-1,f),i&&l.push(p)}else{for(let e=0;e<c;e++)l.push(a[o+e]);if(f>1)for(const e of u){const o=e*c;if(!(a[o+2]<=t)){a[o+2]=t;for(let e=0;e<c;e++)l.push(a[o+e])}}}}return l}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,o){if(e[t+A]>1){const s=this.clusterProps[e[t+Z]];return o?Object.assign({},s):s}const s=this.points[e[t+z]].properties,i=this.options.map(s);return o&&i===s?Object.assign({},i):i}}function F(e,t,o){return{type:"Feature",id:e[t+z],properties:Y(e,t,o),geometry:{type:"Point",coordinates:[(s=e[t],360*(s-.5)),W(e[t+1])]}};var s}function Y(e,t,o){const s=e[t+A],i=s>=1e4?`${Math.round(s/1e3)}k`:s>=1e3?Math.round(s/100)/10+"k":s,n=e[t+Z],r=-1===n?{}:Object.assign({},o[n]);return Object.assign(r,{cluster:!0,cluster_id:e[t+z],point_count:s,point_count_abbreviated:i})}function N(e){return e/360+.5}function X(e){const t=Math.sin(e*Math.PI/180),o=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return o<0?0:o>1?1:o}function W(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function G(e,t,o,s){let i=s;const n=t+(o-t>>1);let r,a=o-t;const l=e[t],c=e[t+1],h=e[o],u=e[o+1];for(let s=t+3;s<o;s+=3){const t=B(e[s],e[s+1],l,c,h,u);if(t>i)r=s,i=t;else if(t===i){const e=Math.abs(s-n);e<a&&(r=s,a=e)}}i>s&&(r-t>3&&G(e,t,r,s),e[r+2]=i,o-r>3&&G(e,r,o,s))}function B(e,t,o,s,i,n){let r=i-o,a=n-s;if(0!==r||0!==a){const l=((e-o)*r+(t-s)*a)/(r*r+a*a);l>1?(o=i,s=n):l>0&&(o+=r*l,s+=a*l)}return r=e-o,a=t-s,r*r+a*a}function J(e,t,o,s){const i={id:e??null,type:t,geometry:o,tags:s,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if("Point"===t||"MultiPoint"===t||"LineString"===t)R(i,o);else if("Polygon"===t)R(i,o[0]);else if("MultiLineString"===t)for(const e of o)R(i,e);else if("MultiPolygon"===t)for(const e of o)R(i,e[0]);return i}function R(e,t){for(let o=0;o<t.length;o+=3)e.minX=Math.min(e.minX,t[o]),e.minY=Math.min(e.minY,t[o+1]),e.maxX=Math.max(e.maxX,t[o]),e.maxY=Math.max(e.maxY,t[o+1])}function V(e,t,o,s){if(!t.geometry)return;const i=t.geometry.coordinates;if(i&&0===i.length)return;const n=t.geometry.type,r=Math.pow(o.tolerance/((1<<o.maxZoom)*o.extent),2);let a=[],l=t.id;if(o.promoteId?l=t.properties[o.promoteId]:o.generateId&&(l=s||0),"Point"===n)$(i,a);else if("MultiPoint"===n)for(const e of i)$(e,a);else if("LineString"===n)q(i,a,r,!1);else if("MultiLineString"===n){if(o.lineMetrics){for(const o of i)a=[],q(o,a,r,!1),e.push(J(l,"LineString",a,t.properties));return}U(i,a,r,!1)}else if("Polygon"===n)U(i,a,r,!0);else{if("MultiPolygon"!==n){if("GeometryCollection"===n){for(const i of t.geometry.geometries)V(e,{id:l,geometry:i,properties:t.properties},o,s);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const e of i){const t=[];U(e,t,r,!0),a.push(t)}}e.push(J(l,n,a,t.properties))}function $(e,t){t.push(K(e[0]),Q(e[1]),0)}function q(e,t,o,s){let i,n,r=0;for(let o=0;o<e.length;o++){const a=K(e[o][0]),l=Q(e[o][1]);t.push(a,l,0),o>0&&(r+=s?(i*l-a*n)/2:Math.sqrt(Math.pow(a-i,2)+Math.pow(l-n,2))),i=a,n=l}const a=t.length-3;t[2]=1,G(t,0,a,o),t[a+2]=1,t.size=Math.abs(r),t.start=0,t.end=t.size}function U(e,t,o,s){for(let i=0;i<e.length;i++){const n=[];q(e[i],n,o,s),t.push(n)}}function K(e){return e/360+.5}function Q(e){const t=Math.sin(e*Math.PI/180),o=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return o<0?0:o>1?1:o}function H(e,t,o,s,i,n,r,a){if(s/=t,n>=(o/=t)&&r<s)return e;if(r<o||n>=s)return null;const l=[];for(const t of e){const e=t.geometry;let n=t.type;const r=0===i?t.minX:t.minY,c=0===i?t.maxX:t.maxY;if(r>=o&&c<s){l.push(t);continue}if(c<o||r>=s)continue;let h=[];if("Point"===n||"MultiPoint"===n)ee(e,h,o,s,i);else if("LineString"===n)te(e,h,o,s,i,!1,a.lineMetrics);else if("MultiLineString"===n)se(e,h,o,s,i,!1);else if("Polygon"===n)se(e,h,o,s,i,!0);else if("MultiPolygon"===n)for(const t of e){const e=[];se(t,e,o,s,i,!0),e.length&&h.push(e)}if(h.length){if(a.lineMetrics&&"LineString"===n){for(const e of h)l.push(J(t.id,n,e,t.tags));continue}"LineString"!==n&&"MultiLineString"!==n||(1===h.length?(n="LineString",h=h[0]):n="MultiLineString"),"Point"!==n&&"MultiPoint"!==n||(n=3===h.length?"Point":"MultiPoint"),l.push(J(t.id,n,h,t.tags))}}return l.length?l:null}function ee(e,t,o,s,i){for(let n=0;n<e.length;n+=3){const r=e[n+i];r>=o&&r<=s&&ie(t,e[n],e[n+1],e[n+2])}}function te(e,t,o,s,i,n,r){let a=oe(e);const l=0===i?ne:re;let c,h,u=e.start;for(let d=0;d<e.length-3;d+=3){const f=e[d],p=e[d+1],g=e[d+2],m=e[d+3],y=e[d+4],x=0===i?f:p,w=0===i?m:y;let b=!1;r&&(c=Math.sqrt(Math.pow(f-m,2)+Math.pow(p-y,2))),x<o?w>o&&(h=l(a,f,p,m,y,o),r&&(a.start=u+c*h)):x>s?w<s&&(h=l(a,f,p,m,y,s),r&&(a.start=u+c*h)):ie(a,f,p,g),w<o&&x>=o&&(h=l(a,f,p,m,y,o),b=!0),w>s&&x<=s&&(h=l(a,f,p,m,y,s),b=!0),!n&&b&&(r&&(a.end=u+c*h),t.push(a),a=oe(e)),r&&(u+=c)}let d=e.length-3;const f=e[d],p=e[d+1],g=0===i?f:p;g>=o&&g<=s&&ie(a,f,p,e[d+2]),d=a.length-3,n&&d>=3&&(a[d]!==a[0]||a[d+1]!==a[1])&&ie(a,a[0],a[1],a[2]),a.length&&t.push(a)}function oe(e){const t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function se(e,t,o,s,i,n){for(const r of e)te(r,t,o,s,i,n,!1)}function ie(e,t,o,s){e.push(t,o,s)}function ne(e,t,o,s,i,n){const r=(n-t)/(s-t);return ie(e,n,o+(i-o)*r,1),r}function re(e,t,o,s,i,n){const r=(n-o)/(i-o);return ie(e,t+(s-t)*r,n,1),r}function ae(e,t){const o=[];for(let s=0;s<e.length;s++){const i=e[s],n=i.type;let r;if("Point"===n||"MultiPoint"===n||"LineString"===n)r=le(i.geometry,t);else if("MultiLineString"===n||"Polygon"===n){r=[];for(const e of i.geometry)r.push(le(e,t))}else if("MultiPolygon"===n){r=[];for(const e of i.geometry){const o=[];for(const s of e)o.push(le(s,t));r.push(o)}}o.push(J(i.id,n,r,i.tags))}return o}function le(e,t){const o=[];o.size=e.size,void 0!==e.start&&(o.start=e.start,o.end=e.end);for(let s=0;s<e.length;s+=3)o.push(e[s]+t,e[s+1],e[s+2]);return o}function ce(e,t){if(e.transformed)return e;const o=1<<e.z,s=e.x,i=e.y;for(const n of e.features){const e=n.geometry,r=n.type;if(n.geometry=[],1===r)for(let r=0;r<e.length;r+=2)n.geometry.push(he(e[r],e[r+1],t,o,s,i));else for(let r=0;r<e.length;r++){const a=[];for(let n=0;n<e[r].length;n+=2)a.push(he(e[r][n],e[r][n+1],t,o,s,i));n.geometry.push(a)}}return e.transformed=!0,e}function he(e,t,o,s,i,n){return[Math.round(o*(e*s-i)),Math.round(o*(t*s-n))]}function ue(e,t,o,s,i){const n=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),r={features:[],numPoints:0,numSimplified:0,numFeatures:e.length,source:null,x:o,y:s,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const t of e)de(r,t,n,i);return r}function de(e,t,o,s){const i=t.geometry,n=t.type,r=[];if(e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),"Point"===n||"MultiPoint"===n)for(let t=0;t<i.length;t+=3)r.push(i[t],i[t+1]),e.numPoints++,e.numSimplified++;else if("LineString"===n)fe(r,i,e,o,!1,!1);else if("MultiLineString"===n||"Polygon"===n)for(let t=0;t<i.length;t++)fe(r,i[t],e,o,"Polygon"===n,0===t);else if("MultiPolygon"===n)for(let t=0;t<i.length;t++){const s=i[t];for(let t=0;t<s.length;t++)fe(r,s[t],e,o,!0,0===t)}if(r.length){let o=t.tags||null;if("LineString"===n&&s.lineMetrics){o={};for(const e in t.tags)o[e]=t.tags[e];o.mapbox_clip_start=i.start/i.size,o.mapbox_clip_end=i.end/i.size}const a={geometry:r,type:"Polygon"===n||"MultiPolygon"===n?3:"LineString"===n||"MultiLineString"===n?2:1,tags:o};null!==t.id&&(a.id=t.id),e.features.push(a)}}function fe(e,t,o,s,i,n){const r=s*s;if(s>0&&t.size<(i?r:s))return void(o.numPoints+=t.length/3);const a=[];for(let e=0;e<t.length;e+=3)(0===s||t[e+2]>r)&&(o.numSimplified++,a.push(t[e],t[e+1])),o.numPoints++;i&&function(e,t){let o=0;for(let t=0,s=e.length,i=s-2;t<s;i=t,t+=2)o+=(e[t]-e[i])*(e[t+1]+e[i+1]);if(o>0===t)for(let t=0,o=e.length;t<o/2;t+=2){const s=e[t],i=e[t+1];e[t]=e[o-2-t],e[t+1]=e[o-1-t],e[o-2-t]=s,e[o-1-t]=i}}(a,n),e.push(a)}const pe={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class ge{constructor(e,t){const o=(t=this.options=function(e,t){for(const o in t)e[o]=t[o];return e}(Object.create(pe),t)).debug;if(o&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");let s=function(e,t){const o=[];if("FeatureCollection"===e.type)for(let s=0;s<e.features.length;s++)V(o,e.features[s],t,s);else V(o,"Feature"===e.type?e:{geometry:e},t);return o}(e,t);this.tiles={},this.tileCoords=[],o&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),s=function(e,t){const o=t.buffer/t.extent;let s=e;const i=H(e,1,-1-o,o,0,-1,2,t),n=H(e,1,1-o,2+o,0,-1,2,t);return(i||n)&&(s=H(e,1,-o,1+o,0,-1,2,t)||[],i&&(s=ae(i,1).concat(s)),n&&(s=s.concat(ae(n,-1)))),s}(s,t),s.length&&this.splitTile(s,0,0,0),o&&(s.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(e,t,o,s,i,n,r){const a=[e,t,o,s],l=this.options,c=l.debug;for(;a.length;){s=a.pop(),o=a.pop(),t=a.pop(),e=a.pop();const h=1<<t,u=me(t,o,s);let d=this.tiles[u];if(!d&&(c>1&&console.time("creation"),d=this.tiles[u]=ue(e,t,o,s,l),this.tileCoords.push({z:t,x:o,y:s}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,o,s,d.numFeatures,d.numPoints,d.numSimplified),console.timeEnd("creation"));const e=`z${t}`;this.stats[e]=(this.stats[e]||0)+1,this.total++}if(d.source=e,null==i){if(t===l.indexMaxZoom||d.numPoints<=l.indexMaxPoints)continue}else{if(t===l.maxZoom||t===i)continue;if(null!=i){const e=i-t;if(o!==n>>e||s!==r>>e)continue}}if(d.source=null,0===e.length)continue;c>1&&console.time("clipping");const f=.5*l.buffer/l.extent,p=.5-f,g=.5+f,m=1+f;let y=null,x=null,w=null,b=null,S=H(e,h,o-f,o+g,0,d.minX,d.maxX,l),v=H(e,h,o+p,o+m,0,d.minX,d.maxX,l);e=null,S&&(y=H(S,h,s-f,s+g,1,d.minY,d.maxY,l),x=H(S,h,s+p,s+m,1,d.minY,d.maxY,l),S=null),v&&(w=H(v,h,s-f,s+g,1,d.minY,d.maxY,l),b=H(v,h,s+p,s+m,1,d.minY,d.maxY,l),v=null),c>1&&console.timeEnd("clipping"),a.push(y||[],t+1,2*o,2*s),a.push(x||[],t+1,2*o,2*s+1),a.push(w||[],t+1,2*o+1,2*s),a.push(b||[],t+1,2*o+1,2*s+1)}}getTile(e,t,o){e=+e,t=+t,o=+o;const s=this.options,{extent:i,debug:n}=s;if(e<0||e>24)return null;const r=1<<e,a=me(e,t=t+r&r-1,o);if(this.tiles[a])return ce(this.tiles[a],i);n>1&&console.log("drilling down to z%d-%d-%d",e,t,o);let l,c=e,h=t,u=o;for(;!l&&c>0;)c--,h>>=1,u>>=1,l=this.tiles[me(c,h,u)];return l&&l.source?(n>1&&(console.log("found parent tile z%d-%d-%d",c,h,u),console.time("drilling down")),this.splitTile(l.source,c,h,u,e,t,o),n>1&&console.timeEnd("drilling down"),this.tiles[a]?ce(this.tiles[a],i):null):null}}function me(e,t,o){return 32*((1<<e)*o+t)+e}function ye(e,t){const o=e.tileID.canonical;if(!this._geoJSONIndex)return void t(null,null);const s=this._geoJSONIndex.getTile(o.z,o.x,o.y);if(!s)return void t(null,null);const i=new p(s.features);let n=L(i);0===n.byteOffset&&n.byteLength===n.buffer.byteLength||(n=new Uint8Array(n)),t(null,{vectorTile:i,rawData:n.buffer})}class xe extends c{constructor(e,t,o,s,i,n){super(e,t,o,s,ye,n),i&&(this.loadGeoJSON=i),this._dynamicIndex=new y}loadData(o,s){const i=o&&o.request,n=i&&i.collectResourceTiming;this.loadGeoJSON(o,((r,a)=>{if(r||!a)return s(r);if("object"!=typeof a)return s(new Error(`Input data given to '${o.source}' is not a valid GeoJSON object.`));{try{if(o.filter){const t=e.M(o.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===t.result)throw new Error(t.value.map((e=>`${e.key}: ${e.message}`)).join(", "));a.features=a.features.filter((e=>t.value.evaluate({zoom:0},e)))}o.dynamic?("Feature"===a.type&&(a={type:"FeatureCollection",features:[a]}),o.append||(this._dynamicIndex.clear(),this.loaded={}),this._dynamicIndex.load(a.features,this.loaded),o.cluster&&(a.features=this._dynamicIndex.getFeatures())):this.loaded={},this._geoJSONIndex=o.cluster?new E(function({superclusterOptions:t,clusterProperties:o}){if(!o||!t)return t;const s={},i={},n={accumulated:null,zoom:0},r={properties:null},a=Object.keys(o);for(const t of a){const[n,r]=o[t],a=e.M(r),l=e.M("string"==typeof n?[n,["accumulated"],["get",t]]:n);s[t]=a.value,i[t]=l.value}return t.map=e=>{r.properties=e;const t={};for(const e of a)t[e]=s[e].evaluate(n,r);return t},t.reduce=(e,t)=>{r.properties=t;for(const t of a)n.accumulated=e[t],e[t]=i[t].evaluate(n,r)},t}(o)).load(a.features):o.dynamic?this._dynamicIndex:function(e,t){return new ge(e,t)}(a,o.geojsonVtOptions)}catch(e){return s(e)}const r={};if(n){const e=t(i);e&&(r.resourceTiming={},r.resourceTiming[o.source]=JSON.parse(JSON.stringify(e)))}s(null,r)}}))}reloadTile(e,t){const o=this.loaded;return o&&o[e.uid]?e.partial?t(null,void 0):super.reloadTile(e,t):this.loadTile(e,t)}loadGeoJSON(t,o){if(t.request)e.n(t.request,o);else{if("string"!=typeof t.data)return o(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));try{return o(null,JSON.parse(t.data))}catch(e){return o(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}}getClusterChildren(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}}getClusterLeaves(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}}}class we{constructor(t,o){this.tileID=new e.aA(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.tileZoom=t.tileZoom,this.uid=t.uid,this.zoom=t.zoom,this.canonical=t.tileID.canonical,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.projection=t.projection,this.brightness=o}parse(t,o,s,i){this.status="parsing";const n=new e.aA(s.tileID.overscaledZ,s.tileID.wrap,s.tileID.canonical.z,s.tileID.canonical.x,s.tileID.canonical.y),r={},a=o.familiesBySource[s.source],l=new e.dR(n,s.promoteId);return l.bucketLayerIDs=[],l.is3DTile=!0,e.e0(t).then((t=>{if(!t)return i(new Error("Could not parse tile"));const o=e.e1(t,1/e.c8(s.tileID.canonical)),c=t.json.extensionsUsed&&t.json.extensionsUsed.includes("MAPBOX_mesh_features")||t.json.asset.extras&&t.json.asset.extras.MAPBOX_mesh_features,h=t.json.extensionsUsed&&t.json.extensionsUsed.includes("EXT_meshopt_compression"),u=new e.a3(this.zoom,{brightness:this.brightness});for(const t in a)for(const s of a[t]){const t=s[0];l.bucketLayerIDs.push(s.map((e=>e.id))),t.recalculate(u,[]);const i=new e.e2(o,n,c,h,this.brightness,l);c||(i.needsUpload=!0),r[t.fqid]=i,i.evaluate(t)}this.status="done",i(null,{buckets:r,featureIndex:l})})).catch((e=>i(new Error(e.message))))}}class be{constructor(e,t,o,s,i,n){this.actor=e,this.layerIndex=t,this.brightness=n,this.loading={},this.loaded={}}loadTile(t,o){const s=t.uid,i=this.loading[s]=new we(t,this.brightness);e.bc(t.request,((e,n)=>{const r=!this.loading[s];return delete this.loading[s],r||e?(i.status="done",r||(this.loaded[s]=i),o(e)):n&&0!==n.byteLength?void i.parse(n,this.layerIndex,t,((e,t)=>{i.status="done",this.loaded=this.loaded||{},this.loaded[s]=i,e||!t?o(e):o(null,t)})):(i.status="done",this.loaded[s]=i,o())}))}reloadTile(e,t){const o=this.loaded,s=e.uid;if(o&&o[s]){const i=o[s];i.projection=e.projection,i.brightness=e.brightness;const n=(o,s)=>{i.reloadCallback&&(delete i.reloadCallback,this.loadTile(e,t)),t(o,s)};"parsing"===i.status?i.reloadCallback=n:"done"===i.status&&this.loadTile(e,t)}}abortTile(e,t){const o=e.uid;this.loading[o]&&delete this.loading[o],t()}removeTile(e,t){const o=this.loaded,s=e.uid;o&&o[s]&&delete o[s],t()}}class Se{constructor(t){this.self=t,this.actor=new e.e3(t,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=e.bL({name:"mercator"}),this.workerSourceTypes={vector:c,geojson:xe,"batched-model":be},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(e,t)=>{if(this.workerSourceTypes[e])throw new Error(`Worker source with name "${e}" already registered.`);this.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=t=>{if(e.e4.isParsed())throw new Error("RTL text plugin already registered.");e.e4.applyArabicShaping=t.applyArabicShaping,e.e4.processBidirectionalText=t.processBidirectionalText,e.e4.processStyledBidirectionalText=t.processStyledBidirectionalText}}clearCaches(e,t,o){delete this.layerIndexes[e],delete this.availableImages[e],delete this.workerSources[e],delete this.demWorkerSources[e],delete this.rasterArrayWorkerSource,o()}checkIfReady(e,t,o){o()}setReferrer(e,t){this.referrer=t}spriteLoaded(t,{scope:o,isLoaded:s}){if(this.isSpriteLoaded[t]||(this.isSpriteLoaded[t]={}),this.isSpriteLoaded[t][o]=s,this.workerSources[t]&&this.workerSources[t][o])for(const i in this.workerSources[t][o]){const n=this.workerSources[t][o][i];for(const t in n){const o=n[t];o instanceof c&&(o.isSpriteLoaded=s,o.fire(new e.x("isSpriteLoaded")))}}}setImages(e,{scope:t,images:o},s){if(this.availableImages[e]||(this.availableImages[e]={}),this.availableImages[e][t]=o,this.workerSources[e]&&this.workerSources[e][t]){for(const s in this.workerSources[e][t]){const i=this.workerSources[e][t][s];for(const e in i)i[e].availableImages=o}s()}else s()}setProjection(t,o){this.projections[t]=e.bL(o)}setBrightness(e,t,o){this.brightness=t,o()}setLayers(e,t,o){this.getLayerIndex(e,t.scope).replace(t.layers,t.options),o()}updateLayers(e,t,o){this.getLayerIndex(e,t.scope).update(t.layers,t.removedIds,t.options),o()}loadTile(e,t,o){t.projection=this.projections[e]||this.defaultProjection,this.getWorkerSource(e,t.type,t.source,t.scope).loadTile(t,o)}loadDEMTile(e,t,o){this.getDEMWorkerSource(e,t.source,t.scope).loadTile(t,o)}decodeRasterArray(e,t,o){this.getRasterArrayWorkerSource().decodeRasterArray(t,o)}reloadTile(e,t,o){t.projection=this.projections[e]||this.defaultProjection,this.getWorkerSource(e,t.type,t.source,t.scope).reloadTile(t,o)}abortTile(e,t,o){this.getWorkerSource(e,t.type,t.source,t.scope).abortTile(t,o)}removeTile(e,t,o){this.getWorkerSource(e,t.type,t.source,t.scope).removeTile(t,o)}removeSource(e,t,o){if(!(this.workerSources[e]&&this.workerSources[e][t.scope]&&this.workerSources[e][t.scope][t.type]&&this.workerSources[e][t.scope][t.type][t.source]))return;const s=this.workerSources[e][t.scope][t.type][t.source];delete this.workerSources[e][t.scope][t.type][t.source],void 0!==s.removeSource?s.removeSource(t,o):o()}loadWorkerSource(e,t,o){try{this.self.importScripts(t.url),o()}catch(e){o(e.toString())}}syncRTLPluginState(t,o,s){try{e.e4.setState(o);const t=e.e4.getPluginURL();if(e.e4.isLoaded()&&!e.e4.isParsed()&&null!=t){this.self.importScripts(t);const o=e.e4.isParsed();s(o?void 0:new Error(`RTL Text Plugin failed to import scripts from ${t}`),o)}}catch(e){s(e.toString())}}setDracoUrl(e,t){this.dracoUrl=t}getAvailableImages(e,t){this.availableImages[e]||(this.availableImages[e]={});let o=this.availableImages[e][t];return o||(o=[]),o}getLayerIndex(e,t){this.layerIndexes[e]||(this.layerIndexes[e]={});let o=this.layerIndexes[e][t];return o||(o=this.layerIndexes[e][t]=new i,o.scope=t),o}getWorkerSource(e,t,o,s){return this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][s]||(this.workerSources[e][s]={}),this.workerSources[e][s][t]||(this.workerSources[e][s][t]={}),this.isSpriteLoaded[e]||(this.isSpriteLoaded[e]={}),this.workerSources[e][s][t][o]||(this.workerSources[e][s][t][o]=new this.workerSourceTypes[t]({send:(t,o,s,i,n,r)=>{this.actor.send(t,o,s,e,n,r)},scheduler:this.actor.scheduler},this.getLayerIndex(e,s),this.getAvailableImages(e,s),this.isSpriteLoaded[e][s],void 0,this.brightness)),this.workerSources[e][s][t][o]}getDEMWorkerSource(e,t,o){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][o]||(this.demWorkerSources[e][o]={}),this.demWorkerSources[e][o][t]||(this.demWorkerSources[e][o][t]=new h),this.demWorkerSources[e][o][t]}getRasterArrayWorkerSource(){return this.rasterArrayWorkerSource||(this.rasterArrayWorkerSource=new u),this.rasterArrayWorkerSource}enforceCacheSizeLimit(t,o){e.e5(o)}getWorkerPerformanceMetrics(e,t,o){o(void 0,void 0)}}return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new Se(self)),Se}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid29ya2VyLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvdXRpbC9wZXJmb3JtYW5jZS50cyIsIi4uLy4uLy4uL3NyYy9zdHlsZS1zcGVjL2dyb3VwX2J5X2xheW91dC50cyIsIi4uLy4uLy4uL3NyYy9zdHlsZS9zdHlsZV9sYXllcl9pbmRleC50cyIsIi4uLy4uLy4uL3NyYy9yZW5kZXIvZ2x5cGhfYXRsYXMudHMiLCIuLi8uLi8uLi9zcmMvc291cmNlL3dvcmtlcl90aWxlLnRzIiwiLi4vLi4vLi4vc3JjL3NvdXJjZS92ZWN0b3JfdGlsZV93b3JrZXJfc291cmNlLnRzIiwiLi4vLi4vLi4vc3JjL3NvdXJjZS9yYXN0ZXJfZGVtX3RpbGVfd29ya2VyX3NvdXJjZS50cyIsIi4uLy4uLy4uL3NyYy9zb3VyY2UvcmFzdGVyX2FycmF5X3RpbGVfd29ya2VyX3NvdXJjZS50cyIsIi4uLy4uLy4uL3NyYy9zb3VyY2UvZ2VvanNvbl93cmFwcGVyLnRzIiwiLi4vLi4vLi4vc3JjL3NvdXJjZS9nZW9qc29uX3J0LnRzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z0LXBiZi9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy92dC1wYmYvbGliL2dlb2pzb25fd3JhcHBlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdXBlcmNsdXN0ZXIvaW5kZXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZ2VvanNvbi12dC9zcmMvc2ltcGxpZnkuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZ2VvanNvbi12dC9zcmMvZmVhdHVyZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9nZW9qc29uLXZ0L3NyYy9jb252ZXJ0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2dlb2pzb24tdnQvc3JjL2NsaXAuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZ2VvanNvbi12dC9zcmMvd3JhcC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9nZW9qc29uLXZ0L3NyYy90cmFuc2Zvcm0uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZ2VvanNvbi12dC9zcmMvdGlsZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9nZW9qc29uLXZ0L3NyYy9pbmRleC5qcyIsIi4uLy4uLy4uL3NyYy9zb3VyY2UvZ2VvanNvbl93b3JrZXJfc291cmNlLnRzIiwiLi4vLi4vLi4vM2Qtc3R5bGUvc291cmNlL3RpbGVkXzNkX21vZGVsX3dvcmtlcl9zb3VyY2UudHMiLCIuLi8uLi8uLi9zcmMvc291cmNlL3dvcmtlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2lzV29ya2VyfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuaW1wb3J0IHtMaXZlUGVyZm9ybWFuY2VNYXJrZXJzfSBmcm9tICcuLi91dGlsL2xpdmVfcGVyZm9ybWFuY2UnO1xuXG5pbXBvcnQgdHlwZSB7UmVxdWVzdFBhcmFtZXRlcnN9IGZyb20gJy4uL3V0aWwvYWpheCc7XG5cbmV4cG9ydCBjb25zdCBQZXJmb3JtYW5jZU1hcmtlcnMgPSB7XG4gICAgbGlicmFyeUV2YWx1YXRlOiAnbGlicmFyeS1ldmFsdWF0ZScsXG4gICAgZnJhbWVHUFU6ICdmcmFtZS1ncHUnLFxuICAgIGZyYW1lOiAnZnJhbWUnXG59IGFzIGNvbnN0O1xuXG5leHBvcnQgdHlwZSBQZXJmb3JtYW5jZU1hcmtlciA9XG4gICAgdHlwZW9mIFBlcmZvcm1hbmNlTWFya2Vyc1trZXlvZiB0eXBlb2YgUGVyZm9ybWFuY2VNYXJrZXJzXSB8XG4gICAgdHlwZW9mIExpdmVQZXJmb3JtYW5jZU1hcmtlcnNba2V5b2YgdHlwZW9mIExpdmVQZXJmb3JtYW5jZU1hcmtlcnNdO1xuXG5leHBvcnQgdHlwZSBQZXJmb3JtYW5jZU1ldHJpY3MgPSB7XG4gICAgbG9hZFRpbWU6IG51bWJlcjtcbiAgICBmdWxsTG9hZFRpbWU6IG51bWJlcjtcbiAgICBwZXJjZW50RHJvcHBlZEZyYW1lczogbnVtYmVyO1xuICAgIHBhcnNlVGlsZTogbnVtYmVyO1xuICAgIHBhcnNlVGlsZTE6IG51bWJlcjtcbiAgICBwYXJzZVRpbGUyOiBudW1iZXI7XG4gICAgd29ya2VyVGFzazogbnVtYmVyO1xuICAgIHdvcmtlckluaXRpYWxpemF0aW9uOiBudW1iZXI7XG4gICAgd29ya2VyRXZhbHVhdGVTY3JpcHQ6IG51bWJlcjtcbiAgICB3b3JrZXJJZGxlOiBudW1iZXI7XG4gICAgd29ya2VySWRsZVBlcmNlbnQ6IG51bWJlcjtcbiAgICBwbGFjZW1lbnRUaW1lOiBudW1iZXI7XG4gICAgdGltZWxpbmVzOiBBcnJheTxhbnk+O1xufTtcblxuZXhwb3J0IHR5cGUgV29ya2VyUGVyZm9ybWFuY2VNZXRyaWNzID0ge1xuICAgIHRpbWVPcmlnaW46IG51bWJlcjtcbiAgICBlbnRyaWVzOiBBcnJheTxQZXJmb3JtYW5jZUVudHJ5ICYgUGVyZm9ybWFuY2VNYXJrT3B0aW9ucz47XG4gICAgc2NvcGU6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIFBlcmZvcm1hbmNlTWFyayA9IHtcbiAgICBtYXJrOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xufTtcblxuZXhwb3J0IHR5cGUgUGVyZm9ybWFuY2VNYXJrRGV0YWlsID0ge1xuICAgIGdwdVRpbWU/OiBudW1iZXI7XG4gICAgY3B1VGltZT86IG51bWJlcjtcbiAgICB0aW1lc3RhbXA/OiBudW1iZXJcbiAgICBpc1JlbmRlckZyYW1lPzogYm9vbGVhbjtcbn07XG5cbnR5cGUgUGVyZm9ybWFuY2VNYXJrT3B0aW9ucyA9IHtcbiAgICBkZXRhaWw/OiBQZXJmb3JtYW5jZU1hcmtEZXRhaWw7XG4gICAgc3RhcnRUaW1lPzogbnVtYmVyO1xufTtcblxubGV0IGZ1bGxMb2FkRmluaXNoZWQgPSBmYWxzZTtcbmxldCBwbGFjZW1lbnRUaW1lID0gMDtcblxuZXhwb3J0IGNvbnN0IFBlcmZvcm1hbmNlVXRpbHMgPSB7XG4gICAgbWFyayhtYXJrZXI6IFBlcmZvcm1hbmNlTWFya2VyLCBtYXJrT3B0aW9ucz86IFBlcmZvcm1hbmNlTWFya09wdGlvbnMpIHtcbiAgICAgICAgcGVyZm9ybWFuY2UubWFyayhtYXJrZXIsIG1hcmtPcHRpb25zKTtcblxuICAgICAgICBpZiAobWFya2VyID09PSBMaXZlUGVyZm9ybWFuY2VNYXJrZXJzLmZ1bGxMb2FkKSB7XG4gICAgICAgICAgICBmdWxsTG9hZEZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbWVhc3VyZShuYW1lOiBzdHJpbmcsIGJlZ2luPzogc3RyaW5nLCBlbmQ/OiBzdHJpbmcpIHtcbiAgICAgICAgcGVyZm9ybWFuY2UubWVhc3VyZShuYW1lLCBiZWdpbiwgZW5kKTtcbiAgICB9LFxuICAgIGJlZ2luTWVhc3VyZShuYW1lOiBzdHJpbmcpOiBQZXJmb3JtYW5jZU1hcmsge1xuICAgICAgICBjb25zdCBtYXJrID0gbmFtZTtcbiAgICAgICAgcGVyZm9ybWFuY2UubWFyayhtYXJrKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1hcmssXG4gICAgICAgICAgICBuYW1lXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBlbmRNZWFzdXJlKG06IFBlcmZvcm1hbmNlTWFyaykge1xuICAgICAgICBwZXJmb3JtYW5jZS5tZWFzdXJlKG0ubmFtZSwgbS5tYXJrKTtcbiAgICB9LFxuICAgIHJlY29yZFBsYWNlbWVudFRpbWUodGltZTogbnVtYmVyKSB7XG4gICAgICAgIC8vIElnbm9yZSBwbGFjZW1lbnRUaW1lcyBkdXJpbmcgbG9hZGluZ1xuICAgICAgICBpZiAoIWZ1bGxMb2FkRmluaXNoZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHBsYWNlbWVudFRpbWUgKz0gdGltZTtcbiAgICB9LFxuICAgIGZyYW1lKHRpbWVzdGFtcDogbnVtYmVyLCBpc1JlbmRlckZyYW1lOiBib29sZWFuKSB7XG4gICAgICAgIHBlcmZvcm1hbmNlLm1hcmsoUGVyZm9ybWFuY2VNYXJrZXJzLmZyYW1lLCB7XG4gICAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgaXNSZW5kZXJGcmFtZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGNsZWFyTWV0cmljcygpIHtcbiAgICAgICAgcGxhY2VtZW50VGltZSA9IDA7XG4gICAgICAgIGZ1bGxMb2FkRmluaXNoZWQgPSBmYWxzZTtcblxuICAgICAgICBwZXJmb3JtYW5jZS5jbGVhck1lYXN1cmVzKCdsb2FkVGltZScpO1xuICAgICAgICBwZXJmb3JtYW5jZS5jbGVhck1lYXN1cmVzKCdmdWxsTG9hZFRpbWUnKTtcblxuICAgICAgICBmb3IgKGNvbnN0IG1hcmtlciBpbiBMaXZlUGVyZm9ybWFuY2VNYXJrZXJzKSB7XG4gICAgICAgICAgICBwZXJmb3JtYW5jZS5jbGVhck1hcmtzKExpdmVQZXJmb3JtYW5jZU1hcmtlcnNbbWFya2VyXSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgZ2V0UGVyZm9ybWFuY2VNZXRyaWNzKCk6IFBlcmZvcm1hbmNlTWV0cmljcyB7XG4gICAgICAgIGNvbnN0IG1ldHJpY3M6IFBhcnRpYWw8UGVyZm9ybWFuY2VNZXRyaWNzPiA9IHt9O1xuXG4gICAgICAgIHBlcmZvcm1hbmNlLm1lYXN1cmUoJ2xvYWRUaW1lJywgTGl2ZVBlcmZvcm1hbmNlTWFya2Vycy5jcmVhdGUsIExpdmVQZXJmb3JtYW5jZU1hcmtlcnMubG9hZCk7XG4gICAgICAgIHBlcmZvcm1hbmNlLm1lYXN1cmUoJ2Z1bGxMb2FkVGltZScsIExpdmVQZXJmb3JtYW5jZU1hcmtlcnMuY3JlYXRlLCBMaXZlUGVyZm9ybWFuY2VNYXJrZXJzLmZ1bGxMb2FkKTtcblxuICAgICAgICBjb25zdCBtZWFzdXJlcyA9IHBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoJ21lYXN1cmUnKTtcbiAgICAgICAgZm9yIChjb25zdCBtZWFzdXJlIG9mIG1lYXN1cmVzKSB7XG4gICAgICAgICAgICBtZXRyaWNzW21lYXN1cmUubmFtZV0gPSAobWV0cmljc1ttZWFzdXJlLm5hbWVdIHx8IDApICsgbWVhc3VyZS5kdXJhdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIG1ldHJpY3MucGxhY2VtZW50VGltZSA9IHBsYWNlbWVudFRpbWU7XG5cbiAgICAgICAgcmV0dXJuIG1ldHJpY3MgYXMgUGVyZm9ybWFuY2VNZXRyaWNzO1xuICAgIH0sXG5cbiAgICBnZXRXb3JrZXJQZXJmb3JtYW5jZU1ldHJpY3MoKTogV29ya2VyUGVyZm9ybWFuY2VNZXRyaWNzIHtcbiAgICAgICAgY29uc3QgZW50cmllcyA9IHBlcmZvcm1hbmNlLmdldEVudHJpZXMoKS5tYXAoKGVudHJ5OiBQZXJmb3JtYW5jZUVudHJ5ICYgUGVyZm9ybWFuY2VNYXJrT3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZW50cnkudG9KU09OKCk7XG4gICAgICAgICAgICBpZiAoZW50cnkuZGV0YWlsKSBPYmplY3QuYXNzaWduKHJlc3VsdCwge2RldGFpbDogZW50cnkuZGV0YWlsfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2NvcGU6IGlzV29ya2VyKCkgPyAnV29ya2VyJyA6ICdXaW5kb3cnLFxuICAgICAgICAgICAgdGltZU9yaWdpbjogcGVyZm9ybWFuY2UudGltZU9yaWdpbixcbiAgICAgICAgICAgIGVudHJpZXNcbiAgICAgICAgfTtcbiAgICB9XG59IGFzIGNvbnN0O1xuXG5QZXJmb3JtYW5jZVV0aWxzLm1hcmsoUGVyZm9ybWFuY2VNYXJrZXJzLmxpYnJhcnlFdmFsdWF0ZSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQZXJmb3JtYW5jZU1lYXN1cmVtZW50KHJlcXVlc3Q/OiBSZXF1ZXN0UGFyYW1ldGVycyB8IG51bGwpOiBBcnJheTxQZXJmb3JtYW5jZUVudHJ5PiB7XG4gICAgY29uc3QgdXJsID0gcmVxdWVzdCA/IHJlcXVlc3QudXJsLnRvU3RyaW5nKCkgOiB1bmRlZmluZWQ7XG4gICAgaWYgKCF1cmwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICByZXR1cm4gcGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5TmFtZSh1cmwpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBwZXJmb3JtYW5jZTtcbiIsImltcG9ydCByZWZQcm9wZXJ0aWVzIGZyb20gJy4vdXRpbC9yZWZfcHJvcGVydGllcyc7XG5cbmltcG9ydCB0eXBlIHtMYXllclNwZWNpZmljYXRpb259IGZyb20gJy4vdHlwZXMnO1xuXG5mdW5jdGlvbiBzdHJpbmdpZnkob2JqOiBhbnkpIHtcbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ251bWJlcicgfHwgdHlwZW9mIG9iaiA9PT0gJ2Jvb2xlYW4nIHx8IHR5cGVvZiBvYmogPT09ICdzdHJpbmcnIHx8IG9iaiA9PT0gdW5kZWZpbmVkIHx8IG9iaiA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaik7XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgIGxldCBzdHIgPSAnWyc7XG4gICAgICAgIGZvciAoY29uc3QgdmFsIG9mIG9iaikge1xuICAgICAgICAgICAgc3RyICs9IGAke3N0cmluZ2lmeSh2YWwpfSxgO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgJHtzdHJ9XWA7XG4gICAgfVxuXG4gICAgbGV0IHN0ciA9ICd7JztcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhvYmopLnNvcnQoKSkge1xuICAgICAgICBzdHIgKz0gYCR7a2V5fToke3N0cmluZ2lmeSgob2JqKVtrZXldKX0sYDtcbiAgICB9XG4gICAgcmV0dXJuIGAke3N0cn19YDtcbn1cblxuZnVuY3Rpb24gZ2V0S2V5KGxheWVyOiBMYXllclNwZWNpZmljYXRpb24pIHtcbiAgICBsZXQga2V5ID0gJyc7XG4gICAgZm9yIChjb25zdCBrIG9mIHJlZlByb3BlcnRpZXMpIHtcbiAgICAgICAga2V5ICs9IGAvJHtzdHJpbmdpZnkoKGxheWVyIGFzIGFueSlba10pfWA7XG4gICAgfVxuICAgIHJldHVybiBrZXk7XG59XG5cbi8qKlxuICogR2l2ZW4gYW4gYXJyYXkgb2YgbGF5ZXJzLCByZXR1cm4gYW4gYXJyYXkgb2YgYXJyYXlzIG9mIGxheWVycyB3aGVyZSBhbGxcbiAqIGxheWVycyBpbiBlYWNoIGdyb3VwIGhhdmUgaWRlbnRpY2FsIGxheW91dC1hZmZlY3RpbmcgcHJvcGVydGllcy4gVGhlc2VcbiAqIGFyZSB0aGUgcHJvcGVydGllcyB0aGF0IHdlcmUgZm9ybWVybHkgdXNlZCBieSBleHBsaWNpdCBgcmVmYCBtZWNoYW5pc21cbiAqIGZvciBsYXllcnM6ICd0eXBlJywgJ3NvdXJjZScsICdzb3VyY2UtbGF5ZXInLCAnbWluem9vbScsICdtYXh6b29tJyxcbiAqICdmaWx0ZXInLCBhbmQgJ2xheW91dCcuXG4gKlxuICogVGhlIGlucHV0IGlzIG5vdCBtb2RpZmllZC4gVGhlIG91dHB1dCBsYXllcnMgYXJlIHJlZmVyZW5jZXMgdG8gdGhlXG4gKiBpbnB1dCBsYXllcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXk8TGF5ZXI+fSBsYXllcnNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbY2FjaGVkS2V5c10gLSBhbiBvYmplY3QgdG8ga2VlcCBhbHJlYWR5IGNhbGN1bGF0ZWQga2V5cy5cbiAqIEByZXR1cm5zIHtBcnJheTxBcnJheTxMYXllcj4+fVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBncm91cEJ5TGF5b3V0KFxuICAgIGxheWVyczogQXJyYXk8TGF5ZXJTcGVjaWZpY2F0aW9uPixcbiAgICBjYWNoZWRLZXlzOiB7XG4gICAgICAgIFtpZDogc3RyaW5nXTogc3RyaW5nO1xuICAgIH0sXG4pOiBBcnJheTxBcnJheTxMYXllclNwZWNpZmljYXRpb24+PiB7XG4gICAgY29uc3QgZ3JvdXBzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxheWVycy5sZW5ndGg7IGkrKykge1xuXG4gICAgICAgIGNvbnN0IGsgPSAoY2FjaGVkS2V5cyAmJiBjYWNoZWRLZXlzW2xheWVyc1tpXS5pZF0pIHx8IGdldEtleShsYXllcnNbaV0pO1xuICAgICAgICAvLyB1cGRhdGUgdGhlIGNhY2hlIGlmIHRoZXJlIGlzIG9uZVxuICAgICAgICBpZiAoY2FjaGVkS2V5cylcbiAgICAgICAgICAgIGNhY2hlZEtleXNbbGF5ZXJzW2ldLmlkXSA9IGs7XG5cbiAgICAgICAgbGV0IGdyb3VwID0gZ3JvdXBzW2tdO1xuICAgICAgICBpZiAoIWdyb3VwKSB7XG4gICAgICAgICAgICBncm91cCA9IGdyb3Vwc1trXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGdyb3VwLnB1c2gobGF5ZXJzW2ldKTtcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAgIGZvciAoY29uc3QgayBpbiBncm91cHMpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goZ3JvdXBzW2tdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuIiwiaW1wb3J0IGNyZWF0ZVN0eWxlTGF5ZXIgZnJvbSAnLi9jcmVhdGVfc3R5bGVfbGF5ZXInO1xuaW1wb3J0IHt2YWx1ZXN9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgZ3JvdXBCeUxheW91dCBmcm9tICcuLi9zdHlsZS1zcGVjL2dyb3VwX2J5X2xheW91dCc7XG5cbmltcG9ydCB0eXBlIHtUeXBlZFN0eWxlTGF5ZXJ9IGZyb20gJy4vc3R5bGVfbGF5ZXIvdHlwZWRfc3R5bGVfbGF5ZXInO1xuaW1wb3J0IHR5cGUge0xheWVyU3BlY2lmaWNhdGlvbn0gZnJvbSAnLi4vc3R5bGUtc3BlYy90eXBlcyc7XG5pbXBvcnQgdHlwZSB7Q29uZmlnT3B0aW9uc30gZnJvbSAnLi9wcm9wZXJ0aWVzJztcblxuZXhwb3J0IHR5cGUgTGF5ZXJDb25maWdzID0ge1xuICAgIFtfOiBzdHJpbmddOiBMYXllclNwZWNpZmljYXRpb247XG59O1xuZXhwb3J0IHR5cGUgRmFtaWx5PExheWVyIGV4dGVuZHMgVHlwZWRTdHlsZUxheWVyPiA9IEFycmF5PExheWVyPjtcblxuY2xhc3MgU3R5bGVMYXllckluZGV4IHtcbiAgICBzY29wZTogc3RyaW5nO1xuICAgIGZhbWlsaWVzQnlTb3VyY2U6IHtcbiAgICAgICAgW3NvdXJjZTogc3RyaW5nXToge1xuICAgICAgICAgICAgW3NvdXJjZUxheWVyOiBzdHJpbmddOiBBcnJheTxGYW1pbHk8VHlwZWRTdHlsZUxheWVyPj47XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBrZXlDYWNoZToge1xuICAgICAgICBbc291cmNlOiBzdHJpbmddOiBzdHJpbmc7XG4gICAgfTtcblxuICAgIF9sYXllckNvbmZpZ3M6IExheWVyQ29uZmlncztcbiAgICBfbGF5ZXJzOiB7XG4gICAgICAgIFtfOiBzdHJpbmddOiBUeXBlZFN0eWxlTGF5ZXI7XG4gICAgfTtcbiAgICBfb3B0aW9uczogQ29uZmlnT3B0aW9ucyB8IG51bGwgfCB1bmRlZmluZWQ7XG5cbiAgICBjb25zdHJ1Y3RvcihsYXllckNvbmZpZ3M/OiBBcnJheTxMYXllclNwZWNpZmljYXRpb24+IHwgbnVsbCkge1xuICAgICAgICB0aGlzLmtleUNhY2hlID0ge307XG4gICAgICAgIHRoaXMuX2xheWVycyA9IHt9O1xuICAgICAgICB0aGlzLl9sYXllckNvbmZpZ3MgPSB7fTtcbiAgICAgICAgaWYgKGxheWVyQ29uZmlncykge1xuICAgICAgICAgICAgdGhpcy5yZXBsYWNlKGxheWVyQ29uZmlncyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXBsYWNlKGxheWVyQ29uZmlnczogQXJyYXk8TGF5ZXJTcGVjaWZpY2F0aW9uPiwgb3B0aW9ucz86IENvbmZpZ09wdGlvbnMgfCBudWxsKSB7XG4gICAgICAgIHRoaXMuX2xheWVyQ29uZmlncyA9IHt9O1xuICAgICAgICB0aGlzLl9sYXllcnMgPSB7fTtcbiAgICAgICAgdGhpcy51cGRhdGUobGF5ZXJDb25maWdzLCBbXSwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgdXBkYXRlKGxheWVyQ29uZmlnczogQXJyYXk8TGF5ZXJTcGVjaWZpY2F0aW9uPiwgcmVtb3ZlZElkczogQXJyYXk8c3RyaW5nPiwgb3B0aW9ucz86IENvbmZpZ09wdGlvbnMgfCBudWxsKSB7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuXG4gICAgICAgIGZvciAoY29uc3QgbGF5ZXJDb25maWcgb2YgbGF5ZXJDb25maWdzKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXllckNvbmZpZ3NbbGF5ZXJDb25maWcuaWRdID0gbGF5ZXJDb25maWc7XG5cbiAgICAgICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5fbGF5ZXJzW2xheWVyQ29uZmlnLmlkXSA9IChjcmVhdGVTdHlsZUxheWVyKGxheWVyQ29uZmlnLCB0aGlzLnNjb3BlLCBudWxsLCB0aGlzLl9vcHRpb25zKSBhcyBUeXBlZFN0eWxlTGF5ZXIpO1xuICAgICAgICAgICAgbGF5ZXIuY29tcGlsZUZpbHRlcihvcHRpb25zKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmtleUNhY2hlW2xheWVyQ29uZmlnLmlkXSlcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5rZXlDYWNoZVtsYXllckNvbmZpZy5pZF07XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBpZCBvZiByZW1vdmVkSWRzKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5rZXlDYWNoZVtpZF07XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fbGF5ZXJDb25maWdzW2lkXTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9sYXllcnNbaWRdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5mYW1pbGllc0J5U291cmNlID0ge307XG5cbiAgICAgICAgY29uc3QgZ3JvdXBzID0gZ3JvdXBCeUxheW91dCh2YWx1ZXModGhpcy5fbGF5ZXJDb25maWdzKSwgdGhpcy5rZXlDYWNoZSk7XG5cbiAgICAgICAgZm9yIChjb25zdCBsYXllckNvbmZpZ3Mgb2YgZ3JvdXBzKSB7XG4gICAgICAgICAgICBjb25zdCBsYXllcnMgPSBsYXllckNvbmZpZ3MubWFwKChsYXllckNvbmZpZykgPT4gdGhpcy5fbGF5ZXJzW2xheWVyQ29uZmlnLmlkXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGxheWVyID0gbGF5ZXJzWzBdO1xuICAgICAgICAgICAgaWYgKGxheWVyLnZpc2liaWxpdHkgPT09ICdub25lJykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBzb3VyY2VJZCA9IGxheWVyLnNvdXJjZSB8fCAnJztcbiAgICAgICAgICAgIGxldCBzb3VyY2VHcm91cCA9IHRoaXMuZmFtaWxpZXNCeVNvdXJjZVtzb3VyY2VJZF07XG4gICAgICAgICAgICBpZiAoIXNvdXJjZUdyb3VwKSB7XG4gICAgICAgICAgICAgICAgc291cmNlR3JvdXAgPSB0aGlzLmZhbWlsaWVzQnlTb3VyY2Vbc291cmNlSWRdID0ge307XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUxheWVySWQgPSBsYXllci5zb3VyY2VMYXllciB8fCAnX2dlb2pzb25UaWxlTGF5ZXInO1xuICAgICAgICAgICAgbGV0IHNvdXJjZUxheWVyRmFtaWxpZXMgPSBzb3VyY2VHcm91cFtzb3VyY2VMYXllcklkXTtcbiAgICAgICAgICAgIGlmICghc291cmNlTGF5ZXJGYW1pbGllcykge1xuICAgICAgICAgICAgICAgIHNvdXJjZUxheWVyRmFtaWxpZXMgPSBzb3VyY2VHcm91cFtzb3VyY2VMYXllcklkXSA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzb3VyY2VMYXllckZhbWlsaWVzLnB1c2gobGF5ZXJzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3R5bGVMYXllckluZGV4O1xuIiwiaW1wb3J0IHtTREZfU0NBTEV9IGZyb20gJy4uL3JlbmRlci9nbHlwaF9tYW5hZ2VyJztcbmltcG9ydCB7QWxwaGFJbWFnZX0gZnJvbSAnLi4vdXRpbC9pbWFnZSc7XG5pbXBvcnQge3JlZ2lzdGVyfSBmcm9tICcuLi91dGlsL3dlYl93b3JrZXJfdHJhbnNmZXInO1xuaW1wb3J0IHBvdHBhY2sgZnJvbSAncG90cGFjayc7XG5cbmltcG9ydCB0eXBlIHtTdHlsZUdseXBofSBmcm9tICcuLi9zdHlsZS9zdHlsZV9nbHlwaCc7XG5cbmNvbnN0IGdseXBoUGFkZGluZyA9IDE7XG4vKlxuICAgIFRoZSBnbHlwaCBwYWRkaW5nIGlzIGp1c3QgdG8gcHJldmVudCBzYW1wbGluZyBlcnJvcnMgYXQgdGhlIGJvdW5kYXJpZXMgYmV0d2VlblxuICAgIGdseXBocyBpbiB0aGUgYXRsYXMgdGV4dHVyZSwgYW5kIGZvciB0aGF0IHB1cnBvc2UgdGhlcmUncyBubyBuZWVkIHRvIG1ha2UgaXRcbiAgICBiaWdnZXIgd2l0aCBoaWdoLXJlcyBTREZzLiBIb3dldmVyLCBsYXlvdXQgaXMgZG9uZSBiYXNlZCBvbiB0aGUgZ2x5cGggc2l6ZVxuICAgIGluY2x1ZGluZyB0aGlzIHBhZGRpbmcsIHNvIHNjYWxpbmcgdGhpcyBwYWRkaW5nIGlzIHRoZSBlYXNpZXN0IHdheSB0byBrZWVwXG4gICAgbGF5b3V0IGV4YWN0bHkgdGhlIHNhbWUgYXMgdGhlIFNERl9TQ0FMRSBjaGFuZ2VzLlxuKi9cbmNvbnN0IGxvY2FsR2x5cGhQYWRkaW5nID0gZ2x5cGhQYWRkaW5nICogU0RGX1NDQUxFO1xuXG5leHBvcnQgdHlwZSBHbHlwaFJlY3QgPSB7XG4gICAgeDogbnVtYmVyO1xuICAgIHk6IG51bWJlcjtcbiAgICB3OiBudW1iZXI7XG4gICAgaDogbnVtYmVyO1xufTtcbi8vIHtnbHlwaElEOiBnbHlwaFJlY3R9XG5leHBvcnQgdHlwZSBHbHlwaFBvc2l0aW9uTWFwID0ge1xuICAgIFtfOiBudW1iZXJdOiBHbHlwaFJlY3Q7XG59O1xuXG4vLyB7Zm9udFN0YWNrOiBnbHlwaFBvaXN0aW9uTWFwfVxuZXhwb3J0IHR5cGUgR2x5cGhQb3NpdGlvbnMgPSB7XG4gICAgW186IHN0cmluZ106IEdseXBoUG9zaXRpb25NYXA7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHbHlwaEF0bGFzIHtcbiAgICBpbWFnZTogQWxwaGFJbWFnZTtcbiAgICBwb3NpdGlvbnM6IEdseXBoUG9zaXRpb25zO1xuICAgIGNvbnN0cnVjdG9yKHN0YWNrczoge1xuICAgICAgICBbXzogc3RyaW5nXToge1xuICAgICAgICAgICAgZ2x5cGhzOiB7XG4gICAgICAgICAgICAgICAgW186IG51bWJlcl06IFN0eWxlR2x5cGggfCBudWxsIHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGFzY2VuZGVyPzogbnVtYmVyO1xuICAgICAgICAgICAgZGVzY2VuZGVyPzogbnVtYmVyO1xuICAgICAgICB9O1xuICAgIH0pIHtcbiAgICAgICAgY29uc3QgcG9zaXRpb25zOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGNvbnN0IGJpbnMgPSBbXTtcblxuICAgICAgICBmb3IgKGNvbnN0IHN0YWNrIGluIHN0YWNrcykge1xuICAgICAgICAgICAgY29uc3QgZ2x5cGhEYXRhID0gc3RhY2tzW3N0YWNrXTtcbiAgICAgICAgICAgIGNvbnN0IGdseXBoUG9zaXRpb25NYXAgPSBwb3NpdGlvbnNbc3RhY2tdID0ge307XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgaW4gZ2x5cGhEYXRhLmdseXBocykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNyYyA9IGdseXBoRGF0YS5nbHlwaHNbK2lkXTtcbiAgICAgICAgICAgICAgICBpZiAoIXNyYyB8fCBzcmMuYml0bWFwLndpZHRoID09PSAwIHx8IHNyYy5iaXRtYXAuaGVpZ2h0ID09PSAwKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHBhZGRpbmcgPSBzcmMubWV0cmljcy5sb2NhbEdseXBoID8gbG9jYWxHbHlwaFBhZGRpbmcgOiBnbHlwaFBhZGRpbmc7XG4gICAgICAgICAgICAgICAgY29uc3QgYmluID0ge1xuICAgICAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgICAgICAgICB3OiBzcmMuYml0bWFwLndpZHRoICsgMiAqIHBhZGRpbmcsXG4gICAgICAgICAgICAgICAgICAgIGg6IHNyYy5iaXRtYXAuaGVpZ2h0ICsgMiAqIHBhZGRpbmdcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJpbnMucHVzaChiaW4pO1xuICAgICAgICAgICAgICAgIGdseXBoUG9zaXRpb25NYXBbaWRdID0gYmluO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qge3csIGh9ID0gcG90cGFjayhiaW5zKTtcbiAgICAgICAgY29uc3QgaW1hZ2UgPSBuZXcgQWxwaGFJbWFnZSh7d2lkdGg6IHcgfHwgMSwgaGVpZ2h0OiBoIHx8IDF9KTtcblxuICAgICAgICBmb3IgKGNvbnN0IHN0YWNrIGluIHN0YWNrcykge1xuICAgICAgICAgICAgY29uc3QgZ2x5cGhEYXRhID0gc3RhY2tzW3N0YWNrXTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBpZCBpbiBnbHlwaERhdGEuZ2x5cGhzKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3JjID0gZ2x5cGhEYXRhLmdseXBoc1sraWRdO1xuICAgICAgICAgICAgICAgIGlmICghc3JjIHx8IHNyYy5iaXRtYXAud2lkdGggPT09IDAgfHwgc3JjLmJpdG1hcC5oZWlnaHQgPT09IDApIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJpbiA9IHBvc2l0aW9uc1tzdGFja11baWRdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZGRpbmcgPSBzcmMubWV0cmljcy5sb2NhbEdseXBoID8gbG9jYWxHbHlwaFBhZGRpbmcgOiBnbHlwaFBhZGRpbmc7XG4gICAgICAgICAgICAgICAgQWxwaGFJbWFnZS5jb3B5KHNyYy5iaXRtYXAsIGltYWdlLCB7eDogMCwgeTogMH0sIHt4OiBiaW4ueCArIHBhZGRpbmcsIHk6IGJpbi55ICsgcGFkZGluZ30sIHNyYy5iaXRtYXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbWFnZSA9IGltYWdlO1xuICAgICAgICB0aGlzLnBvc2l0aW9ucyA9IHBvc2l0aW9ucztcbiAgICB9XG59XG5cbnJlZ2lzdGVyKEdseXBoQXRsYXMsICdHbHlwaEF0bGFzJyk7XG4iLCJpbXBvcnQgRmVhdHVyZUluZGV4IGZyb20gJy4uL2RhdGEvZmVhdHVyZV9pbmRleCc7XG5pbXBvcnQge3BlcmZvcm1TeW1ib2xMYXlvdXR9IGZyb20gJy4uL3N5bWJvbC9zeW1ib2xfbGF5b3V0JztcbmltcG9ydCB7Q29sbGlzaW9uQm94QXJyYXl9IGZyb20gJy4uL2RhdGEvYXJyYXlfdHlwZXMnO1xuaW1wb3J0IERpY3Rpb25hcnlDb2RlciBmcm9tICcuLi91dGlsL2RpY3Rpb25hcnlfY29kZXInO1xuaW1wb3J0IFN5bWJvbEJ1Y2tldCBmcm9tICcuLi9kYXRhL2J1Y2tldC9zeW1ib2xfYnVja2V0JztcbmltcG9ydCBMaW5lQnVja2V0IGZyb20gJy4uL2RhdGEvYnVja2V0L2xpbmVfYnVja2V0JztcbmltcG9ydCBGaWxsQnVja2V0IGZyb20gJy4uL2RhdGEvYnVja2V0L2ZpbGxfYnVja2V0JztcbmltcG9ydCBGaWxsRXh0cnVzaW9uQnVja2V0IGZyb20gJy4uL2RhdGEvYnVja2V0L2ZpbGxfZXh0cnVzaW9uX2J1Y2tldCc7XG5pbXBvcnQge3dhcm5PbmNlLCBtYXBPYmplY3QsIHZhbHVlc30gZnJvbSAnLi4vdXRpbC91dGlsJztcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcbmltcG9ydCBMaW5lQXRsYXMgZnJvbSAnLi4vcmVuZGVyL2xpbmVfYXRsYXMnO1xuaW1wb3J0IEltYWdlQXRsYXMgZnJvbSAnLi4vcmVuZGVyL2ltYWdlX2F0bGFzJztcbmltcG9ydCBHbHlwaEF0bGFzIGZyb20gJy4uL3JlbmRlci9nbHlwaF9hdGxhcyc7XG5pbXBvcnQgRXZhbHVhdGlvblBhcmFtZXRlcnMgZnJvbSAnLi4vc3R5bGUvZXZhbHVhdGlvbl9wYXJhbWV0ZXJzJztcbmltcG9ydCB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi90aWxlX2lkJztcbmltcG9ydCB7UGVyZm9ybWFuY2VVdGlsc30gZnJvbSAnLi4vdXRpbC9wZXJmb3JtYW5jZSc7XG5pbXBvcnQgdGlsZVRyYW5zZm9ybSBmcm9tICcuLi9nZW8vcHJvamVjdGlvbi90aWxlX3RyYW5zZm9ybSc7XG5cbmltcG9ydCB0eXBlIHtDYW5vbmljYWxUaWxlSUR9IGZyb20gJy4vdGlsZV9pZCc7XG5pbXBvcnQgdHlwZSBQcm9qZWN0aW9uIGZyb20gJy4uL2dlby9wcm9qZWN0aW9uL3Byb2plY3Rpb24nO1xuaW1wb3J0IHR5cGUge0J1Y2tldH0gZnJvbSAnLi4vZGF0YS9idWNrZXQnO1xuaW1wb3J0IHR5cGUgQWN0b3IgZnJvbSAnLi4vdXRpbC9hY3Rvcic7XG5pbXBvcnQgdHlwZSBTdHlsZUxheWVyIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyJztcbmltcG9ydCB0eXBlIFN0eWxlTGF5ZXJJbmRleCBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllcl9pbmRleCc7XG5pbXBvcnQgdHlwZSB7U3R5bGVJbWFnZX0gZnJvbSAnLi4vc3R5bGUvc3R5bGVfaW1hZ2UnO1xuaW1wb3J0IHR5cGUge1N0eWxlR2x5cGh9IGZyb20gJy4uL3N0eWxlL3N0eWxlX2dseXBoJztcbmltcG9ydCB0eXBlIHtTcHJpdGVQb3NpdGlvbnN9IGZyb20gJy4uL3V0aWwvaW1hZ2UnO1xuaW1wb3J0IHR5cGUge1xuICAgIFdvcmtlclRpbGVQYXJhbWV0ZXJzLFxuICAgIFdvcmtlclRpbGVDYWxsYmFjayxcbn0gZnJvbSAnLi4vc291cmNlL3dvcmtlcl9zb3VyY2UnO1xuaW1wb3J0IHR5cGUge1Byb21vdGVJZFNwZWNpZmljYXRpb259IGZyb20gJy4uL3N0eWxlLXNwZWMvdHlwZXMnO1xuaW1wb3J0IHR5cGUge1RpbGVUcmFuc2Zvcm19IGZyb20gJy4uL2dlby9wcm9qZWN0aW9uL3RpbGVfdHJhbnNmb3JtJztcbmltcG9ydCB0eXBlIHtWZWN0b3JUaWxlfSBmcm9tICdAbWFwYm94L3ZlY3Rvci10aWxlJztcbmltcG9ydCB0eXBlIHtMVVR9IGZyb20gXCIuLi91dGlsL2x1dFwiO1xuXG5jbGFzcyBXb3JrZXJUaWxlIHtcbiAgICB0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQ7XG4gICAgdWlkOiBudW1iZXI7XG4gICAgem9vbTogbnVtYmVyO1xuICAgIGx1dDogTFVUIHwgbnVsbDtcbiAgICB0aWxlWm9vbTogbnVtYmVyO1xuICAgIGNhbm9uaWNhbDogQ2Fub25pY2FsVGlsZUlEO1xuICAgIHBpeGVsUmF0aW86IG51bWJlcjtcbiAgICB0aWxlU2l6ZTogbnVtYmVyO1xuICAgIHNvdXJjZTogc3RyaW5nO1xuICAgIHNjb3BlOiBzdHJpbmc7XG4gICAgcHJvbW90ZUlkOiBQcm9tb3RlSWRTcGVjaWZpY2F0aW9uIHwgbnVsbCB8IHVuZGVmaW5lZDtcbiAgICBvdmVyc2NhbGluZzogbnVtYmVyO1xuICAgIHNob3dDb2xsaXNpb25Cb3hlczogYm9vbGVhbjtcbiAgICBjb2xsZWN0UmVzb3VyY2VUaW1pbmc6IGJvb2xlYW47XG4gICAgaXNTeW1ib2xUaWxlOiBib29sZWFuIHwgbnVsbCB8IHVuZGVmaW5lZDtcbiAgICBleHRyYVNoYWRvd0Nhc3RlcjogYm9vbGVhbiB8IG51bGwgfCB1bmRlZmluZWQ7XG4gICAgdGVzc2VsbGF0aW9uU3RlcDogbnVtYmVyIHwgbnVsbCB8IHVuZGVmaW5lZDtcbiAgICBwcm9qZWN0aW9uOiBQcm9qZWN0aW9uO1xuICAgIHRpbGVUcmFuc2Zvcm06IFRpbGVUcmFuc2Zvcm07XG4gICAgYnJpZ2h0bmVzczogbnVtYmVyO1xuXG4gICAgc3RhdHVzOiAncGFyc2luZycgfCAnZG9uZSc7XG4gICAgZGF0YTogVmVjdG9yVGlsZTtcbiAgICBjb2xsaXNpb25Cb3hBcnJheTogQ29sbGlzaW9uQm94QXJyYXk7XG5cbiAgICBhYm9ydDogKCkgPT4gdm9pZCB8IG51bGwgfCB1bmRlZmluZWQ7XG4gICAgcmVsb2FkQ2FsbGJhY2s6IFdvcmtlclRpbGVDYWxsYmFjayB8IG51bGwgfCB1bmRlZmluZWQ7XG4gICAgdmVjdG9yVGlsZTogVmVjdG9yVGlsZTtcblxuICAgIGNvbnN0cnVjdG9yKHBhcmFtczogV29ya2VyVGlsZVBhcmFtZXRlcnMpIHtcbiAgICAgICAgdGhpcy50aWxlSUQgPSBuZXcgT3ZlcnNjYWxlZFRpbGVJRChwYXJhbXMudGlsZUlELm92ZXJzY2FsZWRaLCBwYXJhbXMudGlsZUlELndyYXAsIHBhcmFtcy50aWxlSUQuY2Fub25pY2FsLnosIHBhcmFtcy50aWxlSUQuY2Fub25pY2FsLngsIHBhcmFtcy50aWxlSUQuY2Fub25pY2FsLnkpO1xuICAgICAgICB0aGlzLnRpbGVab29tID0gcGFyYW1zLnRpbGVab29tO1xuICAgICAgICB0aGlzLnVpZCA9IHBhcmFtcy51aWQ7XG4gICAgICAgIHRoaXMuem9vbSA9IHBhcmFtcy56b29tO1xuICAgICAgICB0aGlzLmx1dCA9IHBhcmFtcy5sdXQ7XG4gICAgICAgIHRoaXMuY2Fub25pY2FsID0gcGFyYW1zLnRpbGVJRC5jYW5vbmljYWw7XG4gICAgICAgIHRoaXMucGl4ZWxSYXRpbyA9IHBhcmFtcy5waXhlbFJhdGlvO1xuICAgICAgICB0aGlzLnRpbGVTaXplID0gcGFyYW1zLnRpbGVTaXplO1xuICAgICAgICB0aGlzLnNvdXJjZSA9IHBhcmFtcy5zb3VyY2U7XG4gICAgICAgIHRoaXMuc2NvcGUgPSBwYXJhbXMuc2NvcGU7XG4gICAgICAgIHRoaXMub3ZlcnNjYWxpbmcgPSB0aGlzLnRpbGVJRC5vdmVyc2NhbGVGYWN0b3IoKTtcbiAgICAgICAgdGhpcy5zaG93Q29sbGlzaW9uQm94ZXMgPSBwYXJhbXMuc2hvd0NvbGxpc2lvbkJveGVzO1xuICAgICAgICB0aGlzLmNvbGxlY3RSZXNvdXJjZVRpbWluZyA9ICEhcGFyYW1zLmNvbGxlY3RSZXNvdXJjZVRpbWluZztcbiAgICAgICAgdGhpcy5wcm9tb3RlSWQgPSBwYXJhbXMucHJvbW90ZUlkO1xuICAgICAgICB0aGlzLmlzU3ltYm9sVGlsZSA9IHBhcmFtcy5pc1N5bWJvbFRpbGU7XG4gICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybSA9IHRpbGVUcmFuc2Zvcm0ocGFyYW1zLnRpbGVJRC5jYW5vbmljYWwsIHBhcmFtcy5wcm9qZWN0aW9uKTtcbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uID0gcGFyYW1zLnByb2plY3Rpb247XG4gICAgICAgIHRoaXMuYnJpZ2h0bmVzcyA9IHBhcmFtcy5icmlnaHRuZXNzO1xuICAgICAgICB0aGlzLmV4dHJhU2hhZG93Q2FzdGVyID0gISFwYXJhbXMuZXh0cmFTaGFkb3dDYXN0ZXI7XG4gICAgICAgIHRoaXMudGVzc2VsbGF0aW9uU3RlcCA9IHBhcmFtcy50ZXNzZWxsYXRpb25TdGVwO1xuICAgIH1cblxuICAgIHBhcnNlKGRhdGE6IFZlY3RvclRpbGUsIGxheWVySW5kZXg6IFN0eWxlTGF5ZXJJbmRleCwgYXZhaWxhYmxlSW1hZ2VzOiBBcnJheTxzdHJpbmc+LCBhY3RvcjogQWN0b3IsIGNhbGxiYWNrOiBXb3JrZXJUaWxlQ2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgbSA9IFBlcmZvcm1hbmNlVXRpbHMuYmVnaW5NZWFzdXJlKCdwYXJzZVRpbGUxJyk7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gJ3BhcnNpbmcnO1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuXG4gICAgICAgIHRoaXMuY29sbGlzaW9uQm94QXJyYXkgPSBuZXcgQ29sbGlzaW9uQm94QXJyYXkoKTtcbiAgICAgICAgY29uc3Qgc291cmNlTGF5ZXJDb2RlciA9IG5ldyBEaWN0aW9uYXJ5Q29kZXIoT2JqZWN0LmtleXMoZGF0YS5sYXllcnMpLnNvcnQoKSk7XG5cbiAgICAgICAgY29uc3QgZmVhdHVyZUluZGV4ID0gbmV3IEZlYXR1cmVJbmRleCh0aGlzLnRpbGVJRCwgdGhpcy5wcm9tb3RlSWQpO1xuICAgICAgICBmZWF0dXJlSW5kZXguYnVja2V0TGF5ZXJJRHMgPSBbXTtcblxuICAgICAgICBjb25zdCBidWNrZXRzOiB7XG4gICAgICAgICAgICBbXzogc3RyaW5nXTogQnVja2V0O1xuICAgICAgICB9ID0ge307XG5cbiAgICAgICAgLy8gd2UgaW5pdGlhbGx5IHJlc2VydmUgc3BhY2UgZm9yIGEgMjU2eDI1NiBhdGxhcywgYnV0IHRyaW0gaXQgYWZ0ZXIgcHJvY2Vzc2luZyBhbGwgbGluZSBmZWF0dXJlc1xuICAgICAgICBjb25zdCBsaW5lQXRsYXMgPSBuZXcgTGluZUF0bGFzKDI1NiwgMjU2KTtcblxuICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgaWNvbkRlcGVuZGVuY2llczoge30sXG4gICAgICAgICAgICBwYXR0ZXJuRGVwZW5kZW5jaWVzOiB7fSxcbiAgICAgICAgICAgIGdseXBoRGVwZW5kZW5jaWVzOiB7fSxcbiAgICAgICAgICAgIGxpbmVBdGxhcyxcbiAgICAgICAgICAgIGF2YWlsYWJsZUltYWdlcyxcbiAgICAgICAgICAgIGJyaWdodG5lc3M6IHRoaXMuYnJpZ2h0bmVzc1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGxheWVyRmFtaWxpZXMgPSBsYXllckluZGV4LmZhbWlsaWVzQnlTb3VyY2VbdGhpcy5zb3VyY2VdO1xuICAgICAgICBmb3IgKGNvbnN0IHNvdXJjZUxheWVySWQgaW4gbGF5ZXJGYW1pbGllcykge1xuICAgICAgICAgICAgY29uc3Qgc291cmNlTGF5ZXIgPSBkYXRhLmxheWVyc1tzb3VyY2VMYXllcklkXTtcbiAgICAgICAgICAgIGlmICghc291cmNlTGF5ZXIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGFueVN5bWJvbExheWVycyA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IGFueU90aGVyTGF5ZXJzID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgYW55M0RMYXllciA9IGZhbHNlO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGZhbWlseSBvZiBsYXllckZhbWlsaWVzW3NvdXJjZUxheWVySWRdKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZhbWlseVswXS50eXBlID09PSAnc3ltYm9sJykge1xuICAgICAgICAgICAgICAgICAgICBhbnlTeW1ib2xMYXllcnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFueU90aGVyTGF5ZXJzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZhbWlseVswXS5pczNEKCkgJiYgZmFtaWx5WzBdLnR5cGUgIT09ICdtb2RlbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgYW55M0RMYXllciA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5leHRyYVNoYWRvd0Nhc3RlciAmJiAhYW55M0RMYXllcikge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5pc1N5bWJvbFRpbGUgPT09IHRydWUgJiYgIWFueVN5bWJvbExheWVycykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzU3ltYm9sVGlsZSA9PT0gZmFsc2UgJiYgIWFueU90aGVyTGF5ZXJzKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzb3VyY2VMYXllci52ZXJzaW9uID09PSAxKSB7XG4gICAgICAgICAgICAgICAgd2Fybk9uY2UoYFZlY3RvciB0aWxlIHNvdXJjZSBcIiR7dGhpcy5zb3VyY2V9XCIgbGF5ZXIgXCIke3NvdXJjZUxheWVySWR9XCIgYCArXG4gICAgICAgICAgICAgICAgICAgIGBkb2VzIG5vdCB1c2UgdmVjdG9yIHRpbGUgc3BlYyB2MiBhbmQgdGhlcmVmb3JlIG1heSBoYXZlIHNvbWUgcmVuZGVyaW5nIGVycm9ycy5gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc291cmNlTGF5ZXJJbmRleCA9IHNvdXJjZUxheWVyQ29kZXIuZW5jb2RlKHNvdXJjZUxheWVySWQpO1xuICAgICAgICAgICAgY29uc3QgZmVhdHVyZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBzb3VyY2VMYXllci5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmZWF0dXJlID0gc291cmNlTGF5ZXIuZmVhdHVyZShpbmRleCk7XG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSBmZWF0dXJlSW5kZXguZ2V0SWQoZmVhdHVyZSwgc291cmNlTGF5ZXJJZCk7XG4gICAgICAgICAgICAgICAgZmVhdHVyZXMucHVzaCh7ZmVhdHVyZSwgaWQsIGluZGV4LCBzb3VyY2VMYXllckluZGV4fSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgZmFtaWx5IG9mIGxheWVyRmFtaWxpZXNbc291cmNlTGF5ZXJJZF0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXllciA9IGZhbWlseVswXTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmV4dHJhU2hhZG93Q2FzdGVyICYmICghbGF5ZXIuaXMzRCgpIHx8IGxheWVyLnR5cGUgPT09ICdtb2RlbCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGF2b2lkIHRvIHNwZW5kIHJlc291cmNlcyBpbiAyRCBsYXllcnMgb3IgM0QgbW9kZWwgbGF5ZXJzICh0cmVlcykgZm9yIGV4dHJhIHNoYWRvdyBjYXN0ZXJzXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1N5bWJvbFRpbGUgIT09IHVuZGVmaW5lZCAmJiAobGF5ZXIudHlwZSA9PT0gJ3N5bWJvbCcpICE9PSB0aGlzLmlzU3ltYm9sVGlsZSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGxheWVyLnNvdXJjZSA9PT0gdGhpcy5zb3VyY2UpO1xuICAgICAgICAgICAgICAgIGlmIChsYXllci5taW56b29tICYmIHRoaXMuem9vbSA8IE1hdGguZmxvb3IobGF5ZXIubWluem9vbSkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGlmIChsYXllci5tYXh6b29tICYmIHRoaXMuem9vbSA+PSBsYXllci5tYXh6b29tKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIudmlzaWJpbGl0eSA9PT0gJ25vbmUnKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIHJlY2FsY3VsYXRlTGF5ZXJzKGZhbWlseSwgdGhpcy56b29tLCBvcHRpb25zLmJyaWdodG5lc3MsIGF2YWlsYWJsZUltYWdlcyk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBidWNrZXQgPSBidWNrZXRzW2xheWVyLmlkXSA9IGxheWVyLmNyZWF0ZUJ1Y2tldCh7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiBmZWF0dXJlSW5kZXguYnVja2V0TGF5ZXJJRHMubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyMzIyIC0gVHlwZSAnRmFtaWx5PFR5cGVkU3R5bGVMYXllcj4nIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJ0NsaXBTdHlsZUxheWVyW10gJiBNb2RlbFN0eWxlTGF5ZXJbXSAmIFN5bWJvbFN0eWxlTGF5ZXJbXSAmIExpbmVTdHlsZUxheWVyW10gJiBIZWF0bWFwU3R5bGVMYXllcltdICYgRmlsbEV4dHJ1c2lvblN0eWxlTGF5ZXJbXSAmIEZpbGxTdHlsZUxheWVyW10gJiBDaXJjbGVTdHlsZUxheWVyW10nLlxuICAgICAgICAgICAgICAgICAgICBsYXllcnM6IGZhbWlseSxcbiAgICAgICAgICAgICAgICAgICAgem9vbTogdGhpcy56b29tLFxuICAgICAgICAgICAgICAgICAgICBsdXQ6IHRoaXMubHV0LFxuICAgICAgICAgICAgICAgICAgICBjYW5vbmljYWw6IHRoaXMuY2Fub25pY2FsLFxuICAgICAgICAgICAgICAgICAgICBwaXhlbFJhdGlvOiB0aGlzLnBpeGVsUmF0aW8sXG4gICAgICAgICAgICAgICAgICAgIG92ZXJzY2FsaW5nOiB0aGlzLm92ZXJzY2FsaW5nLFxuICAgICAgICAgICAgICAgICAgICBjb2xsaXNpb25Cb3hBcnJheTogdGhpcy5jb2xsaXNpb25Cb3hBcnJheSxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlTGF5ZXJJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlSUQ6IHRoaXMuc291cmNlLFxuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0aW9uOiB0aGlzLnByb2plY3Rpb24uc3BlYyxcbiAgICAgICAgICAgICAgICAgICAgdGVzc2VsbGF0aW9uU3RlcDogdGhpcy50ZXNzZWxsYXRpb25TdGVwXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBhc3NlcnQodGhpcy50aWxlVHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSA9PT0gdGhpcy5wcm9qZWN0aW9uLm5hbWUpO1xuICAgICAgICAgICAgICAgIGJ1Y2tldC5wb3B1bGF0ZShmZWF0dXJlcywgb3B0aW9ucywgdGhpcy50aWxlSUQuY2Fub25pY2FsLCB0aGlzLnRpbGVUcmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIGZlYXR1cmVJbmRleC5idWNrZXRMYXllcklEcy5wdXNoKGZhbWlseS5tYXAoKGwpID0+IGwuaWQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxpbmVBdGxhcy50cmltKCk7XG5cbiAgICAgICAgbGV0IGVycm9yOiBFcnJvciB8IG51bGwgfCB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBnbHlwaE1hcDoge1xuICAgICAgICAgICAgW186IHN0cmluZ106IHtcbiAgICAgICAgICAgICAgICBnbHlwaHM6IHtcbiAgICAgICAgICAgICAgICAgICAgW186IG51bWJlcl06IFN0eWxlR2x5cGggfCBudWxsIHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYXNjZW5kZXI/OiBudW1iZXI7XG4gICAgICAgICAgICAgICAgZGVzY2VuZGVyPzogbnVtYmVyO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IGljb25NYXA6IHtcbiAgICAgICAgICAgIFtfOiBzdHJpbmddOiBTdHlsZUltYWdlO1xuICAgICAgICB9O1xuICAgICAgICBsZXQgcGF0dGVybk1hcDoge1xuICAgICAgICAgICAgW186IHN0cmluZ106IFN0eWxlSW1hZ2U7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHRhc2tNZXRhZGF0YSA9IHt0eXBlOiAnbWF5YmVQcmVwYXJlJywgaXNTeW1ib2xUaWxlOiB0aGlzLmlzU3ltYm9sVGlsZSwgem9vbTogdGhpcy56b29tfTtcblxuICAgICAgICBjb25zdCBtYXliZVByZXBhcmUgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1cyA9ICdkb25lJztcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyb3IpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmV4dHJhU2hhZG93Q2FzdGVyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbSA9IFBlcmZvcm1hbmNlVXRpbHMuYmVnaW5NZWFzdXJlKCdwYXJzZVRpbGUyJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSAnZG9uZSc7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwge1xuICAgICAgICAgICAgICAgICAgICBidWNrZXRzOiB2YWx1ZXMoYnVja2V0cykuZmlsdGVyKGIgPT4gIWIuaXNFbXB0eSgpKSxcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICAgICAgICBjb2xsaXNpb25Cb3hBcnJheTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgZ2x5cGhBdGxhc0ltYWdlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBsaW5lQXRsYXM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGltYWdlQXRsYXM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGJyaWdodG5lc3M6IG9wdGlvbnMuYnJpZ2h0bmVzcyxcbiAgICAgICAgICAgICAgICAgICAgLy8gT25seSB1c2VkIGZvciBiZW5jaG1hcmtpbmc6XG4gICAgICAgICAgICAgICAgICAgIGdseXBoTWFwOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBpY29uTWFwOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBnbHlwaFBvc2l0aW9uczogbnVsbFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFBlcmZvcm1hbmNlVXRpbHMuZW5kTWVhc3VyZShtKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZ2x5cGhNYXAgJiYgaWNvbk1hcCAmJiBwYXR0ZXJuTWFwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbSA9IFBlcmZvcm1hbmNlVXRpbHMuYmVnaW5NZWFzdXJlKCdwYXJzZVRpbGUyJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2x5cGhBdGxhcyA9IG5ldyBHbHlwaEF0bGFzKGdseXBoTWFwKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbWFnZUF0bGFzID0gbmV3IEltYWdlQXRsYXMoaWNvbk1hcCwgcGF0dGVybk1hcCwgdGhpcy5sdXQpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gYnVja2V0cykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBidWNrZXQgPSBidWNrZXRzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChidWNrZXQgaW5zdGFuY2VvZiBTeW1ib2xCdWNrZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY2FsY3VsYXRlTGF5ZXJzKGJ1Y2tldC5sYXllcnMsIHRoaXMuem9vbSwgb3B0aW9ucy5icmlnaHRuZXNzLCBhdmFpbGFibGVJbWFnZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVyZm9ybVN5bWJvbExheW91dChidWNrZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdseXBoTWFwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbHlwaEF0bGFzLnBvc2l0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbk1hcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VBdGxhcy5pY29uUG9zaXRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dDb2xsaXNpb25Cb3hlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlSW1hZ2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbGVJRC5jYW5vbmljYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGlsZVpvb20sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvamVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5icmlnaHRuZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChidWNrZXQuaGFzUGF0dGVybiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChidWNrZXQgaW5zdGFuY2VvZiBMaW5lQnVja2V0IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1Y2tldCBpbnN0YW5jZW9mIEZpbGxCdWNrZXQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVja2V0IGluc3RhbmNlb2YgRmlsbEV4dHJ1c2lvbkJ1Y2tldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY2FsY3VsYXRlTGF5ZXJzKGJ1Y2tldC5sYXllcnMsIHRoaXMuem9vbSwgb3B0aW9ucy5icmlnaHRuZXNzLCBhdmFpbGFibGVJbWFnZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2VQb3NpdGlvbnM6IFNwcml0ZVBvc2l0aW9ucyA9IGltYWdlQXRsYXMucGF0dGVyblBvc2l0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1Y2tldC5hZGRGZWF0dXJlcyhvcHRpb25zLCB0aGlzLnRpbGVJRC5jYW5vbmljYWwsIGltYWdlUG9zaXRpb25zLCBhdmFpbGFibGVJbWFnZXMsIHRoaXMudGlsZVRyYW5zZm9ybSwgdGhpcy5icmlnaHRuZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1cyA9ICdkb25lJztcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCB7XG4gICAgICAgICAgICAgICAgICAgIGJ1Y2tldHM6IHZhbHVlcyhidWNrZXRzKS5maWx0ZXIoYiA9PiAhYi5pc0VtcHR5KCkpLFxuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvbkJveEFycmF5OiB0aGlzLmNvbGxpc2lvbkJveEFycmF5LFxuICAgICAgICAgICAgICAgICAgICBnbHlwaEF0bGFzSW1hZ2U6IGdseXBoQXRsYXMuaW1hZ2UsXG4gICAgICAgICAgICAgICAgICAgIGxpbmVBdGxhcyxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VBdGxhcyxcbiAgICAgICAgICAgICAgICAgICAgYnJpZ2h0bmVzczogb3B0aW9ucy5icmlnaHRuZXNzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgUGVyZm9ybWFuY2VVdGlscy5lbmRNZWFzdXJlKG0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICghdGhpcy5leHRyYVNoYWRvd0Nhc3Rlcikge1xuICAgICAgICAgICAgY29uc3Qgc3RhY2tzID0gbWFwT2JqZWN0KG9wdGlvbnMuZ2x5cGhEZXBlbmRlbmNpZXMsIChnbHlwaHMpID0+IE9iamVjdC5rZXlzKGdseXBocykubWFwKE51bWJlcikpO1xuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHN0YWNrcykubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgYWN0b3Iuc2VuZCgnZ2V0R2x5cGhzJywge3VpZDogdGhpcy51aWQsIHN0YWNrcywgc2NvcGU6IHRoaXMuc2NvcGV9LCAoZXJyLCByZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICBnbHlwaE1hcCA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heWJlUHJlcGFyZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgdW5kZWZpbmVkLCBmYWxzZSwgdGFza01ldGFkYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2x5cGhNYXAgPSB7fTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgaWNvbnMgPSBPYmplY3Qua2V5cyhvcHRpb25zLmljb25EZXBlbmRlbmNpZXMpO1xuICAgICAgICAgICAgaWYgKGljb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGFjdG9yLnNlbmQoJ2dldEltYWdlcycsIHtpY29ucywgc291cmNlOiB0aGlzLnNvdXJjZSwgc2NvcGU6IHRoaXMuc2NvcGUsIHRpbGVJRDogdGhpcy50aWxlSUQsIHR5cGU6ICdpY29ucyd9LCAoZXJyLCByZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uTWFwID0gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVQcmVwYXJlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCB1bmRlZmluZWQsIGZhbHNlLCB0YXNrTWV0YWRhdGEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpY29uTWFwID0ge307XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHBhdHRlcm5zID0gT2JqZWN0LmtleXMob3B0aW9ucy5wYXR0ZXJuRGVwZW5kZW5jaWVzKTtcbiAgICAgICAgICAgIGlmIChwYXR0ZXJucy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBhY3Rvci5zZW5kKCdnZXRJbWFnZXMnLCB7aWNvbnM6IHBhdHRlcm5zLCBzb3VyY2U6IHRoaXMuc291cmNlLCBzY29wZTogdGhpcy5zY29wZSwgdGlsZUlEOiB0aGlzLnRpbGVJRCwgdHlwZTogJ3BhdHRlcm5zJ30sIChlcnIsIHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm5NYXAgPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXliZVByZXBhcmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHVuZGVmaW5lZCwgZmFsc2UsIHRhc2tNZXRhZGF0YSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhdHRlcm5NYXAgPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFBlcmZvcm1hbmNlVXRpbHMuZW5kTWVhc3VyZShtKTtcblxuICAgICAgICBtYXliZVByZXBhcmUoKTtcblxuICAgIH1cbn1cblxuZnVuY3Rpb24gcmVjYWxjdWxhdGVMYXllcnMobGF5ZXJzOiBSZWFkb25seUFycmF5PFN0eWxlTGF5ZXI+LCB6b29tOiBudW1iZXIsIGJyaWdodG5lc3M6IG51bWJlciwgYXZhaWxhYmxlSW1hZ2VzOiBBcnJheTxzdHJpbmc+KSB7XG4gICAgLy8gTGF5ZXJzIGFyZSBzaGFyZWQgYW5kIG1heSBoYXZlIGJlZW4gdXNlZCBieSBhIFdvcmtlclRpbGUgd2l0aCBhIGRpZmZlcmVudCB6b29tLlxuICAgIGNvbnN0IHBhcmFtZXRlcnMgPSBuZXcgRXZhbHVhdGlvblBhcmFtZXRlcnMoem9vbSwge2JyaWdodG5lc3N9KTtcbiAgICBmb3IgKGNvbnN0IGxheWVyIG9mIGxheWVycykge1xuICAgICAgICBsYXllci5yZWNhbGN1bGF0ZShwYXJhbWV0ZXJzLCBhdmFpbGFibGVJbWFnZXMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgV29ya2VyVGlsZTtcbiIsImltcG9ydCB7VmVjdG9yVGlsZX0gZnJvbSAnQG1hcGJveC92ZWN0b3ItdGlsZSc7XG5pbXBvcnQgUHJvdG9idWYgZnJvbSAncGJmJztcbmltcG9ydCBXb3JrZXJUaWxlIGZyb20gJy4vd29ya2VyX3RpbGUnO1xuaW1wb3J0IHtleHRlbmR9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQge2dldFBlcmZvcm1hbmNlTWVhc3VyZW1lbnR9IGZyb20gJy4uL3V0aWwvcGVyZm9ybWFuY2UnO1xuaW1wb3J0IHtFdmVudGVkfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQnO1xuaW1wb3J0IHRpbGVUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvL3Byb2plY3Rpb24vdGlsZV90cmFuc2Zvcm0nO1xuaW1wb3J0IHtsb2FkVmVjdG9yVGlsZSwgRGVkdXBlZFJlcXVlc3R9IGZyb20gJy4vbG9hZF92ZWN0b3JfdGlsZSc7XG5cbmltcG9ydCB0eXBlIHtcbiAgICBXb3JrZXJTb3VyY2UsXG4gICAgV29ya2VyVGlsZVJlc3VsdCxcbiAgICBXb3JrZXJUaWxlUGFyYW1ldGVycyxcbiAgICBXb3JrZXJUaWxlQ2FsbGJhY2ssXG4gICAgVGlsZVBhcmFtZXRlcnNcbn0gZnJvbSAnLi93b3JrZXJfc291cmNlJztcbmltcG9ydCB0eXBlIEFjdG9yIGZyb20gJy4uL3V0aWwvYWN0b3InO1xuaW1wb3J0IHR5cGUgU3R5bGVMYXllckluZGV4IGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyX2luZGV4JztcbmltcG9ydCB0eXBlIFNjaGVkdWxlciBmcm9tICcuLi91dGlsL3NjaGVkdWxlcic7XG5pbXBvcnQgdHlwZSB7TG9hZFZlY3RvckRhdGF9IGZyb20gJy4vbG9hZF92ZWN0b3JfdGlsZSc7XG5cbi8qKlxuICogVGhlIHtAbGluayBXb3JrZXJTb3VyY2V9IGltcGxlbWVudGF0aW9uIHRoYXQgc3VwcG9ydHMge0BsaW5rIFZlY3RvclRpbGVTb3VyY2V9LlxuICogVGhpcyBjbGFzcyBpcyBkZXNpZ25lZCB0byBiZSBlYXNpbHkgcmV1c2VkIHRvIHN1cHBvcnQgY3VzdG9tIHNvdXJjZSB0eXBlc1xuICogZm9yIGRhdGEgZm9ybWF0cyB0aGF0IGNhbiBiZSBwYXJzZWQvY29udmVydGVkIGludG8gYW4gaW4tbWVtb3J5IFZlY3RvclRpbGVcbiAqIHJlcHJlc2VudGF0aW9uLiAgVG8gZG8gc28sIGNyZWF0ZSBpdCB3aXRoXG4gKiBgbmV3IFZlY3RvclRpbGVXb3JrZXJTb3VyY2UoYWN0b3IsIHN0eWxlTGF5ZXJzLCBjdXN0b21Mb2FkVmVjdG9yRGF0YUZ1bmN0aW9uKWAuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgVmVjdG9yVGlsZVdvcmtlclNvdXJjZSBleHRlbmRzIEV2ZW50ZWQgaW1wbGVtZW50cyBXb3JrZXJTb3VyY2Uge1xuICAgIGFjdG9yOiBBY3RvcjtcbiAgICBsYXllckluZGV4OiBTdHlsZUxheWVySW5kZXg7XG4gICAgYXZhaWxhYmxlSW1hZ2VzOiBBcnJheTxzdHJpbmc+O1xuICAgIGxvYWRWZWN0b3JEYXRhOiBMb2FkVmVjdG9yRGF0YTtcbiAgICBsb2FkaW5nOiB7XG4gICAgICAgIFtfOiBudW1iZXJdOiBXb3JrZXJUaWxlO1xuICAgIH07XG4gICAgbG9hZGVkOiB7XG4gICAgICAgIFtfOiBudW1iZXJdOiBXb3JrZXJUaWxlO1xuICAgIH07XG4gICAgZGVkdXBlZDogRGVkdXBlZFJlcXVlc3Q7XG4gICAgaXNTcHJpdGVMb2FkZWQ6IGJvb2xlYW47XG4gICAgc2NoZWR1bGVyOiBTY2hlZHVsZXIgfCBudWxsIHwgdW5kZWZpbmVkO1xuICAgIGJyaWdodG5lc3M6IG51bWJlciB8IG51bGwgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gW2xvYWRWZWN0b3JEYXRhXSBPcHRpb25hbCBtZXRob2QgZm9yIGN1c3RvbSBsb2FkaW5nIG9mIGEgVmVjdG9yVGlsZVxuICAgICAqIG9iamVjdCBiYXNlZCBvbiBwYXJhbWV0ZXJzIHBhc3NlZCBmcm9tIHRoZSBtYWluLXRocmVhZCBTb3VyY2UuIFNlZVxuICAgICAqIHtAbGluayBWZWN0b3JUaWxlV29ya2VyU291cmNlI2xvYWRUaWxlfS4gVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gc2ltcGx5XG4gICAgICogbG9hZHMgdGhlIHBiZiBhdCBgcGFyYW1zLnVybGAuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihhY3RvcjogQWN0b3IsIGxheWVySW5kZXg6IFN0eWxlTGF5ZXJJbmRleCwgYXZhaWxhYmxlSW1hZ2VzOiBBcnJheTxzdHJpbmc+LCBpc1Nwcml0ZUxvYWRlZDogYm9vbGVhbiwgbG9hZFZlY3RvckRhdGE/OiBMb2FkVmVjdG9yRGF0YSB8IG51bGwsIGJyaWdodG5lc3M/OiBudW1iZXIgfCBudWxsKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuYWN0b3IgPSBhY3RvcjtcbiAgICAgICAgdGhpcy5sYXllckluZGV4ID0gbGF5ZXJJbmRleDtcbiAgICAgICAgdGhpcy5hdmFpbGFibGVJbWFnZXMgPSBhdmFpbGFibGVJbWFnZXM7XG4gICAgICAgIHRoaXMubG9hZFZlY3RvckRhdGEgPSBsb2FkVmVjdG9yRGF0YSB8fCBsb2FkVmVjdG9yVGlsZTtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0ge307XG4gICAgICAgIHRoaXMubG9hZGVkID0ge307XG4gICAgICAgIHRoaXMuZGVkdXBlZCA9IG5ldyBEZWR1cGVkUmVxdWVzdChhY3Rvci5zY2hlZHVsZXIpO1xuICAgICAgICB0aGlzLmlzU3ByaXRlTG9hZGVkID0gaXNTcHJpdGVMb2FkZWQ7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVyID0gYWN0b3Iuc2NoZWR1bGVyO1xuICAgICAgICB0aGlzLmJyaWdodG5lc3MgPSBicmlnaHRuZXNzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEltcGxlbWVudHMge0BsaW5rIFdvcmtlclNvdXJjZSNsb2FkVGlsZX0uIERlbGVnYXRlcyB0b1xuICAgICAqIHtAbGluayBWZWN0b3JUaWxlV29ya2VyU291cmNlI2xvYWRWZWN0b3JEYXRhfSAod2hpY2ggYnkgZGVmYXVsdCBleHBlY3RzXG4gICAgICogYSBgcGFyYW1zLnVybGAgcHJvcGVydHkpIGZvciBmZXRjaGluZyBhbmQgcHJvZHVjaW5nIGEgVmVjdG9yVGlsZSBvYmplY3QuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBsb2FkVGlsZShwYXJhbXM6IFdvcmtlclRpbGVQYXJhbWV0ZXJzLCBjYWxsYmFjazogV29ya2VyVGlsZUNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IHVpZCA9IHBhcmFtcy51aWQ7XG5cbiAgICAgICAgY29uc3QgcmVxdWVzdFBhcmFtID0gcGFyYW1zICYmIHBhcmFtcy5yZXF1ZXN0O1xuICAgICAgICBjb25zdCBwZXJmID0gcmVxdWVzdFBhcmFtICYmIHJlcXVlc3RQYXJhbS5jb2xsZWN0UmVzb3VyY2VUaW1pbmc7XG5cbiAgICAgICAgY29uc3Qgd29ya2VyVGlsZSA9IHRoaXMubG9hZGluZ1t1aWRdID0gbmV3IFdvcmtlclRpbGUocGFyYW1zKTtcbiAgICAgICAgd29ya2VyVGlsZS5hYm9ydCA9IHRoaXMubG9hZFZlY3RvckRhdGEocGFyYW1zLCAoZXJyLCByZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYWJvcnRlZCA9ICF0aGlzLmxvYWRpbmdbdWlkXTtcblxuICAgICAgICAgICAgZGVsZXRlIHRoaXMubG9hZGluZ1t1aWRdO1xuXG4gICAgICAgICAgICBpZiAoYWJvcnRlZCB8fCBlcnIgfHwgIXJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgd29ya2VyVGlsZS5zdGF0dXMgPSAnZG9uZSc7XG4gICAgICAgICAgICAgICAgaWYgKCFhYm9ydGVkKSB0aGlzLmxvYWRlZFt1aWRdID0gd29ya2VyVGlsZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcmF3VGlsZURhdGEgPSByZXNwb25zZS5yYXdEYXRhO1xuICAgICAgICAgICAgY29uc3QgY2FjaGVDb250cm9sOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuZXhwaXJlcykgY2FjaGVDb250cm9sLmV4cGlyZXMgPSByZXNwb25zZS5leHBpcmVzO1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmNhY2hlQ29udHJvbCkgY2FjaGVDb250cm9sLmNhY2hlQ29udHJvbCA9IHJlc3BvbnNlLmNhY2hlQ29udHJvbDtcblxuICAgICAgICAgICAgLy8gcmVzcG9uc2UudmVjdG9yVGlsZSB3aWxsIGJlIHByZXNlbnQgaW4gdGhlIEdlb0pTT04gd29ya2VyIGNhc2UgKHdoaWNoIGluaGVyaXRzIGZyb20gdGhpcyBjbGFzcylcbiAgICAgICAgICAgIC8vIGJlY2F1c2Ugd2Ugc3R1YiB0aGUgdmVjdG9yIHRpbGUgaW50ZXJmYWNlIGFyb3VuZCBKU09OIGRhdGEgaW5zdGVhZCBvZiBwYXJzaW5nIGl0IGRpcmVjdGx5XG4gICAgICAgICAgICB3b3JrZXJUaWxlLnZlY3RvclRpbGUgPSByZXNwb25zZS52ZWN0b3JUaWxlIHx8IG5ldyBWZWN0b3JUaWxlKG5ldyBQcm90b2J1ZihyYXdUaWxlRGF0YSkpO1xuICAgICAgICAgICAgY29uc3QgcGFyc2VUaWxlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdvcmtlclRpbGVDYWxsYmFjayA9IChlcnI/OiBFcnJvciB8IG51bGwsIHJlc3VsdD86IFdvcmtlclRpbGVSZXN1bHQgfCBudWxsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIgfHwgIXJlc3VsdCkgcmV0dXJuIGNhbGxiYWNrKGVycik7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzb3VyY2VUaW1pbmc6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlcmYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyYW5zZmVycmluZyBhIGNvcHkgb2YgcmF3VGlsZURhdGEgYmVjYXVzZSB0aGUgd29ya2VyIG5lZWRzIHRvIHJldGFpbiBpdHMgY29weS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc291cmNlVGltaW5nRGF0YSA9IGdldFBlcmZvcm1hbmNlTWVhc3VyZW1lbnQocmVxdWVzdFBhcmFtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGl0J3MgbmVjZXNzYXJ5IHRvIGV2YWwgdGhlIHJlc3VsdCBvZiBnZXRFbnRyaWVzQnlOYW1lKCkgaGVyZSB2aWEgcGFyc2Uvc3RyaW5naWZ5XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsYXRlIGV2YWx1YXRpb24gaW4gdGhlIG1haW4gdGhyZWFkIGNhdXNlcyBUeXBlRXJyb3I6IGlsbGVnYWwgaW52b2NhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc291cmNlVGltaW5nRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VUaW1pbmcucmVzb3VyY2VUaW1pbmcgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlc291cmNlVGltaW5nRGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIGV4dGVuZCh7cmF3VGlsZURhdGE6IHJhd1RpbGVEYXRhLnNsaWNlKDApfSwgcmVzdWx0LCBjYWNoZUNvbnRyb2wsIHJlc291cmNlVGltaW5nKSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB3b3JrZXJUaWxlLnBhcnNlKHdvcmtlclRpbGUudmVjdG9yVGlsZSwgdGhpcy5sYXllckluZGV4LCB0aGlzLmF2YWlsYWJsZUltYWdlcywgdGhpcy5hY3Rvciwgd29ya2VyVGlsZUNhbGxiYWNrKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzU3ByaXRlTG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgcGFyc2VUaWxlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMub25jZSgnaXNTcHJpdGVMb2FkZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNjaGVkdWxlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWV0YWRhdGEgPSB7dHlwZTogJ3BhcnNlVGlsZScsIGlzU3ltYm9sVGlsZTogcGFyYW1zLmlzU3ltYm9sVGlsZSwgem9vbTogcGFyYW1zLnRpbGVab29tfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICd7IHR5cGU6IHN0cmluZzsgaXNTeW1ib2xUaWxlOiBib29sZWFuOyB6b29tOiBudW1iZXI7IH0nIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICdUYXNrTWV0YWRhdGEnLlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZXIuYWRkKHBhcnNlVGlsZSwgbWV0YWRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VUaWxlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5sb2FkZWQgPSB0aGlzLmxvYWRlZCB8fCB7fTtcbiAgICAgICAgICAgIHRoaXMubG9hZGVkW3VpZF0gPSB3b3JrZXJUaWxlO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbXBsZW1lbnRzIHtAbGluayBXb3JrZXJTb3VyY2UjcmVsb2FkVGlsZX0uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICByZWxvYWRUaWxlKHBhcmFtczogV29ya2VyVGlsZVBhcmFtZXRlcnMsIGNhbGxiYWNrOiBXb3JrZXJUaWxlQ2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgbG9hZGVkID0gdGhpcy5sb2FkZWQsXG4gICAgICAgICAgICB1aWQgPSBwYXJhbXMudWlkO1xuXG4gICAgICAgIGlmIChsb2FkZWQgJiYgbG9hZGVkW3VpZF0pIHtcbiAgICAgICAgICAgIGNvbnN0IHdvcmtlclRpbGUgPSBsb2FkZWRbdWlkXTtcbiAgICAgICAgICAgIHdvcmtlclRpbGUuc2hvd0NvbGxpc2lvbkJveGVzID0gcGFyYW1zLnNob3dDb2xsaXNpb25Cb3hlcztcbiAgICAgICAgICAgIHdvcmtlclRpbGUucHJvamVjdGlvbiA9IHBhcmFtcy5wcm9qZWN0aW9uO1xuICAgICAgICAgICAgd29ya2VyVGlsZS5icmlnaHRuZXNzID0gcGFyYW1zLmJyaWdodG5lc3M7XG4gICAgICAgICAgICB3b3JrZXJUaWxlLnRpbGVUcmFuc2Zvcm0gPSB0aWxlVHJhbnNmb3JtKHBhcmFtcy50aWxlSUQuY2Fub25pY2FsLCBwYXJhbXMucHJvamVjdGlvbik7XG4gICAgICAgICAgICB3b3JrZXJUaWxlLmV4dHJhU2hhZG93Q2FzdGVyID0gcGFyYW1zLmV4dHJhU2hhZG93Q2FzdGVyO1xuICAgICAgICAgICAgd29ya2VyVGlsZS5sdXQgPSBwYXJhbXMubHV0O1xuICAgICAgICAgICAgY29uc3QgZG9uZSA9IChlcnI/OiBFcnJvciB8IG51bGwsIGRhdGE/OiBXb3JrZXJUaWxlUmVzdWx0IHwgbnVsbCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbG9hZENhbGxiYWNrID0gd29ya2VyVGlsZS5yZWxvYWRDYWxsYmFjaztcbiAgICAgICAgICAgICAgICBpZiAocmVsb2FkQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHdvcmtlclRpbGUucmVsb2FkQ2FsbGJhY2s7XG4gICAgICAgICAgICAgICAgICAgIHdvcmtlclRpbGUucGFyc2Uod29ya2VyVGlsZS52ZWN0b3JUaWxlLCB0aGlzLmxheWVySW5kZXgsIHRoaXMuYXZhaWxhYmxlSW1hZ2VzLCB0aGlzLmFjdG9yLCByZWxvYWRDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVyciwgZGF0YSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAod29ya2VyVGlsZS5zdGF0dXMgPT09ICdwYXJzaW5nJykge1xuICAgICAgICAgICAgICAgIHdvcmtlclRpbGUucmVsb2FkQ2FsbGJhY2sgPSBkb25lO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh3b3JrZXJUaWxlLnN0YXR1cyA9PT0gJ2RvbmUnKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgd2FzIG5vIHZlY3RvciB0aWxlIGRhdGEgb24gdGhlIGluaXRpYWwgbG9hZCwgZG9uJ3QgdHJ5IGFuZCByZS1wYXJzZSB0aWxlXG4gICAgICAgICAgICAgICAgaWYgKHdvcmtlclRpbGUudmVjdG9yVGlsZSkge1xuICAgICAgICAgICAgICAgICAgICB3b3JrZXJUaWxlLnBhcnNlKHdvcmtlclRpbGUudmVjdG9yVGlsZSwgdGhpcy5sYXllckluZGV4LCB0aGlzLmF2YWlsYWJsZUltYWdlcywgdGhpcy5hY3RvciwgZG9uZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbXBsZW1lbnRzIHtAbGluayBXb3JrZXJTb3VyY2UjYWJvcnRUaWxlfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXJhbXNcbiAgICAgKiBAcGFyYW0gcGFyYW1zLnVpZCBUaGUgVUlEIGZvciB0aGlzIHRpbGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBhYm9ydFRpbGUocGFyYW1zOiBUaWxlUGFyYW1ldGVycywgY2FsbGJhY2s6IFdvcmtlclRpbGVDYWxsYmFjaykge1xuICAgICAgICBjb25zdCB1aWQgPSBwYXJhbXMudWlkO1xuICAgICAgICBjb25zdCB0aWxlID0gdGhpcy5sb2FkaW5nW3VpZF07XG4gICAgICAgIGlmICh0aWxlKSB7XG4gICAgICAgICAgICBpZiAodGlsZS5hYm9ydCkgdGlsZS5hYm9ydCgpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMubG9hZGluZ1t1aWRdO1xuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW1wbGVtZW50cyB7QGxpbmsgV29ya2VyU291cmNlI3JlbW92ZVRpbGV9LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhcmFtc1xuICAgICAqIEBwYXJhbSBwYXJhbXMudWlkIFRoZSBVSUQgZm9yIHRoaXMgdGlsZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHJlbW92ZVRpbGUocGFyYW1zOiBUaWxlUGFyYW1ldGVycywgY2FsbGJhY2s6IFdvcmtlclRpbGVDYWxsYmFjaykge1xuICAgICAgICBjb25zdCBsb2FkZWQgPSB0aGlzLmxvYWRlZCxcbiAgICAgICAgICAgIHVpZCA9IHBhcmFtcy51aWQ7XG4gICAgICAgIGlmIChsb2FkZWQgJiYgbG9hZGVkW3VpZF0pIHtcbiAgICAgICAgICAgIGRlbGV0ZSBsb2FkZWRbdWlkXTtcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjaygpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmVjdG9yVGlsZVdvcmtlclNvdXJjZTtcbiIsImltcG9ydCBERU1EYXRhIGZyb20gJy4uL2RhdGEvZGVtX2RhdGEnO1xuXG5pbXBvcnQgdHlwZSBBY3RvciBmcm9tICcuLi91dGlsL2FjdG9yJztcbmltcG9ydCB0eXBlIHtXb3JrZXJERU1UaWxlUGFyYW1ldGVycywgV29ya2VyREVNVGlsZUNhbGxiYWNrfSBmcm9tICcuL3dvcmtlcl9zb3VyY2UnO1xuXG5jbGFzcyBSYXN0ZXJERU1UaWxlV29ya2VyU291cmNlIHtcbiAgICBhY3RvcjogQWN0b3I7XG4gICAgb2Zmc2NyZWVuQ2FudmFzOiBPZmZzY3JlZW5DYW52YXM7XG4gICAgb2Zmc2NyZWVuQ2FudmFzQ29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuXG4gICAgbG9hZFRpbGUocGFyYW1zOiBXb3JrZXJERU1UaWxlUGFyYW1ldGVycywgY2FsbGJhY2s6IFdvcmtlckRFTVRpbGVDYWxsYmFjaykge1xuICAgICAgICBjb25zdCB7dWlkLCBlbmNvZGluZywgcmF3SW1hZ2VEYXRhLCBwYWRkaW5nfSA9IHBhcmFtcztcbiAgICAgICAgLy8gTWFpbiB0aHJlYWQgd2lsbCB0cmFuc2ZlciBJbWFnZUJpdG1hcCBpZiBvZmZzY3JlZW4gZGVjb2RlIHdpdGggT2Zmc2NyZWVuQ2FudmFzIGlzIHN1cHBvcnRlZCwgZWxzZSBpdCB3aWxsIHRyYW5zZmVyIGFuIGFscmVhZHkgZGVjb2RlZCBpbWFnZS5cbiAgICAgICAgLy8gRmxvdyBzdHJ1Z2dsZXMgdG8gcmVmaW5lIEltYWdlQml0bWFwIHR5cGVcbiAgICAgICAgY29uc3QgaW1hZ2VQaXhlbHMgPSBJbWFnZUJpdG1hcCAmJiByYXdJbWFnZURhdGEgaW5zdGFuY2VvZiBJbWFnZUJpdG1hcCA/IHRoaXMuZ2V0SW1hZ2VEYXRhKHJhd0ltYWdlRGF0YSwgcGFkZGluZykgOiAocmF3SW1hZ2VEYXRhIGFzIEltYWdlRGF0YSk7XG4gICAgICAgIGNvbnN0IGRlbSA9IG5ldyBERU1EYXRhKHVpZCwgaW1hZ2VQaXhlbHMsIGVuY29kaW5nLCBwYWRkaW5nIDwgMSk7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIGRlbSk7XG4gICAgfVxuXG4gICAgZ2V0SW1hZ2VEYXRhKGltZ0JpdG1hcDogSW1hZ2VCaXRtYXAsIHBhZGRpbmc6IG51bWJlcik6IEltYWdlRGF0YSB7XG4gICAgICAgIC8vIExhemlseSBpbml0aWFsaXplIE9mZnNjcmVlbkNhbnZhc1xuICAgICAgICBpZiAoIXRoaXMub2Zmc2NyZWVuQ2FudmFzIHx8ICF0aGlzLm9mZnNjcmVlbkNhbnZhc0NvbnRleHQpIHtcbiAgICAgICAgICAgIC8vIERlbSB0aWxlcyBhcmUgdHlwaWNhbGx5IDI1NngyNTZcbiAgICAgICAgICAgIHRoaXMub2Zmc2NyZWVuQ2FudmFzID0gbmV3IE9mZnNjcmVlbkNhbnZhcyhpbWdCaXRtYXAud2lkdGgsIGltZ0JpdG1hcC5oZWlnaHQpO1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjczOSAtIFR5cGUgJ09mZnNjcmVlbkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCcgaXMgbWlzc2luZyB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXMgZnJvbSB0eXBlICdDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQnOiBnZXRDb250ZXh0QXR0cmlidXRlcywgZHJhd0ZvY3VzSWZOZWVkZWRcbiAgICAgICAgICAgIHRoaXMub2Zmc2NyZWVuQ2FudmFzQ29udGV4dCA9IHRoaXMub2Zmc2NyZWVuQ2FudmFzLmdldENvbnRleHQoJzJkJywge3dpbGxSZWFkRnJlcXVlbnRseTogdHJ1ZX0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vZmZzY3JlZW5DYW52YXMud2lkdGggPSBpbWdCaXRtYXAud2lkdGg7XG4gICAgICAgIHRoaXMub2Zmc2NyZWVuQ2FudmFzLmhlaWdodCA9IGltZ0JpdG1hcC5oZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5vZmZzY3JlZW5DYW52YXNDb250ZXh0LmRyYXdJbWFnZShpbWdCaXRtYXAsIDAsIDAsIGltZ0JpdG1hcC53aWR0aCwgaW1nQml0bWFwLmhlaWdodCk7XG4gICAgICAgIC8vIEluc2VydCBvciByZW1vdmUgZGVmaW5lZCBwYWRkaW5nIGFyb3VuZCB0aGUgaW1hZ2UgdG8gYWxsb3cgYmFja2ZpbGxpbmcgZm9yIG5laWdoYm9yaW5nIGRhdGEuXG4gICAgICAgIGNvbnN0IGltZ0RhdGEgPSB0aGlzLm9mZnNjcmVlbkNhbnZhc0NvbnRleHQuZ2V0SW1hZ2VEYXRhKC1wYWRkaW5nLCAtcGFkZGluZywgaW1nQml0bWFwLndpZHRoICsgMiAqIHBhZGRpbmcsIGltZ0JpdG1hcC5oZWlnaHQgKyAyICogcGFkZGluZyk7XG4gICAgICAgIHRoaXMub2Zmc2NyZWVuQ2FudmFzQ29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5vZmZzY3JlZW5DYW52YXMud2lkdGgsIHRoaXMub2Zmc2NyZWVuQ2FudmFzLmhlaWdodCk7XG4gICAgICAgIHJldHVybiBpbWdEYXRhO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmFzdGVyREVNVGlsZVdvcmtlclNvdXJjZTtcbiIsImltcG9ydCAnLi4vZGF0YS9tcnRfZGF0YSc7XG5pbXBvcnQge01hcGJveFJhc3RlclRpbGV9IGZyb20gJy4uL2RhdGEvbXJ0L21ydC5lc20uanMnO1xuaW1wb3J0IFBiZiBmcm9tICdwYmYnO1xuXG5NYXBib3hSYXN0ZXJUaWxlLnNldFBiZihQYmYpO1xuXG5pbXBvcnQgdHlwZSBBY3RvciBmcm9tICcuLi91dGlsL2FjdG9yJztcbmltcG9ydCB0eXBlIHtXb3JrZXJSYXN0ZXJBcnJheVRpbGVQYXJhbWV0ZXJzLCBXb3JrZXJSYXN0ZXJBcnJheVRpbGVDYWxsYmFja30gZnJvbSAnLi93b3JrZXJfc291cmNlJztcblxuY2xhc3MgUmFzdGVyQXJyYXlUaWxlV29ya2VyU291cmNlIHtcbiAgICBhY3RvcjogQWN0b3I7XG5cbiAgICBkZWNvZGVSYXN0ZXJBcnJheSh7XG4gICAgICAgIHRhc2ssXG4gICAgICAgIGJ1ZmZlcixcbiAgICB9OiBXb3JrZXJSYXN0ZXJBcnJheVRpbGVQYXJhbWV0ZXJzLCBjYWxsYmFjazogV29ya2VyUmFzdGVyQXJyYXlUaWxlQ2FsbGJhY2spIHtcbiAgICAgICAgTWFwYm94UmFzdGVyVGlsZS5wZXJmb3JtRGVjb2RpbmcoYnVmZmVyLCB0YXNrKVxuICAgICAgICAgICAgLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXN1bHQpO1xuICAgICAgICAgICAgfSwgZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmFzdGVyQXJyYXlUaWxlV29ya2VyU291cmNlO1xuIiwiaW1wb3J0IFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHtWZWN0b3JUaWxlRmVhdHVyZX0gZnJvbSAnQG1hcGJveC92ZWN0b3ItdGlsZSc7XG5jb25zdCB0b0dlb0pTT04gPSBWZWN0b3JUaWxlRmVhdHVyZS5wcm90b3R5cGUudG9HZW9KU09OO1xuaW1wb3J0IEVYVEVOVCBmcm9tICcuLi9zdHlsZS1zcGVjL2RhdGEvZXh0ZW50JztcblxuaW1wb3J0IHR5cGUge1ZlY3RvclRpbGUsIFZlY3RvclRpbGVMYXllcn0gZnJvbSAnQG1hcGJveC92ZWN0b3ItdGlsZSc7XG5cbi8vIFRoZSBmZWF0dXJlIHR5cGUgdXNlZCBieSBnZW9qc29uLXZ0IGFuZCBzdXBlcmNsdXN0ZXIuIFNob3VsZCBiZSBleHRyYWN0ZWQgdG9cbi8vIGdsb2JhbCB0eXBlIGFuZCB1c2VkIGluIG1vZHVsZSBkZWZpbml0aW9ucyBmb3IgdGhvc2UgdHdvIG1vZHVsZXMuXG5leHBvcnQgdHlwZSBGZWF0dXJlID0ge1xuICAgIHR5cGU6IDE7XG4gICAgaWQ6IHVua25vd247XG4gICAgdGFnczoge1xuICAgICAgICBbXzogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbjtcbiAgICB9O1xuICAgIGdlb21ldHJ5OiBBcnJheTxbbnVtYmVyLCBudW1iZXJdPjtcbn0gfCB7XG4gICAgdHlwZTogMiB8IDM7XG4gICAgaWQ6IHVua25vd247XG4gICAgdGFnczoge1xuICAgICAgICBbXzogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbjtcbiAgICB9O1xuICAgIGdlb21ldHJ5OiBBcnJheTxBcnJheTxbbnVtYmVyLCBudW1iZXJdPj47XG59O1xuXG5jbGFzcyBGZWF0dXJlV3JhcHBlciBpbXBsZW1lbnRzIFZlY3RvclRpbGVGZWF0dXJlIHtcbiAgICBfZmVhdHVyZTogRmVhdHVyZTtcblxuICAgIGV4dGVudDogbnVtYmVyO1xuICAgIHR5cGU6IDEgfCAyIHwgMztcbiAgICBpZDogbnVtYmVyO1xuICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgW186IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW47XG4gICAgfTtcblxuICAgIGNvbnN0cnVjdG9yKGZlYXR1cmU6IEZlYXR1cmUpIHtcbiAgICAgICAgdGhpcy5fZmVhdHVyZSA9IGZlYXR1cmU7XG5cbiAgICAgICAgdGhpcy5leHRlbnQgPSBFWFRFTlQ7XG4gICAgICAgIHRoaXMudHlwZSA9IGZlYXR1cmUudHlwZTtcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gZmVhdHVyZS50YWdzO1xuXG4gICAgICAgIC8vIElmIHRoZSBmZWF0dXJlIGhhcyBhIHRvcC1sZXZlbCBgaWRgIHByb3BlcnR5LCBjb3B5IGl0IG92ZXIsIGJ1dCBvbmx5XG4gICAgICAgIC8vIGlmIGl0IGNhbiBiZSBjb2VyY2VkIHRvIGFuIGludGVnZXIsIGJlY2F1c2UgdGhpcyB3cmFwcGVyIGlzIHVzZWQgZm9yXG4gICAgICAgIC8vIHNlcmlhbGl6aW5nIGdlb2pzb24gZmVhdHVyZSBkYXRhIGludG8gdmVjdG9yIHRpbGUgUEJGIGRhdGEsIGFuZCB0aGVcbiAgICAgICAgLy8gdmVjdG9yIHRpbGUgc3BlYyBvbmx5IHN1cHBvcnRzIGludGVnZXIgdmFsdWVzIGZvciBmZWF0dXJlIGlkcyAtLVxuICAgICAgICAvLyBhbGxvd2luZyBub24taW50ZWdlciB2YWx1ZXMgaGVyZSByZXN1bHRzIGluIGEgbm9uLWNvbXBsaWFudCBQQkZcbiAgICAgICAgLy8gdGhhdCBjYXVzZXMgYW4gZXhjZXB0aW9uIHdoZW4gaXQgaXMgcGFyc2VkIHdpdGggdmVjdG9yLXRpbGUtanNcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ3Vua25vd24nIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICdudW1iZXInLlxuICAgICAgICBpZiAoJ2lkJyBpbiBmZWF0dXJlICYmICFpc05hTihmZWF0dXJlLmlkKSkge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ3Vua25vd24nIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICdzdHJpbmcnLlxuICAgICAgICAgICAgdGhpcy5pZCA9IHBhcnNlSW50KGZlYXR1cmUuaWQsIDEwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvYWRHZW9tZXRyeSgpOiBBcnJheTxBcnJheTxQb2ludD4+IHtcbiAgICAgICAgaWYgKHRoaXMuX2ZlYXR1cmUudHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcG9pbnQgb2YgdGhpcy5fZmVhdHVyZS5nZW9tZXRyeSkge1xuICAgICAgICAgICAgICAgIGdlb21ldHJ5LnB1c2goW25ldyBQb2ludChwb2ludFswXSwgcG9pbnRbMV0pXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZ2VvbWV0cnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBnZW9tZXRyeSA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCByaW5nIG9mIHRoaXMuX2ZlYXR1cmUuZ2VvbWV0cnkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdSaW5nID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwb2ludCBvZiByaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1JpbmcucHVzaChuZXcgUG9pbnQocG9pbnRbMF0sIHBvaW50WzFdKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdlb21ldHJ5LnB1c2gobmV3UmluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZ2VvbWV0cnk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0b0dlb0pTT04oeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlcik6IEdlb0pTT04uRmVhdHVyZSB7XG4gICAgICAgIHJldHVybiB0b0dlb0pTT04uY2FsbCh0aGlzLCB4LCB5LCB6KTtcbiAgICB9XG59XG5cbmNsYXNzIEdlb0pTT05XcmFwcGVyIGltcGxlbWVudHMgVmVjdG9yVGlsZSwgVmVjdG9yVGlsZUxheWVyIHtcbiAgICBsYXllcnM6IHtcbiAgICAgICAgW186IHN0cmluZ106IFZlY3RvclRpbGVMYXllcjtcbiAgICB9O1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBleHRlbnQ6IG51bWJlcjtcbiAgICBsZW5ndGg6IG51bWJlcjtcbiAgICBfZmVhdHVyZXM6IEFycmF5PEZlYXR1cmU+O1xuXG4gICAgY29uc3RydWN0b3IoZmVhdHVyZXM6IEFycmF5PEZlYXR1cmU+KSB7XG4gICAgICAgIHRoaXMubGF5ZXJzID0geydfZ2VvanNvblRpbGVMYXllcic6IHRoaXN9O1xuICAgICAgICB0aGlzLm5hbWUgPSAnX2dlb2pzb25UaWxlTGF5ZXInO1xuICAgICAgICB0aGlzLmV4dGVudCA9IEVYVEVOVDtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBmZWF0dXJlcy5sZW5ndGg7XG4gICAgICAgIHRoaXMuX2ZlYXR1cmVzID0gZmVhdHVyZXM7XG4gICAgfVxuXG4gICAgZmVhdHVyZShpOiBudW1iZXIpOiBWZWN0b3JUaWxlRmVhdHVyZSB7XG4gICAgICAgIHJldHVybiBuZXcgRmVhdHVyZVdyYXBwZXIodGhpcy5fZmVhdHVyZXNbaV0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgR2VvSlNPTldyYXBwZXI7XG4iLCJcbmltcG9ydCBFWFRFTlQgZnJvbSAnLi4vc3R5bGUtc3BlYy9kYXRhL2V4dGVudCc7XG5pbXBvcnQge21lcmNhdG9yWGZyb21MbmcsIG1lcmNhdG9yWWZyb21MYXR9IGZyb20gJy4uL2dlby9tZXJjYXRvcl9jb29yZGluYXRlJztcblxuaW1wb3J0IHR5cGUgV29ya2VyVGlsZSBmcm9tICcuL3dvcmtlcl90aWxlJztcbmltcG9ydCB0eXBlIHtGZWF0dXJlfSBmcm9tICcuL2dlb2pzb25fd3JhcHBlcic7XG5cbnR5cGUgQkJveCA9IHtcbiAgICBtaW5YOiBudW1iZXIsXG4gICAgbWluWTogbnVtYmVyLFxuICAgIG1heFg6IG51bWJlcixcbiAgICBtYXhZOiBudW1iZXJcbn1cblxudHlwZSBJbnRlcm5hbEZlYXR1cmUgPSBCQm94ICYge1xuICAgIGlkOiBzdHJpbmcgfCBudW1iZXIsXG4gICAgdGFnczoge1tfOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFufSxcbiAgICB0eXBlOiAxIHwgMiB8IDMsXG4gICAgZ2VvbWV0cnk6IG51bWJlcltdIHwgbnVtYmVyW11bXVxuICAgIHByb3BlcnRpZXM/OiBvYmplY3Rcbn07XG5cbmNvbnN0IFBBRCA9IDY0IC8gNDA5NjsgLy8gZ2VvanNvbi12dCBkZWZhdWx0IHRpbGUgYnVmZmVyXG5jb25zdCBQQURfUFggPSAxMjg7IC8vIHRoZSBzYW1lIGJ1ZmZlciByZWxhdGl2ZSB0byBFWFRFTlRcblxuLypcbiAqIEEgR2VvSlNPTiBpbmRleCB0YWlsb3JlZCB0byBcInNtYWxsIGRhdGEsIHVwZGF0ZWQgZnJlcXVlbnRseVwiIHVzZSBjYXNlc1xuICogd2hpY2ggZ2V0cyB1c2VkIHdpdGggR2VvSlNPTiBzb3VyY2VzIGluIGBkeW5hbWljYCBtb2RlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdlb0pTT05SVCB7XG4gICAgZmVhdHVyZXM6IE1hcDxudW1iZXIgfCBzdHJpbmcsIEludGVybmFsRmVhdHVyZT47XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5mZWF0dXJlcyA9IG5ldyBNYXAoKTtcbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5mZWF0dXJlcy5jbGVhcigpO1xuICAgIH1cblxuICAgIGxvYWQoZmVhdHVyZXM6IEdlb0pTT04uRmVhdHVyZVtdID0gW10sIGNhY2hlOiB7W186IG51bWJlcl06IFdvcmtlclRpbGV9KSB7XG4gICAgICAgIGZvciAoY29uc3QgZmVhdHVyZSBvZiBmZWF0dXJlcykge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBmZWF0dXJlLmlkO1xuICAgICAgICAgICAgaWYgKGlkID09IG51bGwpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBsZXQgdXBkYXRlZCA9IHRoaXMuZmVhdHVyZXMuZ2V0KGlkKTtcblxuICAgICAgICAgICAgLy8gdXBkYXRlIHRpbGUgY2FjaGUgZm9yIHRoZSBvbGQgcG9zaXRpb25cbiAgICAgICAgICAgIGlmICh1cGRhdGVkKSB0aGlzLnVwZGF0ZUNhY2hlKHVwZGF0ZWQsIGNhY2hlKTtcblxuICAgICAgICAgICAgaWYgKCFmZWF0dXJlLmdlb21ldHJ5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mZWF0dXJlcy5kZWxldGUoaWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVkID0gY29udmVydEZlYXR1cmUoZmVhdHVyZSk7XG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIHRpbGUgY2FjaGUgZm9yIHRoZSBuZXcgcG9zaXRpb25cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNhY2hlKHVwZGF0ZWQsIGNhY2hlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZlYXR1cmVzLnNldChpZCwgdXBkYXRlZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ2FjaGUodXBkYXRlZCwgY2FjaGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gY2xlYXIgYWxsIHRpbGVzIHRoYXQgY29udGFpbiBhIGdpdmVuIGZlYXR1cmUgZnJvbSB0aGUgdGlsZSBjYWNoZVxuICAgIHVwZGF0ZUNhY2hlKGZlYXR1cmU6IEludGVybmFsRmVhdHVyZSwgY2FjaGU6IHtbXzogbnVtYmVyXTogV29ya2VyVGlsZX0pIHtcbiAgICAgICAgZm9yIChjb25zdCB7Y2Fub25pY2FsLCB1aWR9IG9mIE9iamVjdC52YWx1ZXMoY2FjaGUpKSB7XG4gICAgICAgICAgICBjb25zdCB7eiwgeCwgeX0gPSBjYW5vbmljYWw7XG4gICAgICAgICAgICBjb25zdCB6MiA9IE1hdGgucG93KDIsIHopO1xuXG4gICAgICAgICAgICBpZiAoaW50ZXJzZWN0c1RpbGUoZmVhdHVyZSwgejIsIHgsIHkpKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGNhY2hlW3VpZF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyByZXR1cm4gYWxsIGZlYXR1cmVzIHRoYXQgZml0IGluIHRoZSB0aWxlIChwbHVzIGEgc21hbGwgcGFkZGluZykgYnkgYmJveDsgc2luY2UgZHluYW1pYyBtb2RlIGlzXG4gICAgLy8gZm9yIFwic21hbGwgZGF0YSwgZnJlcXVlbnRseSB1cGRhdGVkXCIgY2FzZSwgbGluZWFyIGxvb3AgdGhyb3VnaCBhbGwgZmVhdHVyZXMgc2hvdWxkIGJlIGZhc3QgZW5vdWdoXG4gICAgZ2V0VGlsZSh6OiBudW1iZXIsIHR4OiBudW1iZXIsIHR5OiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgejIgPSBNYXRoLnBvdygyLCB6KTtcbiAgICAgICAgY29uc3QgZmVhdHVyZXMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBmZWF0dXJlIG9mIHRoaXMuZmVhdHVyZXMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGlmIChpbnRlcnNlY3RzVGlsZShmZWF0dXJlLCB6MiwgdHgsIHR5KSkge1xuICAgICAgICAgICAgICAgIGZlYXR1cmVzLnB1c2gob3V0cHV0RmVhdHVyZShmZWF0dXJlLCB6MiwgdHgsIHR5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtmZWF0dXJlc307XG4gICAgfVxuXG4gICAgZ2V0RmVhdHVyZXMoKSB7XG4gICAgICAgIHJldHVybiBbLi4udGhpcy5mZWF0dXJlcy52YWx1ZXMoKV07XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpbnRlcnNlY3RzVGlsZSh7bWluWCwgbWluWSwgbWF4WCwgbWF4WX06IEJCb3gsIHoyOiBudW1iZXIsIHR4OiBudW1iZXIsIHR5OiBudW1iZXIpIHtcbiAgICBjb25zdCB4MCA9ICh0eCAtIFBBRCkgLyB6MjtcbiAgICBjb25zdCB5MCA9ICh0eSAtIFBBRCkgLyB6MjtcbiAgICBjb25zdCB4MSA9ICh0eCArIDEgKyBQQUQpIC8gejI7XG4gICAgY29uc3QgeTEgPSAodHkgKyAxICsgUEFEKSAvIHoyO1xuICAgIHJldHVybiBtaW5YIDwgeDEgJiYgbWluWSA8IHkxICYmIG1heFggPiB4MCAmJiBtYXhZID4geTA7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRGZWF0dXJlKG9yaWdpbmFsRmVhdHVyZTogR2VvSlNPTi5GZWF0dXJlKTogSW50ZXJuYWxGZWF0dXJlIHtcbiAgICBjb25zdCB7aWQsIGdlb21ldHJ5LCBwcm9wZXJ0aWVzfSA9IG9yaWdpbmFsRmVhdHVyZTtcbiAgICBpZiAoIWdlb21ldHJ5KSByZXR1cm47XG4gICAgaWYgKGdlb21ldHJ5LnR5cGUgPT09ICdHZW9tZXRyeUNvbGxlY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignR2VvbWV0cnlDb2xsZWN0aW9uIG5vdCBzdXBwb3J0ZWQgaW4gZHluYW1pYyBtb2RlLicpO1xuICAgIH1cbiAgICBjb25zdCB7dHlwZSwgY29vcmRpbmF0ZXN9ID0gZ2VvbWV0cnk7XG5cbiAgICBjb25zdCBmZWF0dXJlOiBJbnRlcm5hbEZlYXR1cmUgPSB7XG4gICAgICAgIGlkLFxuICAgICAgICB0eXBlOiAxLFxuICAgICAgICBnZW9tZXRyeTogW10sXG4gICAgICAgIHRhZ3M6IHByb3BlcnRpZXMsXG4gICAgICAgIG1pblg6IEluZmluaXR5LFxuICAgICAgICBtaW5ZOiBJbmZpbml0eSxcbiAgICAgICAgbWF4WDogLUluZmluaXR5LFxuICAgICAgICBtYXhZOiAtSW5maW5pdHlcbiAgICB9O1xuICAgIGNvbnN0IGdlb20gPSBmZWF0dXJlLmdlb21ldHJ5O1xuXG4gICAgaWYgKHR5cGUgPT09ICdQb2ludCcpIHtcbiAgICAgICAgY29udmVydFBvaW50KGNvb3JkaW5hdGVzLCBnZW9tIGFzIG51bWJlcltdLCBmZWF0dXJlKTtcblxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ011bHRpUG9pbnQnKSB7XG4gICAgICAgIGZvciAoY29uc3QgcCBvZiBjb29yZGluYXRlcykge1xuICAgICAgICAgICAgY29udmVydFBvaW50KHAsIGdlb20gYXMgbnVtYmVyW10sIGZlYXR1cmUpO1xuICAgICAgICB9XG5cbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdMaW5lU3RyaW5nJykge1xuICAgICAgICBmZWF0dXJlLnR5cGUgPSAyO1xuICAgICAgICBjb252ZXJ0TGluZShjb29yZGluYXRlcywgZ2VvbSBhcyBudW1iZXJbXVtdLCBmZWF0dXJlKTtcblxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ011bHRpTGluZVN0cmluZycpIHtcbiAgICAgICAgZmVhdHVyZS50eXBlID0gMjtcbiAgICAgICAgY29udmVydExpbmVzKGNvb3JkaW5hdGVzLCBnZW9tIGFzIG51bWJlcltdW10sIGZlYXR1cmUpO1xuXG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnUG9seWdvbicpIHtcbiAgICAgICAgZmVhdHVyZS50eXBlID0gMztcbiAgICAgICAgY29udmVydExpbmVzKGNvb3JkaW5hdGVzLCBnZW9tIGFzIG51bWJlcltdW10sIGZlYXR1cmUsIHRydWUpO1xuXG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnTXVsdGlQb2x5Z29uJykge1xuICAgICAgICBmZWF0dXJlLnR5cGUgPSAzO1xuICAgICAgICBmb3IgKGNvbnN0IHBvbHlnb24gb2YgY29vcmRpbmF0ZXMpIHtcbiAgICAgICAgICAgIGNvbnZlcnRMaW5lcyhwb2x5Z29uLCBnZW9tIGFzIG51bWJlcltdW10sIGZlYXR1cmUsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lucHV0IGRhdGEgaXMgbm90IGEgdmFsaWQgR2VvSlNPTiBvYmplY3QuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZlYXR1cmU7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRQb2ludChbbG5nLCBsYXRdOiBHZW9KU09OLlBvc2l0aW9uLCBvdXQ6IG51bWJlcltdLCBiYm94OiBCQm94KSB7XG4gICAgY29uc3QgeCA9IG1lcmNhdG9yWGZyb21MbmcobG5nKTtcbiAgICBsZXQgeSA9IG1lcmNhdG9yWWZyb21MYXQobGF0KTtcbiAgICB5ID0geSA8IDAgPyAwIDogeSA+IDEgPyAxIDogeTtcbiAgICBvdXQucHVzaCh4LCB5KTtcblxuICAgIGJib3gubWluWCA9IE1hdGgubWluKGJib3gubWluWCwgeCk7XG4gICAgYmJveC5taW5ZID0gTWF0aC5taW4oYmJveC5taW5ZLCB5KTtcbiAgICBiYm94Lm1heFggPSBNYXRoLm1heChiYm94Lm1heFgsIHgpO1xuICAgIGJib3gubWF4WSA9IE1hdGgubWF4KGJib3gubWF4WSwgeSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRMaW5lKHJpbmc6IEdlb0pTT04uUG9zaXRpb25bXSwgb3V0OiBudW1iZXJbXVtdLCBiYm94OiBCQm94LCBpc1BvbHlnb246IGJvb2xlYW4gPSBmYWxzZSwgaXNPdXRlcjogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgY29uc3QgbmV3TGluZTogbnVtYmVyW10gPSBbXTtcbiAgICBmb3IgKGNvbnN0IHAgb2YgcmluZykge1xuICAgICAgICBjb252ZXJ0UG9pbnQocCwgbmV3TGluZSwgYmJveCk7XG4gICAgfVxuICAgIG91dC5wdXNoKG5ld0xpbmUpO1xuICAgIGlmIChpc1BvbHlnb24pIHJld2luZChuZXdMaW5lLCBpc091dGVyKTtcbn1cblxuZnVuY3Rpb24gY29udmVydExpbmVzKGxpbmVzOiBHZW9KU09OLlBvc2l0aW9uW11bXSwgb3V0OiBudW1iZXJbXVtdLCBiYm94OiBCQm94LCBpc1BvbHlnb246IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29udmVydExpbmUobGluZXNbaV0sIG91dCwgYmJveCwgaXNQb2x5Z29uLCBpID09PSAwKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG91dHB1dEZlYXR1cmUoZmVhdHVyZTogSW50ZXJuYWxGZWF0dXJlLCB6MjogbnVtYmVyLCB0eDogbnVtYmVyLCB0eTogbnVtYmVyKTogRmVhdHVyZSB7XG4gICAgY29uc3Qge2lkLCB0eXBlLCBnZW9tZXRyeSwgdGFnc30gPSBmZWF0dXJlO1xuICAgIGNvbnN0IHRpbGVHZW9tID0gW107XG5cbiAgICBpZiAodHlwZSA9PT0gMSkge1xuICAgICAgICB0cmFuc2Zvcm1Qb2ludHMoZ2VvbWV0cnkgYXMgbnVtYmVyW10sIHoyLCB0eCwgdHksIHRpbGVHZW9tKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGNvbnN0IHJpbmcgb2YgZ2VvbWV0cnkpIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybUFuZENsaXBMaW5lKHJpbmcgYXMgbnVtYmVyW10sIHoyLCB0eCwgdHksIHRpbGVHZW9tKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGlkLFxuICAgICAgICB0eXBlLFxuICAgICAgICBnZW9tZXRyeTogdGlsZUdlb20sXG4gICAgICAgIHRhZ3NcbiAgICB9O1xufVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm1Qb2ludHMobGluZTogbnVtYmVyW10sIHoyOiBudW1iZXIsIHR4OiBudW1iZXIsIHR5OiBudW1iZXIsIG91dDogW251bWJlciwgbnVtYmVyXVtdKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgIGNvbnN0IG94ID0gTWF0aC5yb3VuZChFWFRFTlQgKiAobGluZVtpICsgMF0gKiB6MiAtIHR4KSk7XG4gICAgICAgIGNvbnN0IG95ID0gTWF0aC5yb3VuZChFWFRFTlQgKiAobGluZVtpICsgMV0gKiB6MiAtIHR5KSk7XG4gICAgICAgIG91dC5wdXNoKFtveCwgb3ldKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHRyYW5zZm9ybUFuZENsaXBMaW5lKGxpbmU6IG51bWJlcltdLCB6MjogbnVtYmVyLCB0eDogbnVtYmVyLCB0eTogbnVtYmVyLCBvdXQ6IFtudW1iZXIsIG51bWJlcl1bXSkge1xuICAgIGNvbnN0IG1pbiA9IC1QQURfUFg7XG4gICAgY29uc3QgbWF4ID0gRVhURU5UICsgUEFEX1BYO1xuICAgIGxldCBwYXJ0O1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lLmxlbmd0aCAtIDI7IGkgKz0gMikge1xuICAgICAgICBsZXQgeDAgPSBNYXRoLnJvdW5kKEVYVEVOVCAqIChsaW5lW2kgKyAwXSAqIHoyIC0gdHgpKTtcbiAgICAgICAgbGV0IHkwID0gTWF0aC5yb3VuZChFWFRFTlQgKiAobGluZVtpICsgMV0gKiB6MiAtIHR5KSk7XG4gICAgICAgIGxldCB4MSA9IE1hdGgucm91bmQoRVhURU5UICogKGxpbmVbaSArIDJdICogejIgLSB0eCkpO1xuICAgICAgICBsZXQgeTEgPSBNYXRoLnJvdW5kKEVYVEVOVCAqIChsaW5lW2kgKyAzXSAqIHoyIC0gdHkpKTtcbiAgICAgICAgY29uc3QgZHggPSB4MSAtIHgwO1xuICAgICAgICBjb25zdCBkeSA9IHkxIC0geTA7XG5cbiAgICAgICAgaWYgKHgwIDwgbWluICYmIHgxIDwgbWluKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIGlmICh4MCA8IG1pbikge1xuICAgICAgICAgICAgeTAgPSB5MCArIE1hdGgucm91bmQoZHkgKiAoKG1pbiAtIHgwKSAvIGR4KSk7XG4gICAgICAgICAgICB4MCA9IG1pbjtcbiAgICAgICAgfSBlbHNlIGlmICh4MSA8IG1pbikge1xuICAgICAgICAgICAgeTEgPSB5MCArIE1hdGgucm91bmQoZHkgKiAoKG1pbiAtIHgwKSAvIGR4KSk7XG4gICAgICAgICAgICB4MSA9IG1pbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh5MCA8IG1pbiAmJiB5MSA8IG1pbikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gZWxzZSBpZiAoeTAgPCBtaW4pIHtcbiAgICAgICAgICAgIHgwID0geDAgKyBNYXRoLnJvdW5kKGR4ICogKChtaW4gLSB5MCkgLyBkeSkpO1xuICAgICAgICAgICAgeTAgPSBtaW47XG4gICAgICAgIH0gZWxzZSBpZiAoeTEgPCBtaW4pIHtcbiAgICAgICAgICAgIHgxID0geDAgKyBNYXRoLnJvdW5kKGR4ICogKChtaW4gLSB5MCkgLyBkeSkpO1xuICAgICAgICAgICAgeTEgPSBtaW47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoeDAgPj0gbWF4ICYmIHgxID49IG1heCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gZWxzZSBpZiAoeDAgPj0gbWF4KSB7XG4gICAgICAgICAgICB5MCA9IHkwICsgTWF0aC5yb3VuZChkeSAqICgobWF4IC0geDApIC8gZHgpKTtcbiAgICAgICAgICAgIHgwID0gbWF4O1xuICAgICAgICB9IGVsc2UgaWYgKHgxID49IG1heCkge1xuICAgICAgICAgICAgeTEgPSB5MCArIE1hdGgucm91bmQoZHkgKiAoKG1heCAtIHgwKSAvIGR4KSk7XG4gICAgICAgICAgICB4MSA9IG1heDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh5MCA+PSBtYXggJiYgeTEgPj0gbWF4KSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIGlmICh5MCA+PSBtYXgpIHtcbiAgICAgICAgICAgIHgwID0geDAgKyBNYXRoLnJvdW5kKGR4ICogKChtYXggLSB5MCkgLyBkeSkpO1xuICAgICAgICAgICAgeTAgPSBtYXg7XG4gICAgICAgIH0gZWxzZSBpZiAoeTEgPj0gbWF4KSB7XG4gICAgICAgICAgICB4MSA9IHgwICsgTWF0aC5yb3VuZChkeCAqICgobWF4IC0geTApIC8gZHkpKTtcbiAgICAgICAgICAgIHkxID0gbWF4O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFwYXJ0IHx8IHgwICE9PSBwYXJ0W3BhcnQubGVuZ3RoIC0gMV1bMF0gfHwgeTAgIT09IHBhcnRbcGFydC5sZW5ndGggLSAxXVsxXSkge1xuICAgICAgICAgICAgcGFydCA9IFtbeDAsIHkwXV07XG4gICAgICAgICAgICBvdXQucHVzaChwYXJ0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcnQucHVzaChbeDEsIHkxXSk7XG4gICAgfVxufVxuXG4vLyByZXdpbmQgYSBwb2x5Z29uIHJpbmcgdG8gYSBnaXZlbiB3aW5kaW5nIG9yZGVyIChjbG9ja3dpc2Ugb3IgYW50aS1jbG9ja3dpc2UpXG5mdW5jdGlvbiByZXdpbmQocmluZzogbnVtYmVyW10sIGNsb2Nrd2lzZTogYm9vbGVhbikge1xuICAgIGxldCBhcmVhID0gMDtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcmluZy5sZW5ndGgsIGogPSBsZW4gLSAyOyBpIDwgbGVuOyBqID0gaSwgaSArPSAyKSB7XG4gICAgICAgIGFyZWEgKz0gKHJpbmdbaV0gLSByaW5nW2pdKSAqIChyaW5nW2kgKyAxXSArIHJpbmdbaiArIDFdKTtcbiAgICB9XG4gICAgaWYgKGFyZWEgPiAwID09PSBjbG9ja3dpc2UpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHJpbmcubGVuZ3RoOyBpIDwgbGVuIC8gMjsgaSArPSAyKSB7XG4gICAgICAgICAgICBjb25zdCB4ID0gcmluZ1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHkgPSByaW5nW2kgKyAxXTtcbiAgICAgICAgICAgIHJpbmdbaV0gPSByaW5nW2xlbiAtIDIgLSBpXTtcbiAgICAgICAgICAgIHJpbmdbaSArIDFdID0gcmluZ1tsZW4gLSAxIC0gaV07XG4gICAgICAgICAgICByaW5nW2xlbiAtIDIgLSBpXSA9IHg7XG4gICAgICAgICAgICByaW5nW2xlbiAtIDEgLSBpXSA9IHk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJ2YXIgUGJmID0gcmVxdWlyZSgncGJmJylcbnZhciBHZW9KU09OV3JhcHBlciA9IHJlcXVpcmUoJy4vbGliL2dlb2pzb25fd3JhcHBlcicpXG5cbm1vZHVsZS5leHBvcnRzID0gZnJvbVZlY3RvclRpbGVKc1xubW9kdWxlLmV4cG9ydHMuZnJvbVZlY3RvclRpbGVKcyA9IGZyb21WZWN0b3JUaWxlSnNcbm1vZHVsZS5leHBvcnRzLmZyb21HZW9qc29uVnQgPSBmcm9tR2VvanNvblZ0XG5tb2R1bGUuZXhwb3J0cy5HZW9KU09OV3JhcHBlciA9IEdlb0pTT05XcmFwcGVyXG5cbi8qKlxuICogU2VyaWFsaXplIGEgdmVjdG9yLXRpbGUtanMtY3JlYXRlZCB0aWxlIHRvIHBiZlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0aWxlXG4gKiBAcmV0dXJuIHtCdWZmZXJ9IHVuY29tcHJlc3NlZCwgcGJmLXNlcmlhbGl6ZWQgdGlsZSBkYXRhXG4gKi9cbmZ1bmN0aW9uIGZyb21WZWN0b3JUaWxlSnMgKHRpbGUpIHtcbiAgdmFyIG91dCA9IG5ldyBQYmYoKVxuICB3cml0ZVRpbGUodGlsZSwgb3V0KVxuICByZXR1cm4gb3V0LmZpbmlzaCgpXG59XG5cbi8qKlxuICogU2VyaWFsaXplZCBhIGdlb2pzb24tdnQtY3JlYXRlZCB0aWxlIHRvIHBiZi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gbGF5ZXJzIC0gQW4gb2JqZWN0IG1hcHBpbmcgbGF5ZXIgbmFtZXMgdG8gZ2VvanNvbi12dC1jcmVhdGVkIHZlY3RvciB0aWxlIG9iamVjdHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBBbiBvYmplY3Qgc3BlY2lmeWluZyB0aGUgdmVjdG9yLXRpbGUgc3BlY2lmaWNhdGlvbiB2ZXJzaW9uIGFuZCBleHRlbnQgdGhhdCB3ZXJlIHVzZWQgdG8gY3JlYXRlIGBsYXllcnNgLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnZlcnNpb249MV0gLSBWZXJzaW9uIG9mIHZlY3Rvci10aWxlIHNwZWMgdXNlZFxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmV4dGVudD00MDk2XSAtIEV4dGVudCBvZiB0aGUgdmVjdG9yIHRpbGVcbiAqIEByZXR1cm4ge0J1ZmZlcn0gdW5jb21wcmVzc2VkLCBwYmYtc2VyaWFsaXplZCB0aWxlIGRhdGFcbiAqL1xuZnVuY3Rpb24gZnJvbUdlb2pzb25WdCAobGF5ZXJzLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gIHZhciBsID0ge31cbiAgZm9yICh2YXIgayBpbiBsYXllcnMpIHtcbiAgICBsW2tdID0gbmV3IEdlb0pTT05XcmFwcGVyKGxheWVyc1trXS5mZWF0dXJlcywgb3B0aW9ucylcbiAgICBsW2tdLm5hbWUgPSBrXG4gICAgbFtrXS52ZXJzaW9uID0gb3B0aW9ucy52ZXJzaW9uXG4gICAgbFtrXS5leHRlbnQgPSBvcHRpb25zLmV4dGVudFxuICB9XG4gIHJldHVybiBmcm9tVmVjdG9yVGlsZUpzKHsgbGF5ZXJzOiBsIH0pXG59XG5cbmZ1bmN0aW9uIHdyaXRlVGlsZSAodGlsZSwgcGJmKSB7XG4gIGZvciAodmFyIGtleSBpbiB0aWxlLmxheWVycykge1xuICAgIHBiZi53cml0ZU1lc3NhZ2UoMywgd3JpdGVMYXllciwgdGlsZS5sYXllcnNba2V5XSlcbiAgfVxufVxuXG5mdW5jdGlvbiB3cml0ZUxheWVyIChsYXllciwgcGJmKSB7XG4gIHBiZi53cml0ZVZhcmludEZpZWxkKDE1LCBsYXllci52ZXJzaW9uIHx8IDEpXG4gIHBiZi53cml0ZVN0cmluZ0ZpZWxkKDEsIGxheWVyLm5hbWUgfHwgJycpXG4gIHBiZi53cml0ZVZhcmludEZpZWxkKDUsIGxheWVyLmV4dGVudCB8fCA0MDk2KVxuXG4gIHZhciBpXG4gIHZhciBjb250ZXh0ID0ge1xuICAgIGtleXM6IFtdLFxuICAgIHZhbHVlczogW10sXG4gICAga2V5Y2FjaGU6IHt9LFxuICAgIHZhbHVlY2FjaGU6IHt9XG4gIH1cblxuICBmb3IgKGkgPSAwOyBpIDwgbGF5ZXIubGVuZ3RoOyBpKyspIHtcbiAgICBjb250ZXh0LmZlYXR1cmUgPSBsYXllci5mZWF0dXJlKGkpXG4gICAgcGJmLndyaXRlTWVzc2FnZSgyLCB3cml0ZUZlYXR1cmUsIGNvbnRleHQpXG4gIH1cblxuICB2YXIga2V5cyA9IGNvbnRleHQua2V5c1xuICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIHBiZi53cml0ZVN0cmluZ0ZpZWxkKDMsIGtleXNbaV0pXG4gIH1cblxuICB2YXIgdmFsdWVzID0gY29udGV4dC52YWx1ZXNcbiAgZm9yIChpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgIHBiZi53cml0ZU1lc3NhZ2UoNCwgd3JpdGVWYWx1ZSwgdmFsdWVzW2ldKVxuICB9XG59XG5cbmZ1bmN0aW9uIHdyaXRlRmVhdHVyZSAoY29udGV4dCwgcGJmKSB7XG4gIHZhciBmZWF0dXJlID0gY29udGV4dC5mZWF0dXJlXG5cbiAgaWYgKGZlYXR1cmUuaWQgIT09IHVuZGVmaW5lZCkge1xuICAgIHBiZi53cml0ZVZhcmludEZpZWxkKDEsIGZlYXR1cmUuaWQpXG4gIH1cblxuICBwYmYud3JpdGVNZXNzYWdlKDIsIHdyaXRlUHJvcGVydGllcywgY29udGV4dClcbiAgcGJmLndyaXRlVmFyaW50RmllbGQoMywgZmVhdHVyZS50eXBlKVxuICBwYmYud3JpdGVNZXNzYWdlKDQsIHdyaXRlR2VvbWV0cnksIGZlYXR1cmUpXG59XG5cbmZ1bmN0aW9uIHdyaXRlUHJvcGVydGllcyAoY29udGV4dCwgcGJmKSB7XG4gIHZhciBmZWF0dXJlID0gY29udGV4dC5mZWF0dXJlXG4gIHZhciBrZXlzID0gY29udGV4dC5rZXlzXG4gIHZhciB2YWx1ZXMgPSBjb250ZXh0LnZhbHVlc1xuICB2YXIga2V5Y2FjaGUgPSBjb250ZXh0LmtleWNhY2hlXG4gIHZhciB2YWx1ZWNhY2hlID0gY29udGV4dC52YWx1ZWNhY2hlXG5cbiAgZm9yICh2YXIga2V5IGluIGZlYXR1cmUucHJvcGVydGllcykge1xuICAgIHZhciB2YWx1ZSA9IGZlYXR1cmUucHJvcGVydGllc1trZXldXG5cbiAgICB2YXIga2V5SW5kZXggPSBrZXljYWNoZVtrZXldXG4gICAgaWYgKHZhbHVlID09PSBudWxsKSBjb250aW51ZSAvLyBkb24ndCBlbmNvZGUgbnVsbCB2YWx1ZSBwcm9wZXJ0aWVzXG5cbiAgICBpZiAodHlwZW9mIGtleUluZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgICAga2V5cy5wdXNoKGtleSlcbiAgICAgIGtleUluZGV4ID0ga2V5cy5sZW5ndGggLSAxXG4gICAgICBrZXljYWNoZVtrZXldID0ga2V5SW5kZXhcbiAgICB9XG4gICAgcGJmLndyaXRlVmFyaW50KGtleUluZGV4KVxuXG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWVcbiAgICBpZiAodHlwZSAhPT0gJ3N0cmluZycgJiYgdHlwZSAhPT0gJ2Jvb2xlYW4nICYmIHR5cGUgIT09ICdudW1iZXInKSB7XG4gICAgICB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKVxuICAgIH1cbiAgICB2YXIgdmFsdWVLZXkgPSB0eXBlICsgJzonICsgdmFsdWVcbiAgICB2YXIgdmFsdWVJbmRleCA9IHZhbHVlY2FjaGVbdmFsdWVLZXldXG4gICAgaWYgKHR5cGVvZiB2YWx1ZUluZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFsdWVzLnB1c2godmFsdWUpXG4gICAgICB2YWx1ZUluZGV4ID0gdmFsdWVzLmxlbmd0aCAtIDFcbiAgICAgIHZhbHVlY2FjaGVbdmFsdWVLZXldID0gdmFsdWVJbmRleFxuICAgIH1cbiAgICBwYmYud3JpdGVWYXJpbnQodmFsdWVJbmRleClcbiAgfVxufVxuXG5mdW5jdGlvbiBjb21tYW5kIChjbWQsIGxlbmd0aCkge1xuICByZXR1cm4gKGxlbmd0aCA8PCAzKSArIChjbWQgJiAweDcpXG59XG5cbmZ1bmN0aW9uIHppZ3phZyAobnVtKSB7XG4gIHJldHVybiAobnVtIDw8IDEpIF4gKG51bSA+PiAzMSlcbn1cblxuZnVuY3Rpb24gd3JpdGVHZW9tZXRyeSAoZmVhdHVyZSwgcGJmKSB7XG4gIHZhciBnZW9tZXRyeSA9IGZlYXR1cmUubG9hZEdlb21ldHJ5KClcbiAgdmFyIHR5cGUgPSBmZWF0dXJlLnR5cGVcbiAgdmFyIHggPSAwXG4gIHZhciB5ID0gMFxuICB2YXIgcmluZ3MgPSBnZW9tZXRyeS5sZW5ndGhcbiAgZm9yICh2YXIgciA9IDA7IHIgPCByaW5nczsgcisrKSB7XG4gICAgdmFyIHJpbmcgPSBnZW9tZXRyeVtyXVxuICAgIHZhciBjb3VudCA9IDFcbiAgICBpZiAodHlwZSA9PT0gMSkge1xuICAgICAgY291bnQgPSByaW5nLmxlbmd0aFxuICAgIH1cbiAgICBwYmYud3JpdGVWYXJpbnQoY29tbWFuZCgxLCBjb3VudCkpIC8vIG1vdmV0b1xuICAgIC8vIGRvIG5vdCB3cml0ZSBwb2x5Z29uIGNsb3NpbmcgcGF0aCBhcyBsaW5ldG9cbiAgICB2YXIgbGluZUNvdW50ID0gdHlwZSA9PT0gMyA/IHJpbmcubGVuZ3RoIC0gMSA6IHJpbmcubGVuZ3RoXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lQ291bnQ7IGkrKykge1xuICAgICAgaWYgKGkgPT09IDEgJiYgdHlwZSAhPT0gMSkge1xuICAgICAgICBwYmYud3JpdGVWYXJpbnQoY29tbWFuZCgyLCBsaW5lQ291bnQgLSAxKSkgLy8gbGluZXRvXG4gICAgICB9XG4gICAgICB2YXIgZHggPSByaW5nW2ldLnggLSB4XG4gICAgICB2YXIgZHkgPSByaW5nW2ldLnkgLSB5XG4gICAgICBwYmYud3JpdGVWYXJpbnQoemlnemFnKGR4KSlcbiAgICAgIHBiZi53cml0ZVZhcmludCh6aWd6YWcoZHkpKVxuICAgICAgeCArPSBkeFxuICAgICAgeSArPSBkeVxuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gMykge1xuICAgICAgcGJmLndyaXRlVmFyaW50KGNvbW1hbmQoNywgMSkpIC8vIGNsb3NlcGF0aFxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB3cml0ZVZhbHVlICh2YWx1ZSwgcGJmKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlXG4gIGlmICh0eXBlID09PSAnc3RyaW5nJykge1xuICAgIHBiZi53cml0ZVN0cmluZ0ZpZWxkKDEsIHZhbHVlKVxuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdib29sZWFuJykge1xuICAgIHBiZi53cml0ZUJvb2xlYW5GaWVsZCg3LCB2YWx1ZSlcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJykge1xuICAgIGlmICh2YWx1ZSAlIDEgIT09IDApIHtcbiAgICAgIHBiZi53cml0ZURvdWJsZUZpZWxkKDMsIHZhbHVlKVxuICAgIH0gZWxzZSBpZiAodmFsdWUgPCAwKSB7XG4gICAgICBwYmYud3JpdGVTVmFyaW50RmllbGQoNiwgdmFsdWUpXG4gICAgfSBlbHNlIHtcbiAgICAgIHBiZi53cml0ZVZhcmludEZpZWxkKDUsIHZhbHVlKVxuICAgIH1cbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbnZhciBQb2ludCA9IHJlcXVpcmUoJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknKVxudmFyIFZlY3RvclRpbGVGZWF0dXJlID0gcmVxdWlyZSgnQG1hcGJveC92ZWN0b3ItdGlsZScpLlZlY3RvclRpbGVGZWF0dXJlXG5cbm1vZHVsZS5leHBvcnRzID0gR2VvSlNPTldyYXBwZXJcblxuLy8gY29uZm9ybSB0byB2ZWN0b3J0aWxlIGFwaVxuZnVuY3Rpb24gR2VvSlNPTldyYXBwZXIgKGZlYXR1cmVzLCBvcHRpb25zKSB7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwge31cbiAgdGhpcy5mZWF0dXJlcyA9IGZlYXR1cmVzXG4gIHRoaXMubGVuZ3RoID0gZmVhdHVyZXMubGVuZ3RoXG59XG5cbkdlb0pTT05XcmFwcGVyLnByb3RvdHlwZS5mZWF0dXJlID0gZnVuY3Rpb24gKGkpIHtcbiAgcmV0dXJuIG5ldyBGZWF0dXJlV3JhcHBlcih0aGlzLmZlYXR1cmVzW2ldLCB0aGlzLm9wdGlvbnMuZXh0ZW50KVxufVxuXG5mdW5jdGlvbiBGZWF0dXJlV3JhcHBlciAoZmVhdHVyZSwgZXh0ZW50KSB7XG4gIHRoaXMuaWQgPSB0eXBlb2YgZmVhdHVyZS5pZCA9PT0gJ251bWJlcicgPyBmZWF0dXJlLmlkIDogdW5kZWZpbmVkXG4gIHRoaXMudHlwZSA9IGZlYXR1cmUudHlwZVxuICB0aGlzLnJhd0dlb21ldHJ5ID0gZmVhdHVyZS50eXBlID09PSAxID8gW2ZlYXR1cmUuZ2VvbWV0cnldIDogZmVhdHVyZS5nZW9tZXRyeVxuICB0aGlzLnByb3BlcnRpZXMgPSBmZWF0dXJlLnRhZ3NcbiAgdGhpcy5leHRlbnQgPSBleHRlbnQgfHwgNDA5NlxufVxuXG5GZWF0dXJlV3JhcHBlci5wcm90b3R5cGUubG9hZEdlb21ldHJ5ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcmluZ3MgPSB0aGlzLnJhd0dlb21ldHJ5XG4gIHRoaXMuZ2VvbWV0cnkgPSBbXVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcmluZyA9IHJpbmdzW2ldXG4gICAgdmFyIG5ld1JpbmcgPSBbXVxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgcmluZy5sZW5ndGg7IGorKykge1xuICAgICAgbmV3UmluZy5wdXNoKG5ldyBQb2ludChyaW5nW2pdWzBdLCByaW5nW2pdWzFdKSlcbiAgICB9XG4gICAgdGhpcy5nZW9tZXRyeS5wdXNoKG5ld1JpbmcpXG4gIH1cbiAgcmV0dXJuIHRoaXMuZ2VvbWV0cnlcbn1cblxuRmVhdHVyZVdyYXBwZXIucHJvdG90eXBlLmJib3ggPSBmdW5jdGlvbiAoKSB7XG4gIGlmICghdGhpcy5nZW9tZXRyeSkgdGhpcy5sb2FkR2VvbWV0cnkoKVxuXG4gIHZhciByaW5ncyA9IHRoaXMuZ2VvbWV0cnlcbiAgdmFyIHgxID0gSW5maW5pdHlcbiAgdmFyIHgyID0gLUluZmluaXR5XG4gIHZhciB5MSA9IEluZmluaXR5XG4gIHZhciB5MiA9IC1JbmZpbml0eVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcmluZyA9IHJpbmdzW2ldXG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJpbmcubGVuZ3RoOyBqKyspIHtcbiAgICAgIHZhciBjb29yZCA9IHJpbmdbal1cblxuICAgICAgeDEgPSBNYXRoLm1pbih4MSwgY29vcmQueClcbiAgICAgIHgyID0gTWF0aC5tYXgoeDIsIGNvb3JkLngpXG4gICAgICB5MSA9IE1hdGgubWluKHkxLCBjb29yZC55KVxuICAgICAgeTIgPSBNYXRoLm1heCh5MiwgY29vcmQueSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gW3gxLCB5MSwgeDIsIHkyXVxufVxuXG5GZWF0dXJlV3JhcHBlci5wcm90b3R5cGUudG9HZW9KU09OID0gVmVjdG9yVGlsZUZlYXR1cmUucHJvdG90eXBlLnRvR2VvSlNPTlxuIiwiXG5pbXBvcnQgS0RCdXNoIGZyb20gJ2tkYnVzaCc7XG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgIG1pblpvb206IDAsICAgLy8gbWluIHpvb20gdG8gZ2VuZXJhdGUgY2x1c3RlcnMgb25cbiAgICBtYXhab29tOiAxNiwgIC8vIG1heCB6b29tIGxldmVsIHRvIGNsdXN0ZXIgdGhlIHBvaW50cyBvblxuICAgIG1pblBvaW50czogMiwgLy8gbWluaW11bSBwb2ludHMgdG8gZm9ybSBhIGNsdXN0ZXJcbiAgICByYWRpdXM6IDQwLCAgIC8vIGNsdXN0ZXIgcmFkaXVzIGluIHBpeGVsc1xuICAgIGV4dGVudDogNTEyLCAgLy8gdGlsZSBleHRlbnQgKHJhZGl1cyBpcyBjYWxjdWxhdGVkIHJlbGF0aXZlIHRvIGl0KVxuICAgIG5vZGVTaXplOiA2NCwgLy8gc2l6ZSBvZiB0aGUgS0QtdHJlZSBsZWFmIG5vZGUsIGFmZmVjdHMgcGVyZm9ybWFuY2VcbiAgICBsb2c6IGZhbHNlLCAgIC8vIHdoZXRoZXIgdG8gbG9nIHRpbWluZyBpbmZvXG5cbiAgICAvLyB3aGV0aGVyIHRvIGdlbmVyYXRlIG51bWVyaWMgaWRzIGZvciBpbnB1dCBmZWF0dXJlcyAoaW4gdmVjdG9yIHRpbGVzKVxuICAgIGdlbmVyYXRlSWQ6IGZhbHNlLFxuXG4gICAgLy8gYSByZWR1Y2UgZnVuY3Rpb24gZm9yIGNhbGN1bGF0aW5nIGN1c3RvbSBjbHVzdGVyIHByb3BlcnRpZXNcbiAgICByZWR1Y2U6IG51bGwsIC8vIChhY2N1bXVsYXRlZCwgcHJvcHMpID0+IHsgYWNjdW11bGF0ZWQuc3VtICs9IHByb3BzLnN1bTsgfVxuXG4gICAgLy8gcHJvcGVydGllcyB0byB1c2UgZm9yIGluZGl2aWR1YWwgcG9pbnRzIHdoZW4gcnVubmluZyB0aGUgcmVkdWNlclxuICAgIG1hcDogcHJvcHMgPT4gcHJvcHMgLy8gcHJvcHMgPT4gKHtzdW06IHByb3BzLm15X3ZhbHVlfSlcbn07XG5cbmNvbnN0IGZyb3VuZCA9IE1hdGguZnJvdW5kIHx8ICh0bXAgPT4gKCh4KSA9PiB7IHRtcFswXSA9ICt4OyByZXR1cm4gdG1wWzBdOyB9KSkobmV3IEZsb2F0MzJBcnJheSgxKSk7XG5cbmNvbnN0IE9GRlNFVF9aT09NID0gMjtcbmNvbnN0IE9GRlNFVF9JRCA9IDM7XG5jb25zdCBPRkZTRVRfUEFSRU5UID0gNDtcbmNvbnN0IE9GRlNFVF9OVU0gPSA1O1xuY29uc3QgT0ZGU0VUX1BST1AgPSA2O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdXBlcmNsdXN0ZXIge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKGRlZmF1bHRPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMudHJlZXMgPSBuZXcgQXJyYXkodGhpcy5vcHRpb25zLm1heFpvb20gKyAxKTtcbiAgICAgICAgdGhpcy5zdHJpZGUgPSB0aGlzLm9wdGlvbnMucmVkdWNlID8gNyA6IDY7XG4gICAgICAgIHRoaXMuY2x1c3RlclByb3BzID0gW107XG4gICAgfVxuXG4gICAgbG9hZChwb2ludHMpIHtcbiAgICAgICAgY29uc3Qge2xvZywgbWluWm9vbSwgbWF4Wm9vbX0gPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgaWYgKGxvZykgY29uc29sZS50aW1lKCd0b3RhbCB0aW1lJyk7XG5cbiAgICAgICAgY29uc3QgdGltZXJJZCA9IGBwcmVwYXJlICR7ICBwb2ludHMubGVuZ3RoICB9IHBvaW50c2A7XG4gICAgICAgIGlmIChsb2cpIGNvbnNvbGUudGltZSh0aW1lcklkKTtcblxuICAgICAgICB0aGlzLnBvaW50cyA9IHBvaW50cztcblxuICAgICAgICAvLyBnZW5lcmF0ZSBhIGNsdXN0ZXIgb2JqZWN0IGZvciBlYWNoIHBvaW50IGFuZCBpbmRleCBpbnB1dCBwb2ludHMgaW50byBhIEtELXRyZWVcbiAgICAgICAgY29uc3QgZGF0YSA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgaWYgKCFwLmdlb21ldHJ5KSBjb250aW51ZTtcblxuICAgICAgICAgICAgY29uc3QgW2xuZywgbGF0XSA9IHAuZ2VvbWV0cnkuY29vcmRpbmF0ZXM7XG4gICAgICAgICAgICBjb25zdCB4ID0gZnJvdW5kKGxuZ1gobG5nKSk7XG4gICAgICAgICAgICBjb25zdCB5ID0gZnJvdW5kKGxhdFkobGF0KSk7XG4gICAgICAgICAgICAvLyBzdG9yZSBpbnRlcm5hbCBwb2ludC9jbHVzdGVyIGRhdGEgaW4gZmxhdCBudW1lcmljIGFycmF5cyBmb3IgcGVyZm9ybWFuY2VcbiAgICAgICAgICAgIGRhdGEucHVzaChcbiAgICAgICAgICAgICAgICB4LCB5LCAvLyBwcm9qZWN0ZWQgcG9pbnQgY29vcmRpbmF0ZXNcbiAgICAgICAgICAgICAgICBJbmZpbml0eSwgLy8gdGhlIGxhc3Qgem9vbSB0aGUgcG9pbnQgd2FzIHByb2Nlc3NlZCBhdFxuICAgICAgICAgICAgICAgIGksIC8vIGluZGV4IG9mIHRoZSBzb3VyY2UgZmVhdHVyZSBpbiB0aGUgb3JpZ2luYWwgaW5wdXQgYXJyYXlcbiAgICAgICAgICAgICAgICAtMSwgLy8gcGFyZW50IGNsdXN0ZXIgaWRcbiAgICAgICAgICAgICAgICAxIC8vIG51bWJlciBvZiBwb2ludHMgaW4gYSBjbHVzdGVyXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZWR1Y2UpIGRhdGEucHVzaCgwKTsgLy8gbm9vcFxuICAgICAgICB9XG4gICAgICAgIGxldCB0cmVlID0gdGhpcy50cmVlc1ttYXhab29tICsgMV0gPSB0aGlzLl9jcmVhdGVUcmVlKGRhdGEpO1xuXG4gICAgICAgIGlmIChsb2cpIGNvbnNvbGUudGltZUVuZCh0aW1lcklkKTtcblxuICAgICAgICAvLyBjbHVzdGVyIHBvaW50cyBvbiBtYXggem9vbSwgdGhlbiBjbHVzdGVyIHRoZSByZXN1bHRzIG9uIHByZXZpb3VzIHpvb20sIGV0Yy47XG4gICAgICAgIC8vIHJlc3VsdHMgaW4gYSBjbHVzdGVyIGhpZXJhcmNoeSBhY3Jvc3Mgem9vbSBsZXZlbHNcbiAgICAgICAgZm9yIChsZXQgeiA9IG1heFpvb207IHogPj0gbWluWm9vbTsgei0tKSB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSArRGF0ZS5ub3coKTtcblxuICAgICAgICAgICAgLy8gY3JlYXRlIGEgbmV3IHNldCBvZiBjbHVzdGVycyBmb3IgdGhlIHpvb20gYW5kIGluZGV4IHRoZW0gd2l0aCBhIEtELXRyZWVcbiAgICAgICAgICAgIHRyZWUgPSB0aGlzLnRyZWVzW3pdID0gdGhpcy5fY3JlYXRlVHJlZSh0aGlzLl9jbHVzdGVyKHRyZWUsIHopKTtcblxuICAgICAgICAgICAgaWYgKGxvZykgY29uc29sZS5sb2coJ3olZDogJWQgY2x1c3RlcnMgaW4gJWRtcycsIHosIHRyZWUubnVtSXRlbXMsICtEYXRlLm5vdygpIC0gbm93KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsb2cpIGNvbnNvbGUudGltZUVuZCgndG90YWwgdGltZScpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGdldENsdXN0ZXJzKGJib3gsIHpvb20pIHtcbiAgICAgICAgbGV0IG1pbkxuZyA9ICgoYmJveFswXSArIDE4MCkgJSAzNjAgKyAzNjApICUgMzYwIC0gMTgwO1xuICAgICAgICBjb25zdCBtaW5MYXQgPSBNYXRoLm1heCgtOTAsIE1hdGgubWluKDkwLCBiYm94WzFdKSk7XG4gICAgICAgIGxldCBtYXhMbmcgPSBiYm94WzJdID09PSAxODAgPyAxODAgOiAoKGJib3hbMl0gKyAxODApICUgMzYwICsgMzYwKSAlIDM2MCAtIDE4MDtcbiAgICAgICAgY29uc3QgbWF4TGF0ID0gTWF0aC5tYXgoLTkwLCBNYXRoLm1pbig5MCwgYmJveFszXSkpO1xuXG4gICAgICAgIGlmIChiYm94WzJdIC0gYmJveFswXSA+PSAzNjApIHtcbiAgICAgICAgICAgIG1pbkxuZyA9IC0xODA7XG4gICAgICAgICAgICBtYXhMbmcgPSAxODA7XG4gICAgICAgIH0gZWxzZSBpZiAobWluTG5nID4gbWF4TG5nKSB7XG4gICAgICAgICAgICBjb25zdCBlYXN0ZXJuSGVtID0gdGhpcy5nZXRDbHVzdGVycyhbbWluTG5nLCBtaW5MYXQsIDE4MCwgbWF4TGF0XSwgem9vbSk7XG4gICAgICAgICAgICBjb25zdCB3ZXN0ZXJuSGVtID0gdGhpcy5nZXRDbHVzdGVycyhbLTE4MCwgbWluTGF0LCBtYXhMbmcsIG1heExhdF0sIHpvb20pO1xuICAgICAgICAgICAgcmV0dXJuIGVhc3Rlcm5IZW0uY29uY2F0KHdlc3Rlcm5IZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdHJlZSA9IHRoaXMudHJlZXNbdGhpcy5fbGltaXRab29tKHpvb20pXTtcbiAgICAgICAgY29uc3QgaWRzID0gdHJlZS5yYW5nZShsbmdYKG1pbkxuZyksIGxhdFkobWF4TGF0KSwgbG5nWChtYXhMbmcpLCBsYXRZKG1pbkxhdCkpO1xuICAgICAgICBjb25zdCBkYXRhID0gdHJlZS5kYXRhO1xuICAgICAgICBjb25zdCBjbHVzdGVycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIGlkcykge1xuICAgICAgICAgICAgY29uc3QgayA9IHRoaXMuc3RyaWRlICogaWQ7XG4gICAgICAgICAgICBjbHVzdGVycy5wdXNoKGRhdGFbayArIE9GRlNFVF9OVU1dID4gMSA/IGdldENsdXN0ZXJKU09OKGRhdGEsIGssIHRoaXMuY2x1c3RlclByb3BzKSA6IHRoaXMucG9pbnRzW2RhdGFbayArIE9GRlNFVF9JRF1dKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2x1c3RlcnM7XG4gICAgfVxuXG4gICAgZ2V0Q2hpbGRyZW4oY2x1c3RlcklkKSB7XG4gICAgICAgIGNvbnN0IG9yaWdpbklkID0gdGhpcy5fZ2V0T3JpZ2luSWQoY2x1c3RlcklkKTtcbiAgICAgICAgY29uc3Qgb3JpZ2luWm9vbSA9IHRoaXMuX2dldE9yaWdpblpvb20oY2x1c3RlcklkKTtcbiAgICAgICAgY29uc3QgZXJyb3JNc2cgPSAnTm8gY2x1c3RlciB3aXRoIHRoZSBzcGVjaWZpZWQgaWQuJztcblxuICAgICAgICBjb25zdCB0cmVlID0gdGhpcy50cmVlc1tvcmlnaW5ab29tXTtcbiAgICAgICAgaWYgKCF0cmVlKSB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNc2cpO1xuXG4gICAgICAgIGNvbnN0IGRhdGEgPSB0cmVlLmRhdGE7XG4gICAgICAgIGlmIChvcmlnaW5JZCAqIHRoaXMuc3RyaWRlID49IGRhdGEubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNc2cpO1xuXG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLm9wdGlvbnMucmFkaXVzIC8gKHRoaXMub3B0aW9ucy5leHRlbnQgKiBNYXRoLnBvdygyLCBvcmlnaW5ab29tIC0gMSkpO1xuICAgICAgICBjb25zdCB4ID0gZGF0YVtvcmlnaW5JZCAqIHRoaXMuc3RyaWRlXTtcbiAgICAgICAgY29uc3QgeSA9IGRhdGFbb3JpZ2luSWQgKiB0aGlzLnN0cmlkZSArIDFdO1xuICAgICAgICBjb25zdCBpZHMgPSB0cmVlLndpdGhpbih4LCB5LCByKTtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBpZCBvZiBpZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGsgPSBpZCAqIHRoaXMuc3RyaWRlO1xuICAgICAgICAgICAgaWYgKGRhdGFbayArIE9GRlNFVF9QQVJFTlRdID09PSBjbHVzdGVySWQpIHtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbi5wdXNoKGRhdGFbayArIE9GRlNFVF9OVU1dID4gMSA/IGdldENsdXN0ZXJKU09OKGRhdGEsIGssIHRoaXMuY2x1c3RlclByb3BzKSA6IHRoaXMucG9pbnRzW2RhdGFbayArIE9GRlNFVF9JRF1dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDApIHRocm93IG5ldyBFcnJvcihlcnJvck1zZyk7XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgIH1cblxuICAgIGdldExlYXZlcyhjbHVzdGVySWQsIGxpbWl0LCBvZmZzZXQpIHtcbiAgICAgICAgbGltaXQgPSBsaW1pdCB8fCAxMDtcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cbiAgICAgICAgY29uc3QgbGVhdmVzID0gW107XG4gICAgICAgIHRoaXMuX2FwcGVuZExlYXZlcyhsZWF2ZXMsIGNsdXN0ZXJJZCwgbGltaXQsIG9mZnNldCwgMCk7XG5cbiAgICAgICAgcmV0dXJuIGxlYXZlcztcbiAgICB9XG5cbiAgICBnZXRUaWxlKHosIHgsIHkpIHtcbiAgICAgICAgY29uc3QgdHJlZSA9IHRoaXMudHJlZXNbdGhpcy5fbGltaXRab29tKHopXTtcbiAgICAgICAgY29uc3QgejIgPSBNYXRoLnBvdygyLCB6KTtcbiAgICAgICAgY29uc3Qge2V4dGVudCwgcmFkaXVzfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgcCA9IHJhZGl1cyAvIGV4dGVudDtcbiAgICAgICAgY29uc3QgdG9wID0gKHkgLSBwKSAvIHoyO1xuICAgICAgICBjb25zdCBib3R0b20gPSAoeSArIDEgKyBwKSAvIHoyO1xuXG4gICAgICAgIGNvbnN0IHRpbGUgPSB7XG4gICAgICAgICAgICBmZWF0dXJlczogW11cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLl9hZGRUaWxlRmVhdHVyZXMoXG4gICAgICAgICAgICB0cmVlLnJhbmdlKCh4IC0gcCkgLyB6MiwgdG9wLCAoeCArIDEgKyBwKSAvIHoyLCBib3R0b20pLFxuICAgICAgICAgICAgdHJlZS5kYXRhLCB4LCB5LCB6MiwgdGlsZSk7XG5cbiAgICAgICAgaWYgKHggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2FkZFRpbGVGZWF0dXJlcyhcbiAgICAgICAgICAgICAgICB0cmVlLnJhbmdlKDEgLSBwIC8gejIsIHRvcCwgMSwgYm90dG9tKSxcbiAgICAgICAgICAgICAgICB0cmVlLmRhdGEsIHoyLCB5LCB6MiwgdGlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHggPT09IHoyIC0gMSkge1xuICAgICAgICAgICAgdGhpcy5fYWRkVGlsZUZlYXR1cmVzKFxuICAgICAgICAgICAgICAgIHRyZWUucmFuZ2UoMCwgdG9wLCBwIC8gejIsIGJvdHRvbSksXG4gICAgICAgICAgICAgICAgdHJlZS5kYXRhLCAtMSwgeSwgejIsIHRpbGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRpbGUuZmVhdHVyZXMubGVuZ3RoID8gdGlsZSA6IG51bGw7XG4gICAgfVxuXG4gICAgZ2V0Q2x1c3RlckV4cGFuc2lvblpvb20oY2x1c3RlcklkKSB7XG4gICAgICAgIGxldCBleHBhbnNpb25ab29tID0gdGhpcy5fZ2V0T3JpZ2luWm9vbShjbHVzdGVySWQpIC0gMTtcbiAgICAgICAgd2hpbGUgKGV4cGFuc2lvblpvb20gPD0gdGhpcy5vcHRpb25zLm1heFpvb20pIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5nZXRDaGlsZHJlbihjbHVzdGVySWQpO1xuICAgICAgICAgICAgZXhwYW5zaW9uWm9vbSsrO1xuICAgICAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCAhPT0gMSkgYnJlYWs7XG4gICAgICAgICAgICBjbHVzdGVySWQgPSBjaGlsZHJlblswXS5wcm9wZXJ0aWVzLmNsdXN0ZXJfaWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV4cGFuc2lvblpvb207XG4gICAgfVxuXG4gICAgX2FwcGVuZExlYXZlcyhyZXN1bHQsIGNsdXN0ZXJJZCwgbGltaXQsIG9mZnNldCwgc2tpcHBlZCkge1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuZ2V0Q2hpbGRyZW4oY2x1c3RlcklkKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGNoaWxkcmVuKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9wcyA9IGNoaWxkLnByb3BlcnRpZXM7XG5cbiAgICAgICAgICAgIGlmIChwcm9wcyAmJiBwcm9wcy5jbHVzdGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNraXBwZWQgKyBwcm9wcy5wb2ludF9jb3VudCA8PSBvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2tpcCB0aGUgd2hvbGUgY2x1c3RlclxuICAgICAgICAgICAgICAgICAgICBza2lwcGVkICs9IHByb3BzLnBvaW50X2NvdW50O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVudGVyIHRoZSBjbHVzdGVyXG4gICAgICAgICAgICAgICAgICAgIHNraXBwZWQgPSB0aGlzLl9hcHBlbmRMZWF2ZXMocmVzdWx0LCBwcm9wcy5jbHVzdGVyX2lkLCBsaW1pdCwgb2Zmc2V0LCBza2lwcGVkKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXhpdCB0aGUgY2x1c3RlclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2tpcHBlZCA8IG9mZnNldCkge1xuICAgICAgICAgICAgICAgIC8vIHNraXAgYSBzaW5nbGUgcG9pbnRcbiAgICAgICAgICAgICAgICBza2lwcGVkKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGFkZCBhIHNpbmdsZSBwb2ludFxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID09PSBsaW1pdCkgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2tpcHBlZDtcbiAgICB9XG5cbiAgICBfY3JlYXRlVHJlZShkYXRhKSB7XG4gICAgICAgIGNvbnN0IHRyZWUgPSBuZXcgS0RCdXNoKGRhdGEubGVuZ3RoIC8gdGhpcy5zdHJpZGUgfCAwLCB0aGlzLm9wdGlvbnMubm9kZVNpemUsIEZsb2F0MzJBcnJheSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkgKz0gdGhpcy5zdHJpZGUpIHRyZWUuYWRkKGRhdGFbaV0sIGRhdGFbaSArIDFdKTtcbiAgICAgICAgdHJlZS5maW5pc2goKTtcbiAgICAgICAgdHJlZS5kYXRhID0gZGF0YTtcbiAgICAgICAgcmV0dXJuIHRyZWU7XG4gICAgfVxuXG4gICAgX2FkZFRpbGVGZWF0dXJlcyhpZHMsIGRhdGEsIHgsIHksIHoyLCB0aWxlKSB7XG4gICAgICAgIGZvciAoY29uc3QgaSBvZiBpZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGsgPSBpICogdGhpcy5zdHJpZGU7XG4gICAgICAgICAgICBjb25zdCBpc0NsdXN0ZXIgPSBkYXRhW2sgKyBPRkZTRVRfTlVNXSA+IDE7XG5cbiAgICAgICAgICAgIGxldCB0YWdzLCBweCwgcHk7XG4gICAgICAgICAgICBpZiAoaXNDbHVzdGVyKSB7XG4gICAgICAgICAgICAgICAgdGFncyA9IGdldENsdXN0ZXJQcm9wZXJ0aWVzKGRhdGEsIGssIHRoaXMuY2x1c3RlclByb3BzKTtcbiAgICAgICAgICAgICAgICBweCA9IGRhdGFba107XG4gICAgICAgICAgICAgICAgcHkgPSBkYXRhW2sgKyAxXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcCA9IHRoaXMucG9pbnRzW2RhdGFbayArIE9GRlNFVF9JRF1dO1xuICAgICAgICAgICAgICAgIHRhZ3MgPSBwLnByb3BlcnRpZXM7XG4gICAgICAgICAgICAgICAgY29uc3QgW2xuZywgbGF0XSA9IHAuZ2VvbWV0cnkuY29vcmRpbmF0ZXM7XG4gICAgICAgICAgICAgICAgcHggPSBsbmdYKGxuZyk7XG4gICAgICAgICAgICAgICAgcHkgPSBsYXRZKGxhdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGYgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogMSxcbiAgICAgICAgICAgICAgICBnZW9tZXRyeTogW1tcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5yb3VuZCh0aGlzLm9wdGlvbnMuZXh0ZW50ICogKHB4ICogejIgLSB4KSksXG4gICAgICAgICAgICAgICAgICAgIE1hdGgucm91bmQodGhpcy5vcHRpb25zLmV4dGVudCAqIChweSAqIHoyIC0geSkpXG4gICAgICAgICAgICAgICAgXV0sXG4gICAgICAgICAgICAgICAgdGFnc1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gYXNzaWduIGlkXG4gICAgICAgICAgICBsZXQgaWQ7XG4gICAgICAgICAgICBpZiAoaXNDbHVzdGVyIHx8IHRoaXMub3B0aW9ucy5nZW5lcmF0ZUlkKSB7XG4gICAgICAgICAgICAgICAgLy8gb3B0aW9uYWxseSBnZW5lcmF0ZSBpZCBmb3IgcG9pbnRzXG4gICAgICAgICAgICAgICAgaWQgPSBkYXRhW2sgKyBPRkZTRVRfSURdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBrZWVwIGlkIGlmIGFscmVhZHkgYXNzaWduZWRcbiAgICAgICAgICAgICAgICBpZCA9IHRoaXMucG9pbnRzW2RhdGFbayArIE9GRlNFVF9JRF1dLmlkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaWQgIT09IHVuZGVmaW5lZCkgZi5pZCA9IGlkO1xuXG4gICAgICAgICAgICB0aWxlLmZlYXR1cmVzLnB1c2goZik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbGltaXRab29tKHopIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KHRoaXMub3B0aW9ucy5taW5ab29tLCBNYXRoLm1pbihNYXRoLmZsb29yKCt6KSwgdGhpcy5vcHRpb25zLm1heFpvb20gKyAxKSk7XG4gICAgfVxuXG4gICAgX2NsdXN0ZXIodHJlZSwgem9vbSkge1xuICAgICAgICBjb25zdCB7cmFkaXVzLCBleHRlbnQsIHJlZHVjZSwgbWluUG9pbnRzfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgciA9IHJhZGl1cyAvIChleHRlbnQgKiBNYXRoLnBvdygyLCB6b29tKSk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0cmVlLmRhdGE7XG4gICAgICAgIGNvbnN0IG5leHREYXRhID0gW107XG4gICAgICAgIGNvbnN0IHN0cmlkZSA9IHRoaXMuc3RyaWRlO1xuXG4gICAgICAgIC8vIGxvb3AgdGhyb3VnaCBlYWNoIHBvaW50XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkgKz0gc3RyaWRlKSB7XG4gICAgICAgICAgICAvLyBpZiB3ZSd2ZSBhbHJlYWR5IHZpc2l0ZWQgdGhlIHBvaW50IGF0IHRoaXMgem9vbSBsZXZlbCwgc2tpcCBpdFxuICAgICAgICAgICAgaWYgKGRhdGFbaSArIE9GRlNFVF9aT09NXSA8PSB6b29tKSBjb250aW51ZTtcbiAgICAgICAgICAgIGRhdGFbaSArIE9GRlNFVF9aT09NXSA9IHpvb207XG5cbiAgICAgICAgICAgIC8vIGZpbmQgYWxsIG5lYXJieSBwb2ludHNcbiAgICAgICAgICAgIGNvbnN0IHggPSBkYXRhW2ldO1xuICAgICAgICAgICAgY29uc3QgeSA9IGRhdGFbaSArIDFdO1xuICAgICAgICAgICAgY29uc3QgbmVpZ2hib3JJZHMgPSB0cmVlLndpdGhpbihkYXRhW2ldLCBkYXRhW2kgKyAxXSwgcik7XG5cbiAgICAgICAgICAgIGNvbnN0IG51bVBvaW50c09yaWdpbiA9IGRhdGFbaSArIE9GRlNFVF9OVU1dO1xuICAgICAgICAgICAgbGV0IG51bVBvaW50cyA9IG51bVBvaW50c09yaWdpbjtcblxuICAgICAgICAgICAgLy8gY291bnQgdGhlIG51bWJlciBvZiBwb2ludHMgaW4gYSBwb3RlbnRpYWwgY2x1c3RlclxuICAgICAgICAgICAgZm9yIChjb25zdCBuZWlnaGJvcklkIG9mIG5laWdoYm9ySWRzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgayA9IG5laWdoYm9ySWQgKiBzdHJpZGU7XG4gICAgICAgICAgICAgICAgLy8gZmlsdGVyIG91dCBuZWlnaGJvcnMgdGhhdCBhcmUgYWxyZWFkeSBwcm9jZXNzZWRcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVtrICsgT0ZGU0VUX1pPT01dID4gem9vbSkgbnVtUG9pbnRzICs9IGRhdGFbayArIE9GRlNFVF9OVU1dO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiB0aGVyZSB3ZXJlIG5laWdoYm9ycyB0byBtZXJnZSwgYW5kIHRoZXJlIGFyZSBlbm91Z2ggcG9pbnRzIHRvIGZvcm0gYSBjbHVzdGVyXG4gICAgICAgICAgICBpZiAobnVtUG9pbnRzID4gbnVtUG9pbnRzT3JpZ2luICYmIG51bVBvaW50cyA+PSBtaW5Qb2ludHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgd3ggPSB4ICogbnVtUG9pbnRzT3JpZ2luO1xuICAgICAgICAgICAgICAgIGxldCB3eSA9IHkgKiBudW1Qb2ludHNPcmlnaW47XG5cbiAgICAgICAgICAgICAgICBsZXQgY2x1c3RlclByb3BlcnRpZXM7XG4gICAgICAgICAgICAgICAgbGV0IGNsdXN0ZXJQcm9wSW5kZXggPSAtMTtcblxuICAgICAgICAgICAgICAgIC8vIGVuY29kZSBib3RoIHpvb20gYW5kIHBvaW50IGluZGV4IG9uIHdoaWNoIHRoZSBjbHVzdGVyIG9yaWdpbmF0ZWQgLS0gb2Zmc2V0IGJ5IHRvdGFsIGxlbmd0aCBvZiBmZWF0dXJlc1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gKChpIC8gc3RyaWRlIHwgMCkgPDwgNSkgKyAoem9vbSArIDEpICsgdGhpcy5wb2ludHMubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBuZWlnaGJvcklkIG9mIG5laWdoYm9ySWRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGsgPSBuZWlnaGJvcklkICogc3RyaWRlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhW2sgKyBPRkZTRVRfWk9PTV0gPD0gem9vbSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFbayArIE9GRlNFVF9aT09NXSA9IHpvb207IC8vIHNhdmUgdGhlIHpvb20gKHNvIGl0IGRvZXNuJ3QgZ2V0IHByb2Nlc3NlZCB0d2ljZSlcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBudW1Qb2ludHMyID0gZGF0YVtrICsgT0ZGU0VUX05VTV07XG4gICAgICAgICAgICAgICAgICAgIHd4ICs9IGRhdGFba10gKiBudW1Qb2ludHMyOyAvLyBhY2N1bXVsYXRlIGNvb3JkaW5hdGVzIGZvciBjYWxjdWxhdGluZyB3ZWlnaHRlZCBjZW50ZXJcbiAgICAgICAgICAgICAgICAgICAgd3kgKz0gZGF0YVtrICsgMV0gKiBudW1Qb2ludHMyO1xuXG4gICAgICAgICAgICAgICAgICAgIGRhdGFbayArIE9GRlNFVF9QQVJFTlRdID0gaWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlZHVjZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjbHVzdGVyUHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsdXN0ZXJQcm9wZXJ0aWVzID0gdGhpcy5fbWFwKGRhdGEsIGksIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsdXN0ZXJQcm9wSW5kZXggPSB0aGlzLmNsdXN0ZXJQcm9wcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbHVzdGVyUHJvcHMucHVzaChjbHVzdGVyUHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZWR1Y2UoY2x1c3RlclByb3BlcnRpZXMsIHRoaXMuX21hcChkYXRhLCBrKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkYXRhW2kgKyBPRkZTRVRfUEFSRU5UXSA9IGlkO1xuICAgICAgICAgICAgICAgIG5leHREYXRhLnB1c2god3ggLyBudW1Qb2ludHMsIHd5IC8gbnVtUG9pbnRzLCBJbmZpbml0eSwgaWQsIC0xLCBudW1Qb2ludHMpO1xuICAgICAgICAgICAgICAgIGlmIChyZWR1Y2UpIG5leHREYXRhLnB1c2goY2x1c3RlclByb3BJbmRleCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7IC8vIGxlZnQgcG9pbnRzIGFzIHVuY2x1c3RlcmVkXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzdHJpZGU7IGorKykgbmV4dERhdGEucHVzaChkYXRhW2kgKyBqXSk7XG5cbiAgICAgICAgICAgICAgICBpZiAobnVtUG9pbnRzID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5laWdoYm9ySWQgb2YgbmVpZ2hib3JJZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGsgPSBuZWlnaGJvcklkICogc3RyaWRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFbayArIE9GRlNFVF9aT09NXSA8PSB6b29tKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbayArIE9GRlNFVF9aT09NXSA9IHpvb207XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHN0cmlkZTsgaisrKSBuZXh0RGF0YS5wdXNoKGRhdGFbayArIGpdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXh0RGF0YTtcbiAgICB9XG5cbiAgICAvLyBnZXQgaW5kZXggb2YgdGhlIHBvaW50IGZyb20gd2hpY2ggdGhlIGNsdXN0ZXIgb3JpZ2luYXRlZFxuICAgIF9nZXRPcmlnaW5JZChjbHVzdGVySWQpIHtcbiAgICAgICAgcmV0dXJuIChjbHVzdGVySWQgLSB0aGlzLnBvaW50cy5sZW5ndGgpID4+IDU7XG4gICAgfVxuXG4gICAgLy8gZ2V0IHpvb20gb2YgdGhlIHBvaW50IGZyb20gd2hpY2ggdGhlIGNsdXN0ZXIgb3JpZ2luYXRlZFxuICAgIF9nZXRPcmlnaW5ab29tKGNsdXN0ZXJJZCkge1xuICAgICAgICByZXR1cm4gKGNsdXN0ZXJJZCAtIHRoaXMucG9pbnRzLmxlbmd0aCkgJSAzMjtcbiAgICB9XG5cbiAgICBfbWFwKGRhdGEsIGksIGNsb25lKSB7XG4gICAgICAgIGlmIChkYXRhW2kgKyBPRkZTRVRfTlVNXSA+IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BzID0gdGhpcy5jbHVzdGVyUHJvcHNbZGF0YVtpICsgT0ZGU0VUX1BST1BdXTtcbiAgICAgICAgICAgIHJldHVybiBjbG9uZSA/IE9iamVjdC5hc3NpZ24oe30sIHByb3BzKSA6IHByb3BzO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsID0gdGhpcy5wb2ludHNbZGF0YVtpICsgT0ZGU0VUX0lEXV0ucHJvcGVydGllcztcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5vcHRpb25zLm1hcChvcmlnaW5hbCk7XG4gICAgICAgIHJldHVybiBjbG9uZSAmJiByZXN1bHQgPT09IG9yaWdpbmFsID8gT2JqZWN0LmFzc2lnbih7fSwgcmVzdWx0KSA6IHJlc3VsdDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldENsdXN0ZXJKU09OKGRhdGEsIGksIGNsdXN0ZXJQcm9wcykge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdGZWF0dXJlJyxcbiAgICAgICAgaWQ6IGRhdGFbaSArIE9GRlNFVF9JRF0sXG4gICAgICAgIHByb3BlcnRpZXM6IGdldENsdXN0ZXJQcm9wZXJ0aWVzKGRhdGEsIGksIGNsdXN0ZXJQcm9wcyksXG4gICAgICAgIGdlb21ldHJ5OiB7XG4gICAgICAgICAgICB0eXBlOiAnUG9pbnQnLFxuICAgICAgICAgICAgY29vcmRpbmF0ZXM6IFt4TG5nKGRhdGFbaV0pLCB5TGF0KGRhdGFbaSArIDFdKV1cbiAgICAgICAgfVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldENsdXN0ZXJQcm9wZXJ0aWVzKGRhdGEsIGksIGNsdXN0ZXJQcm9wcykge1xuICAgIGNvbnN0IGNvdW50ID0gZGF0YVtpICsgT0ZGU0VUX05VTV07XG4gICAgY29uc3QgYWJicmV2ID1cbiAgICAgICAgY291bnQgPj0gMTAwMDAgPyBgJHtNYXRoLnJvdW5kKGNvdW50IC8gMTAwMCkgIH1rYCA6XG4gICAgICAgIGNvdW50ID49IDEwMDAgPyBgJHtNYXRoLnJvdW5kKGNvdW50IC8gMTAwKSAvIDEwICB9a2AgOiBjb3VudDtcbiAgICBjb25zdCBwcm9wSW5kZXggPSBkYXRhW2kgKyBPRkZTRVRfUFJPUF07XG4gICAgY29uc3QgcHJvcGVydGllcyA9IHByb3BJbmRleCA9PT0gLTEgPyB7fSA6IE9iamVjdC5hc3NpZ24oe30sIGNsdXN0ZXJQcm9wc1twcm9wSW5kZXhdKTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihwcm9wZXJ0aWVzLCB7XG4gICAgICAgIGNsdXN0ZXI6IHRydWUsXG4gICAgICAgIGNsdXN0ZXJfaWQ6IGRhdGFbaSArIE9GRlNFVF9JRF0sXG4gICAgICAgIHBvaW50X2NvdW50OiBjb3VudCxcbiAgICAgICAgcG9pbnRfY291bnRfYWJicmV2aWF0ZWQ6IGFiYnJldlxuICAgIH0pO1xufVxuXG4vLyBsb25naXR1ZGUvbGF0aXR1ZGUgdG8gc3BoZXJpY2FsIG1lcmNhdG9yIGluIFswLi4xXSByYW5nZVxuZnVuY3Rpb24gbG5nWChsbmcpIHtcbiAgICByZXR1cm4gbG5nIC8gMzYwICsgMC41O1xufVxuZnVuY3Rpb24gbGF0WShsYXQpIHtcbiAgICBjb25zdCBzaW4gPSBNYXRoLnNpbihsYXQgKiBNYXRoLlBJIC8gMTgwKTtcbiAgICBjb25zdCB5ID0gKDAuNSAtIDAuMjUgKiBNYXRoLmxvZygoMSArIHNpbikgLyAoMSAtIHNpbikpIC8gTWF0aC5QSSk7XG4gICAgcmV0dXJuIHkgPCAwID8gMCA6IHkgPiAxID8gMSA6IHk7XG59XG5cbi8vIHNwaGVyaWNhbCBtZXJjYXRvciB0byBsb25naXR1ZGUvbGF0aXR1ZGVcbmZ1bmN0aW9uIHhMbmcoeCkge1xuICAgIHJldHVybiAoeCAtIDAuNSkgKiAzNjA7XG59XG5mdW5jdGlvbiB5TGF0KHkpIHtcbiAgICBjb25zdCB5MiA9ICgxODAgLSB5ICogMzYwKSAqIE1hdGguUEkgLyAxODA7XG4gICAgcmV0dXJuIDM2MCAqIE1hdGguYXRhbihNYXRoLmV4cCh5MikpIC8gTWF0aC5QSSAtIDkwO1xufVxuIiwiXG4vLyBjYWxjdWxhdGUgc2ltcGxpZmljYXRpb24gZGF0YSB1c2luZyBvcHRpbWl6ZWQgRG91Z2xhcy1QZXVja2VyIGFsZ29yaXRobVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzaW1wbGlmeShjb29yZHMsIGZpcnN0LCBsYXN0LCBzcVRvbGVyYW5jZSkge1xuICAgIGxldCBtYXhTcURpc3QgPSBzcVRvbGVyYW5jZTtcbiAgICBjb25zdCBtaWQgPSBmaXJzdCArICgobGFzdCAtIGZpcnN0KSA+PiAxKTtcbiAgICBsZXQgbWluUG9zVG9NaWQgPSBsYXN0IC0gZmlyc3Q7XG4gICAgbGV0IGluZGV4O1xuXG4gICAgY29uc3QgYXggPSBjb29yZHNbZmlyc3RdO1xuICAgIGNvbnN0IGF5ID0gY29vcmRzW2ZpcnN0ICsgMV07XG4gICAgY29uc3QgYnggPSBjb29yZHNbbGFzdF07XG4gICAgY29uc3QgYnkgPSBjb29yZHNbbGFzdCArIDFdO1xuXG4gICAgZm9yIChsZXQgaSA9IGZpcnN0ICsgMzsgaSA8IGxhc3Q7IGkgKz0gMykge1xuICAgICAgICBjb25zdCBkID0gZ2V0U3FTZWdEaXN0KGNvb3Jkc1tpXSwgY29vcmRzW2kgKyAxXSwgYXgsIGF5LCBieCwgYnkpO1xuXG4gICAgICAgIGlmIChkID4gbWF4U3FEaXN0KSB7XG4gICAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgICAgICBtYXhTcURpc3QgPSBkO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoZCA9PT0gbWF4U3FEaXN0KSB7XG4gICAgICAgICAgICAvLyBhIHdvcmthcm91bmQgdG8gZW5zdXJlIHdlIGNob29zZSBhIHBpdm90IGNsb3NlIHRvIHRoZSBtaWRkbGUgb2YgdGhlIGxpc3QsXG4gICAgICAgICAgICAvLyByZWR1Y2luZyByZWN1cnNpb24gZGVwdGgsIGZvciBjZXJ0YWluIGRlZ2VuZXJhdGUgaW5wdXRzXG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L2dlb2pzb24tdnQvaXNzdWVzLzEwNFxuICAgICAgICAgICAgY29uc3QgcG9zVG9NaWQgPSBNYXRoLmFicyhpIC0gbWlkKTtcbiAgICAgICAgICAgIGlmIChwb3NUb01pZCA8IG1pblBvc1RvTWlkKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIG1pblBvc1RvTWlkID0gcG9zVG9NaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobWF4U3FEaXN0ID4gc3FUb2xlcmFuY2UpIHtcbiAgICAgICAgaWYgKGluZGV4IC0gZmlyc3QgPiAzKSBzaW1wbGlmeShjb29yZHMsIGZpcnN0LCBpbmRleCwgc3FUb2xlcmFuY2UpO1xuICAgICAgICBjb29yZHNbaW5kZXggKyAyXSA9IG1heFNxRGlzdDtcbiAgICAgICAgaWYgKGxhc3QgLSBpbmRleCA+IDMpIHNpbXBsaWZ5KGNvb3JkcywgaW5kZXgsIGxhc3QsIHNxVG9sZXJhbmNlKTtcbiAgICB9XG59XG5cbi8vIHNxdWFyZSBkaXN0YW5jZSBmcm9tIGEgcG9pbnQgdG8gYSBzZWdtZW50XG5mdW5jdGlvbiBnZXRTcVNlZ0Rpc3QocHgsIHB5LCB4LCB5LCBieCwgYnkpIHtcblxuICAgIGxldCBkeCA9IGJ4IC0geDtcbiAgICBsZXQgZHkgPSBieSAtIHk7XG5cbiAgICBpZiAoZHggIT09IDAgfHwgZHkgIT09IDApIHtcblxuICAgICAgICBjb25zdCB0ID0gKChweCAtIHgpICogZHggKyAocHkgLSB5KSAqIGR5KSAvIChkeCAqIGR4ICsgZHkgKiBkeSk7XG5cbiAgICAgICAgaWYgKHQgPiAxKSB7XG4gICAgICAgICAgICB4ID0gYng7XG4gICAgICAgICAgICB5ID0gYnk7XG5cbiAgICAgICAgfSBlbHNlIGlmICh0ID4gMCkge1xuICAgICAgICAgICAgeCArPSBkeCAqIHQ7XG4gICAgICAgICAgICB5ICs9IGR5ICogdDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGR4ID0gcHggLSB4O1xuICAgIGR5ID0gcHkgLSB5O1xuXG4gICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5O1xufVxuIiwiXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVGZWF0dXJlKGlkLCB0eXBlLCBnZW9tLCB0YWdzKSB7XG4gICAgY29uc3QgZmVhdHVyZSA9IHtcbiAgICAgICAgaWQ6IGlkID09IG51bGwgPyBudWxsIDogaWQsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGdlb21ldHJ5OiBnZW9tLFxuICAgICAgICB0YWdzLFxuICAgICAgICBtaW5YOiBJbmZpbml0eSxcbiAgICAgICAgbWluWTogSW5maW5pdHksXG4gICAgICAgIG1heFg6IC1JbmZpbml0eSxcbiAgICAgICAgbWF4WTogLUluZmluaXR5XG4gICAgfTtcblxuICAgIGlmICh0eXBlID09PSAnUG9pbnQnIHx8IHR5cGUgPT09ICdNdWx0aVBvaW50JyB8fCB0eXBlID09PSAnTGluZVN0cmluZycpIHtcbiAgICAgICAgY2FsY0xpbmVCQm94KGZlYXR1cmUsIGdlb20pO1xuXG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnUG9seWdvbicpIHtcbiAgICAgICAgLy8gdGhlIG91dGVyIHJpbmcgKGllIFswXSkgY29udGFpbnMgYWxsIGlubmVyIHJpbmdzXG4gICAgICAgIGNhbGNMaW5lQkJveChmZWF0dXJlLCBnZW9tWzBdKTtcblxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ011bHRpTGluZVN0cmluZycpIHtcbiAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGdlb20pIHtcbiAgICAgICAgICAgIGNhbGNMaW5lQkJveChmZWF0dXJlLCBsaW5lKTtcbiAgICAgICAgfVxuXG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnTXVsdGlQb2x5Z29uJykge1xuICAgICAgICBmb3IgKGNvbnN0IHBvbHlnb24gb2YgZ2VvbSkge1xuICAgICAgICAgICAgLy8gdGhlIG91dGVyIHJpbmcgKGllIFswXSkgY29udGFpbnMgYWxsIGlubmVyIHJpbmdzXG4gICAgICAgICAgICBjYWxjTGluZUJCb3goZmVhdHVyZSwgcG9seWdvblswXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmVhdHVyZTtcbn1cblxuZnVuY3Rpb24gY2FsY0xpbmVCQm94KGZlYXR1cmUsIGdlb20pIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdlb20ubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgZmVhdHVyZS5taW5YID0gTWF0aC5taW4oZmVhdHVyZS5taW5YLCBnZW9tW2ldKTtcbiAgICAgICAgZmVhdHVyZS5taW5ZID0gTWF0aC5taW4oZmVhdHVyZS5taW5ZLCBnZW9tW2kgKyAxXSk7XG4gICAgICAgIGZlYXR1cmUubWF4WCA9IE1hdGgubWF4KGZlYXR1cmUubWF4WCwgZ2VvbVtpXSk7XG4gICAgICAgIGZlYXR1cmUubWF4WSA9IE1hdGgubWF4KGZlYXR1cmUubWF4WSwgZ2VvbVtpICsgMV0pO1xuICAgIH1cbn1cbiIsIlxuaW1wb3J0IHNpbXBsaWZ5IGZyb20gJy4vc2ltcGxpZnkuanMnO1xuaW1wb3J0IGNyZWF0ZUZlYXR1cmUgZnJvbSAnLi9mZWF0dXJlLmpzJztcblxuLy8gY29udmVydHMgR2VvSlNPTiBmZWF0dXJlIGludG8gYW4gaW50ZXJtZWRpYXRlIHByb2plY3RlZCBKU09OIHZlY3RvciBmb3JtYXQgd2l0aCBzaW1wbGlmaWNhdGlvbiBkYXRhXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbnZlcnQoZGF0YSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGZlYXR1cmVzID0gW107XG4gICAgaWYgKGRhdGEudHlwZSA9PT0gJ0ZlYXR1cmVDb2xsZWN0aW9uJykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEuZmVhdHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnZlcnRGZWF0dXJlKGZlYXR1cmVzLCBkYXRhLmZlYXR1cmVzW2ldLCBvcHRpb25zLCBpKTtcbiAgICAgICAgfVxuXG4gICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICdGZWF0dXJlJykge1xuICAgICAgICBjb252ZXJ0RmVhdHVyZShmZWF0dXJlcywgZGF0YSwgb3B0aW9ucyk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBzaW5nbGUgZ2VvbWV0cnkgb3IgYSBnZW9tZXRyeSBjb2xsZWN0aW9uXG4gICAgICAgIGNvbnZlcnRGZWF0dXJlKGZlYXR1cmVzLCB7Z2VvbWV0cnk6IGRhdGF9LCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmVhdHVyZXM7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRGZWF0dXJlKGZlYXR1cmVzLCBnZW9qc29uLCBvcHRpb25zLCBpbmRleCkge1xuICAgIGlmICghZ2VvanNvbi5nZW9tZXRyeSkgcmV0dXJuO1xuXG4gICAgY29uc3QgY29vcmRzID0gZ2VvanNvbi5nZW9tZXRyeS5jb29yZGluYXRlcztcbiAgICBpZiAoY29vcmRzICYmIGNvb3Jkcy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgIGNvbnN0IHR5cGUgPSBnZW9qc29uLmdlb21ldHJ5LnR5cGU7XG4gICAgY29uc3QgdG9sZXJhbmNlID0gTWF0aC5wb3cob3B0aW9ucy50b2xlcmFuY2UgLyAoKDEgPDwgb3B0aW9ucy5tYXhab29tKSAqIG9wdGlvbnMuZXh0ZW50KSwgMik7XG4gICAgbGV0IGdlb21ldHJ5ID0gW107XG4gICAgbGV0IGlkID0gZ2VvanNvbi5pZDtcbiAgICBpZiAob3B0aW9ucy5wcm9tb3RlSWQpIHtcbiAgICAgICAgaWQgPSBnZW9qc29uLnByb3BlcnRpZXNbb3B0aW9ucy5wcm9tb3RlSWRdO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5nZW5lcmF0ZUlkKSB7XG4gICAgICAgIGlkID0gaW5kZXggfHwgMDtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09ICdQb2ludCcpIHtcbiAgICAgICAgY29udmVydFBvaW50KGNvb3JkcywgZ2VvbWV0cnkpO1xuXG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnTXVsdGlQb2ludCcpIHtcbiAgICAgICAgZm9yIChjb25zdCBwIG9mIGNvb3Jkcykge1xuICAgICAgICAgICAgY29udmVydFBvaW50KHAsIGdlb21ldHJ5KTtcbiAgICAgICAgfVxuXG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnTGluZVN0cmluZycpIHtcbiAgICAgICAgY29udmVydExpbmUoY29vcmRzLCBnZW9tZXRyeSwgdG9sZXJhbmNlLCBmYWxzZSk7XG5cbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdNdWx0aUxpbmVTdHJpbmcnKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmxpbmVNZXRyaWNzKSB7XG4gICAgICAgICAgICAvLyBleHBsb2RlIGludG8gbGluZXN0cmluZ3MgdG8gYmUgYWJsZSB0byB0cmFjayBtZXRyaWNzXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgY29vcmRzKSB7XG4gICAgICAgICAgICAgICAgZ2VvbWV0cnkgPSBbXTtcbiAgICAgICAgICAgICAgICBjb252ZXJ0TGluZShsaW5lLCBnZW9tZXRyeSwgdG9sZXJhbmNlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgZmVhdHVyZXMucHVzaChjcmVhdGVGZWF0dXJlKGlkLCAnTGluZVN0cmluZycsIGdlb21ldHJ5LCBnZW9qc29uLnByb3BlcnRpZXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnZlcnRMaW5lcyhjb29yZHMsIGdlb21ldHJ5LCB0b2xlcmFuY2UsIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnUG9seWdvbicpIHtcbiAgICAgICAgY29udmVydExpbmVzKGNvb3JkcywgZ2VvbWV0cnksIHRvbGVyYW5jZSwgdHJ1ZSk7XG5cbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdNdWx0aVBvbHlnb24nKSB7XG4gICAgICAgIGZvciAoY29uc3QgcG9seWdvbiBvZiBjb29yZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1BvbHlnb24gPSBbXTtcbiAgICAgICAgICAgIGNvbnZlcnRMaW5lcyhwb2x5Z29uLCBuZXdQb2x5Z29uLCB0b2xlcmFuY2UsIHRydWUpO1xuICAgICAgICAgICAgZ2VvbWV0cnkucHVzaChuZXdQb2x5Z29uKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ0dlb21ldHJ5Q29sbGVjdGlvbicpIHtcbiAgICAgICAgZm9yIChjb25zdCBzaW5nbGVHZW9tZXRyeSBvZiBnZW9qc29uLmdlb21ldHJ5Lmdlb21ldHJpZXMpIHtcbiAgICAgICAgICAgIGNvbnZlcnRGZWF0dXJlKGZlYXR1cmVzLCB7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgZ2VvbWV0cnk6IHNpbmdsZUdlb21ldHJ5LFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IGdlb2pzb24ucHJvcGVydGllc1xuICAgICAgICAgICAgfSwgb3B0aW9ucywgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lucHV0IGRhdGEgaXMgbm90IGEgdmFsaWQgR2VvSlNPTiBvYmplY3QuJyk7XG4gICAgfVxuXG4gICAgZmVhdHVyZXMucHVzaChjcmVhdGVGZWF0dXJlKGlkLCB0eXBlLCBnZW9tZXRyeSwgZ2VvanNvbi5wcm9wZXJ0aWVzKSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRQb2ludChjb29yZHMsIG91dCkge1xuICAgIG91dC5wdXNoKHByb2plY3RYKGNvb3Jkc1swXSksIHByb2plY3RZKGNvb3Jkc1sxXSksIDApO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0TGluZShyaW5nLCBvdXQsIHRvbGVyYW5jZSwgaXNQb2x5Z29uKSB7XG4gICAgbGV0IHgwLCB5MDtcbiAgICBsZXQgc2l6ZSA9IDA7XG5cbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHJpbmcubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgY29uc3QgeCA9IHByb2plY3RYKHJpbmdbal1bMF0pO1xuICAgICAgICBjb25zdCB5ID0gcHJvamVjdFkocmluZ1tqXVsxXSk7XG5cbiAgICAgICAgb3V0LnB1c2goeCwgeSwgMCk7XG5cbiAgICAgICAgaWYgKGogPiAwKSB7XG4gICAgICAgICAgICBpZiAoaXNQb2x5Z29uKSB7XG4gICAgICAgICAgICAgICAgc2l6ZSArPSAoeDAgKiB5IC0geCAqIHkwKSAvIDI7IC8vIGFyZWFcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2l6ZSArPSBNYXRoLnNxcnQoTWF0aC5wb3coeCAtIHgwLCAyKSArIE1hdGgucG93KHkgLSB5MCwgMikpOyAvLyBsZW5ndGhcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB4MCA9IHg7XG4gICAgICAgIHkwID0geTtcbiAgICB9XG5cbiAgICBjb25zdCBsYXN0ID0gb3V0Lmxlbmd0aCAtIDM7XG4gICAgb3V0WzJdID0gMTtcbiAgICBzaW1wbGlmeShvdXQsIDAsIGxhc3QsIHRvbGVyYW5jZSk7XG4gICAgb3V0W2xhc3QgKyAyXSA9IDE7XG5cbiAgICBvdXQuc2l6ZSA9IE1hdGguYWJzKHNpemUpO1xuICAgIG91dC5zdGFydCA9IDA7XG4gICAgb3V0LmVuZCA9IG91dC5zaXplO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0TGluZXMocmluZ3MsIG91dCwgdG9sZXJhbmNlLCBpc1BvbHlnb24pIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGdlb20gPSBbXTtcbiAgICAgICAgY29udmVydExpbmUocmluZ3NbaV0sIGdlb20sIHRvbGVyYW5jZSwgaXNQb2x5Z29uKTtcbiAgICAgICAgb3V0LnB1c2goZ2VvbSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwcm9qZWN0WCh4KSB7XG4gICAgcmV0dXJuIHggLyAzNjAgKyAwLjU7XG59XG5cbmZ1bmN0aW9uIHByb2plY3RZKHkpIHtcbiAgICBjb25zdCBzaW4gPSBNYXRoLnNpbih5ICogTWF0aC5QSSAvIDE4MCk7XG4gICAgY29uc3QgeTIgPSAwLjUgLSAwLjI1ICogTWF0aC5sb2coKDEgKyBzaW4pIC8gKDEgLSBzaW4pKSAvIE1hdGguUEk7XG4gICAgcmV0dXJuIHkyIDwgMCA/IDAgOiB5MiA+IDEgPyAxIDogeTI7XG59XG4iLCJcbmltcG9ydCBjcmVhdGVGZWF0dXJlIGZyb20gJy4vZmVhdHVyZS5qcyc7XG5cbi8qIGNsaXAgZmVhdHVyZXMgYmV0d2VlbiB0d28gdmVydGljYWwgb3IgaG9yaXpvbnRhbCBheGlzLXBhcmFsbGVsIGxpbmVzOlxuICogICAgIHwgICAgICAgIHxcbiAqICBfX198X19fICAgICB8ICAgICAvXG4gKiAvICAgfCAgIFxcX19fX3xfX19fL1xuICogICAgIHwgICAgICAgIHxcbiAqXG4gKiBrMSBhbmQgazIgYXJlIHRoZSBsaW5lIGNvb3JkaW5hdGVzXG4gKiBheGlzOiAwIGZvciB4LCAxIGZvciB5XG4gKiBtaW5BbGwgYW5kIG1heEFsbDogbWluaW11bSBhbmQgbWF4aW11bSBjb29yZGluYXRlIHZhbHVlIGZvciBhbGwgZmVhdHVyZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xpcChmZWF0dXJlcywgc2NhbGUsIGsxLCBrMiwgYXhpcywgbWluQWxsLCBtYXhBbGwsIG9wdGlvbnMpIHtcbiAgICBrMSAvPSBzY2FsZTtcbiAgICBrMiAvPSBzY2FsZTtcblxuICAgIGlmIChtaW5BbGwgPj0gazEgJiYgbWF4QWxsIDwgazIpIHJldHVybiBmZWF0dXJlczsgLy8gdHJpdmlhbCBhY2NlcHRcbiAgICBlbHNlIGlmIChtYXhBbGwgPCBrMSB8fCBtaW5BbGwgPj0gazIpIHJldHVybiBudWxsOyAvLyB0cml2aWFsIHJlamVjdFxuXG4gICAgY29uc3QgY2xpcHBlZCA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBmZWF0dXJlIG9mIGZlYXR1cmVzKSB7XG4gICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gZmVhdHVyZS5nZW9tZXRyeTtcbiAgICAgICAgbGV0IHR5cGUgPSBmZWF0dXJlLnR5cGU7XG5cbiAgICAgICAgY29uc3QgbWluID0gYXhpcyA9PT0gMCA/IGZlYXR1cmUubWluWCA6IGZlYXR1cmUubWluWTtcbiAgICAgICAgY29uc3QgbWF4ID0gYXhpcyA9PT0gMCA/IGZlYXR1cmUubWF4WCA6IGZlYXR1cmUubWF4WTtcblxuICAgICAgICBpZiAobWluID49IGsxICYmIG1heCA8IGsyKSB7IC8vIHRyaXZpYWwgYWNjZXB0XG4gICAgICAgICAgICBjbGlwcGVkLnB1c2goZmVhdHVyZSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIGlmIChtYXggPCBrMSB8fCBtaW4gPj0gazIpIHsgLy8gdHJpdmlhbCByZWplY3RcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5ld0dlb21ldHJ5ID0gW107XG5cbiAgICAgICAgaWYgKHR5cGUgPT09ICdQb2ludCcgfHwgdHlwZSA9PT0gJ011bHRpUG9pbnQnKSB7XG4gICAgICAgICAgICBjbGlwUG9pbnRzKGdlb21ldHJ5LCBuZXdHZW9tZXRyeSwgazEsIGsyLCBheGlzKTtcblxuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdMaW5lU3RyaW5nJykge1xuICAgICAgICAgICAgY2xpcExpbmUoZ2VvbWV0cnksIG5ld0dlb21ldHJ5LCBrMSwgazIsIGF4aXMsIGZhbHNlLCBvcHRpb25zLmxpbmVNZXRyaWNzKTtcblxuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdNdWx0aUxpbmVTdHJpbmcnKSB7XG4gICAgICAgICAgICBjbGlwTGluZXMoZ2VvbWV0cnksIG5ld0dlb21ldHJ5LCBrMSwgazIsIGF4aXMsIGZhbHNlKTtcblxuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdQb2x5Z29uJykge1xuICAgICAgICAgICAgY2xpcExpbmVzKGdlb21ldHJ5LCBuZXdHZW9tZXRyeSwgazEsIGsyLCBheGlzLCB0cnVlKTtcblxuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdNdWx0aVBvbHlnb24nKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBvbHlnb24gb2YgZ2VvbWV0cnkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdQb2x5Z29uID0gW107XG4gICAgICAgICAgICAgICAgY2xpcExpbmVzKHBvbHlnb24sIG5ld1BvbHlnb24sIGsxLCBrMiwgYXhpcywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKG5ld1BvbHlnb24ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0dlb21ldHJ5LnB1c2gobmV3UG9seWdvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5ld0dlb21ldHJ5Lmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubGluZU1ldHJpY3MgJiYgdHlwZSA9PT0gJ0xpbmVTdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIG5ld0dlb21ldHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIGNsaXBwZWQucHVzaChjcmVhdGVGZWF0dXJlKGZlYXR1cmUuaWQsIHR5cGUsIGxpbmUsIGZlYXR1cmUudGFncykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdMaW5lU3RyaW5nJyB8fCB0eXBlID09PSAnTXVsdGlMaW5lU3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGlmIChuZXdHZW9tZXRyeS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICdMaW5lU3RyaW5nJztcbiAgICAgICAgICAgICAgICAgICAgbmV3R2VvbWV0cnkgPSBuZXdHZW9tZXRyeVswXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0eXBlID0gJ011bHRpTGluZVN0cmluZyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdQb2ludCcgfHwgdHlwZSA9PT0gJ011bHRpUG9pbnQnKSB7XG4gICAgICAgICAgICAgICAgdHlwZSA9IG5ld0dlb21ldHJ5Lmxlbmd0aCA9PT0gMyA/ICdQb2ludCcgOiAnTXVsdGlQb2ludCc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNsaXBwZWQucHVzaChjcmVhdGVGZWF0dXJlKGZlYXR1cmUuaWQsIHR5cGUsIG5ld0dlb21ldHJ5LCBmZWF0dXJlLnRhZ3MpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjbGlwcGVkLmxlbmd0aCA/IGNsaXBwZWQgOiBudWxsO1xufVxuXG5mdW5jdGlvbiBjbGlwUG9pbnRzKGdlb20sIG5ld0dlb20sIGsxLCBrMiwgYXhpcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2VvbS5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICBjb25zdCBhID0gZ2VvbVtpICsgYXhpc107XG5cbiAgICAgICAgaWYgKGEgPj0gazEgJiYgYSA8PSBrMikge1xuICAgICAgICAgICAgYWRkUG9pbnQobmV3R2VvbSwgZ2VvbVtpXSwgZ2VvbVtpICsgMV0sIGdlb21baSArIDJdKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gY2xpcExpbmUoZ2VvbSwgbmV3R2VvbSwgazEsIGsyLCBheGlzLCBpc1BvbHlnb24sIHRyYWNrTWV0cmljcykge1xuXG4gICAgbGV0IHNsaWNlID0gbmV3U2xpY2UoZ2VvbSk7XG4gICAgY29uc3QgaW50ZXJzZWN0ID0gYXhpcyA9PT0gMCA/IGludGVyc2VjdFggOiBpbnRlcnNlY3RZO1xuICAgIGxldCBsZW4gPSBnZW9tLnN0YXJ0O1xuICAgIGxldCBzZWdMZW4sIHQ7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdlb20ubGVuZ3RoIC0gMzsgaSArPSAzKSB7XG4gICAgICAgIGNvbnN0IGF4ID0gZ2VvbVtpXTtcbiAgICAgICAgY29uc3QgYXkgPSBnZW9tW2kgKyAxXTtcbiAgICAgICAgY29uc3QgYXogPSBnZW9tW2kgKyAyXTtcbiAgICAgICAgY29uc3QgYnggPSBnZW9tW2kgKyAzXTtcbiAgICAgICAgY29uc3QgYnkgPSBnZW9tW2kgKyA0XTtcbiAgICAgICAgY29uc3QgYSA9IGF4aXMgPT09IDAgPyBheCA6IGF5O1xuICAgICAgICBjb25zdCBiID0gYXhpcyA9PT0gMCA/IGJ4IDogYnk7XG4gICAgICAgIGxldCBleGl0ZWQgPSBmYWxzZTtcblxuICAgICAgICBpZiAodHJhY2tNZXRyaWNzKSBzZWdMZW4gPSBNYXRoLnNxcnQoTWF0aC5wb3coYXggLSBieCwgMikgKyBNYXRoLnBvdyhheSAtIGJ5LCAyKSk7XG5cbiAgICAgICAgaWYgKGEgPCBrMSkge1xuICAgICAgICAgICAgLy8gLS0tfC0tPiAgfCAobGluZSBlbnRlcnMgdGhlIGNsaXAgcmVnaW9uIGZyb20gdGhlIGxlZnQpXG4gICAgICAgICAgICBpZiAoYiA+IGsxKSB7XG4gICAgICAgICAgICAgICAgdCA9IGludGVyc2VjdChzbGljZSwgYXgsIGF5LCBieCwgYnksIGsxKTtcbiAgICAgICAgICAgICAgICBpZiAodHJhY2tNZXRyaWNzKSBzbGljZS5zdGFydCA9IGxlbiArIHNlZ0xlbiAqIHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYSA+IGsyKSB7XG4gICAgICAgICAgICAvLyB8ICA8LS18LS0tIChsaW5lIGVudGVycyB0aGUgY2xpcCByZWdpb24gZnJvbSB0aGUgcmlnaHQpXG4gICAgICAgICAgICBpZiAoYiA8IGsyKSB7XG4gICAgICAgICAgICAgICAgdCA9IGludGVyc2VjdChzbGljZSwgYXgsIGF5LCBieCwgYnksIGsyKTtcbiAgICAgICAgICAgICAgICBpZiAodHJhY2tNZXRyaWNzKSBzbGljZS5zdGFydCA9IGxlbiArIHNlZ0xlbiAqIHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhZGRQb2ludChzbGljZSwgYXgsIGF5LCBheik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGIgPCBrMSAmJiBhID49IGsxKSB7XG4gICAgICAgICAgICAvLyA8LS18LS0tICB8IG9yIDwtLXwtLS0tLXwtLS0gKGxpbmUgZXhpdHMgdGhlIGNsaXAgcmVnaW9uIG9uIHRoZSBsZWZ0KVxuICAgICAgICAgICAgdCA9IGludGVyc2VjdChzbGljZSwgYXgsIGF5LCBieCwgYnksIGsxKTtcbiAgICAgICAgICAgIGV4aXRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGIgPiBrMiAmJiBhIDw9IGsyKSB7XG4gICAgICAgICAgICAvLyB8ICAtLS18LS0+IG9yIC0tLXwtLS0tLXwtLT4gKGxpbmUgZXhpdHMgdGhlIGNsaXAgcmVnaW9uIG9uIHRoZSByaWdodClcbiAgICAgICAgICAgIHQgPSBpbnRlcnNlY3Qoc2xpY2UsIGF4LCBheSwgYngsIGJ5LCBrMik7XG4gICAgICAgICAgICBleGl0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc1BvbHlnb24gJiYgZXhpdGVkKSB7XG4gICAgICAgICAgICBpZiAodHJhY2tNZXRyaWNzKSBzbGljZS5lbmQgPSBsZW4gKyBzZWdMZW4gKiB0O1xuICAgICAgICAgICAgbmV3R2VvbS5wdXNoKHNsaWNlKTtcbiAgICAgICAgICAgIHNsaWNlID0gbmV3U2xpY2UoZ2VvbSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJhY2tNZXRyaWNzKSBsZW4gKz0gc2VnTGVuO1xuICAgIH1cblxuICAgIC8vIGFkZCB0aGUgbGFzdCBwb2ludFxuICAgIGxldCBsYXN0ID0gZ2VvbS5sZW5ndGggLSAzO1xuICAgIGNvbnN0IGF4ID0gZ2VvbVtsYXN0XTtcbiAgICBjb25zdCBheSA9IGdlb21bbGFzdCArIDFdO1xuICAgIGNvbnN0IGF6ID0gZ2VvbVtsYXN0ICsgMl07XG4gICAgY29uc3QgYSA9IGF4aXMgPT09IDAgPyBheCA6IGF5O1xuICAgIGlmIChhID49IGsxICYmIGEgPD0gazIpIGFkZFBvaW50KHNsaWNlLCBheCwgYXksIGF6KTtcblxuICAgIC8vIGNsb3NlIHRoZSBwb2x5Z29uIGlmIGl0cyBlbmRwb2ludHMgYXJlIG5vdCB0aGUgc2FtZSBhZnRlciBjbGlwcGluZ1xuICAgIGxhc3QgPSBzbGljZS5sZW5ndGggLSAzO1xuICAgIGlmIChpc1BvbHlnb24gJiYgbGFzdCA+PSAzICYmIChzbGljZVtsYXN0XSAhPT0gc2xpY2VbMF0gfHwgc2xpY2VbbGFzdCArIDFdICE9PSBzbGljZVsxXSkpIHtcbiAgICAgICAgYWRkUG9pbnQoc2xpY2UsIHNsaWNlWzBdLCBzbGljZVsxXSwgc2xpY2VbMl0pO1xuICAgIH1cblxuICAgIC8vIGFkZCB0aGUgZmluYWwgc2xpY2VcbiAgICBpZiAoc2xpY2UubGVuZ3RoKSB7XG4gICAgICAgIG5ld0dlb20ucHVzaChzbGljZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBuZXdTbGljZShsaW5lKSB7XG4gICAgY29uc3Qgc2xpY2UgPSBbXTtcbiAgICBzbGljZS5zaXplID0gbGluZS5zaXplO1xuICAgIHNsaWNlLnN0YXJ0ID0gbGluZS5zdGFydDtcbiAgICBzbGljZS5lbmQgPSBsaW5lLmVuZDtcbiAgICByZXR1cm4gc2xpY2U7XG59XG5cbmZ1bmN0aW9uIGNsaXBMaW5lcyhnZW9tLCBuZXdHZW9tLCBrMSwgazIsIGF4aXMsIGlzUG9seWdvbikge1xuICAgIGZvciAoY29uc3QgbGluZSBvZiBnZW9tKSB7XG4gICAgICAgIGNsaXBMaW5lKGxpbmUsIG5ld0dlb20sIGsxLCBrMiwgYXhpcywgaXNQb2x5Z29uLCBmYWxzZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBhZGRQb2ludChvdXQsIHgsIHksIHopIHtcbiAgICBvdXQucHVzaCh4LCB5LCB6KTtcbn1cblxuZnVuY3Rpb24gaW50ZXJzZWN0WChvdXQsIGF4LCBheSwgYngsIGJ5LCB4KSB7XG4gICAgY29uc3QgdCA9ICh4IC0gYXgpIC8gKGJ4IC0gYXgpO1xuICAgIGFkZFBvaW50KG91dCwgeCwgYXkgKyAoYnkgLSBheSkgKiB0LCAxKTtcbiAgICByZXR1cm4gdDtcbn1cblxuZnVuY3Rpb24gaW50ZXJzZWN0WShvdXQsIGF4LCBheSwgYngsIGJ5LCB5KSB7XG4gICAgY29uc3QgdCA9ICh5IC0gYXkpIC8gKGJ5IC0gYXkpO1xuICAgIGFkZFBvaW50KG91dCwgYXggKyAoYnggLSBheCkgKiB0LCB5LCAxKTtcbiAgICByZXR1cm4gdDtcbn1cbiIsIlxuaW1wb3J0IGNsaXAgZnJvbSAnLi9jbGlwLmpzJztcbmltcG9ydCBjcmVhdGVGZWF0dXJlIGZyb20gJy4vZmVhdHVyZS5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHdyYXAoZmVhdHVyZXMsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBidWZmZXIgPSBvcHRpb25zLmJ1ZmZlciAvIG9wdGlvbnMuZXh0ZW50O1xuICAgIGxldCBtZXJnZWQgPSBmZWF0dXJlcztcbiAgICBjb25zdCBsZWZ0ICA9IGNsaXAoZmVhdHVyZXMsIDEsIC0xIC0gYnVmZmVyLCBidWZmZXIsICAgICAwLCAtMSwgMiwgb3B0aW9ucyk7IC8vIGxlZnQgd29ybGQgY29weVxuICAgIGNvbnN0IHJpZ2h0ID0gY2xpcChmZWF0dXJlcywgMSwgIDEgLSBidWZmZXIsIDIgKyBidWZmZXIsIDAsIC0xLCAyLCBvcHRpb25zKTsgLy8gcmlnaHQgd29ybGQgY29weVxuXG4gICAgaWYgKGxlZnQgfHwgcmlnaHQpIHtcbiAgICAgICAgbWVyZ2VkID0gY2xpcChmZWF0dXJlcywgMSwgLWJ1ZmZlciwgMSArIGJ1ZmZlciwgMCwgLTEsIDIsIG9wdGlvbnMpIHx8IFtdOyAvLyBjZW50ZXIgd29ybGQgY29weVxuXG4gICAgICAgIGlmIChsZWZ0KSBtZXJnZWQgPSBzaGlmdEZlYXR1cmVDb29yZHMobGVmdCwgMSkuY29uY2F0KG1lcmdlZCk7IC8vIG1lcmdlIGxlZnQgaW50byBjZW50ZXJcbiAgICAgICAgaWYgKHJpZ2h0KSBtZXJnZWQgPSBtZXJnZWQuY29uY2F0KHNoaWZ0RmVhdHVyZUNvb3JkcyhyaWdodCwgLTEpKTsgLy8gbWVyZ2UgcmlnaHQgaW50byBjZW50ZXJcbiAgICB9XG5cbiAgICByZXR1cm4gbWVyZ2VkO1xufVxuXG5mdW5jdGlvbiBzaGlmdEZlYXR1cmVDb29yZHMoZmVhdHVyZXMsIG9mZnNldCkge1xuICAgIGNvbnN0IG5ld0ZlYXR1cmVzID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZlYXR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGZlYXR1cmUgPSBmZWF0dXJlc1tpXTtcbiAgICAgICAgY29uc3QgdHlwZSA9IGZlYXR1cmUudHlwZTtcblxuICAgICAgICBsZXQgbmV3R2VvbWV0cnk7XG5cbiAgICAgICAgaWYgKHR5cGUgPT09ICdQb2ludCcgfHwgdHlwZSA9PT0gJ011bHRpUG9pbnQnIHx8IHR5cGUgPT09ICdMaW5lU3RyaW5nJykge1xuICAgICAgICAgICAgbmV3R2VvbWV0cnkgPSBzaGlmdENvb3JkcyhmZWF0dXJlLmdlb21ldHJ5LCBvZmZzZXQpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ011bHRpTGluZVN0cmluZycgfHwgdHlwZSA9PT0gJ1BvbHlnb24nKSB7XG4gICAgICAgICAgICBuZXdHZW9tZXRyeSA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGZlYXR1cmUuZ2VvbWV0cnkpIHtcbiAgICAgICAgICAgICAgICBuZXdHZW9tZXRyeS5wdXNoKHNoaWZ0Q29vcmRzKGxpbmUsIG9mZnNldCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdNdWx0aVBvbHlnb24nKSB7XG4gICAgICAgICAgICBuZXdHZW9tZXRyeSA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwb2x5Z29uIG9mIGZlYXR1cmUuZ2VvbWV0cnkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdQb2x5Z29uID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIHBvbHlnb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3UG9seWdvbi5wdXNoKHNoaWZ0Q29vcmRzKGxpbmUsIG9mZnNldCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXdHZW9tZXRyeS5wdXNoKG5ld1BvbHlnb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbmV3RmVhdHVyZXMucHVzaChjcmVhdGVGZWF0dXJlKGZlYXR1cmUuaWQsIHR5cGUsIG5ld0dlb21ldHJ5LCBmZWF0dXJlLnRhZ3MpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3RmVhdHVyZXM7XG59XG5cbmZ1bmN0aW9uIHNoaWZ0Q29vcmRzKHBvaW50cywgb2Zmc2V0KSB7XG4gICAgY29uc3QgbmV3UG9pbnRzID0gW107XG4gICAgbmV3UG9pbnRzLnNpemUgPSBwb2ludHMuc2l6ZTtcblxuICAgIGlmIChwb2ludHMuc3RhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBuZXdQb2ludHMuc3RhcnQgPSBwb2ludHMuc3RhcnQ7XG4gICAgICAgIG5ld1BvaW50cy5lbmQgPSBwb2ludHMuZW5kO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgIG5ld1BvaW50cy5wdXNoKHBvaW50c1tpXSArIG9mZnNldCwgcG9pbnRzW2kgKyAxXSwgcG9pbnRzW2kgKyAyXSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdQb2ludHM7XG59XG4iLCJcbi8vIFRyYW5zZm9ybXMgdGhlIGNvb3JkaW5hdGVzIG9mIGVhY2ggZmVhdHVyZSBpbiB0aGUgZ2l2ZW4gdGlsZSBmcm9tXG4vLyBtZXJjYXRvci1wcm9qZWN0ZWQgc3BhY2UgaW50byAoZXh0ZW50IHggZXh0ZW50KSB0aWxlIHNwYWNlLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdHJhbnNmb3JtVGlsZSh0aWxlLCBleHRlbnQpIHtcbiAgICBpZiAodGlsZS50cmFuc2Zvcm1lZCkgcmV0dXJuIHRpbGU7XG5cbiAgICBjb25zdCB6MiA9IDEgPDwgdGlsZS56O1xuICAgIGNvbnN0IHR4ID0gdGlsZS54O1xuICAgIGNvbnN0IHR5ID0gdGlsZS55O1xuXG4gICAgZm9yIChjb25zdCBmZWF0dXJlIG9mIHRpbGUuZmVhdHVyZXMpIHtcbiAgICAgICAgY29uc3QgZ2VvbSA9IGZlYXR1cmUuZ2VvbWV0cnk7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBmZWF0dXJlLnR5cGU7XG5cbiAgICAgICAgZmVhdHVyZS5nZW9tZXRyeSA9IFtdO1xuXG4gICAgICAgIGlmICh0eXBlID09PSAxKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGdlb20ubGVuZ3RoOyBqICs9IDIpIHtcbiAgICAgICAgICAgICAgICBmZWF0dXJlLmdlb21ldHJ5LnB1c2godHJhbnNmb3JtUG9pbnQoZ2VvbVtqXSwgZ2VvbVtqICsgMV0sIGV4dGVudCwgejIsIHR4LCB0eSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBnZW9tLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmluZyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgZ2VvbVtqXS5sZW5ndGg7IGsgKz0gMikge1xuICAgICAgICAgICAgICAgICAgICByaW5nLnB1c2godHJhbnNmb3JtUG9pbnQoZ2VvbVtqXVtrXSwgZ2VvbVtqXVtrICsgMV0sIGV4dGVudCwgejIsIHR4LCB0eSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmZWF0dXJlLmdlb21ldHJ5LnB1c2gocmluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0aWxlLnRyYW5zZm9ybWVkID0gdHJ1ZTtcblxuICAgIHJldHVybiB0aWxlO1xufVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm1Qb2ludCh4LCB5LCBleHRlbnQsIHoyLCB0eCwgdHkpIHtcbiAgICByZXR1cm4gW1xuICAgICAgICBNYXRoLnJvdW5kKGV4dGVudCAqICh4ICogejIgLSB0eCkpLFxuICAgICAgICBNYXRoLnJvdW5kKGV4dGVudCAqICh5ICogejIgLSB0eSkpXTtcbn1cbiIsIlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlVGlsZShmZWF0dXJlcywgeiwgdHgsIHR5LCBvcHRpb25zKSB7XG4gICAgY29uc3QgdG9sZXJhbmNlID0geiA9PT0gb3B0aW9ucy5tYXhab29tID8gMCA6IG9wdGlvbnMudG9sZXJhbmNlIC8gKCgxIDw8IHopICogb3B0aW9ucy5leHRlbnQpO1xuICAgIGNvbnN0IHRpbGUgPSB7XG4gICAgICAgIGZlYXR1cmVzOiBbXSxcbiAgICAgICAgbnVtUG9pbnRzOiAwLFxuICAgICAgICBudW1TaW1wbGlmaWVkOiAwLFxuICAgICAgICBudW1GZWF0dXJlczogZmVhdHVyZXMubGVuZ3RoLFxuICAgICAgICBzb3VyY2U6IG51bGwsXG4gICAgICAgIHg6IHR4LFxuICAgICAgICB5OiB0eSxcbiAgICAgICAgeixcbiAgICAgICAgdHJhbnNmb3JtZWQ6IGZhbHNlLFxuICAgICAgICBtaW5YOiAyLFxuICAgICAgICBtaW5ZOiAxLFxuICAgICAgICBtYXhYOiAtMSxcbiAgICAgICAgbWF4WTogMFxuICAgIH07XG4gICAgZm9yIChjb25zdCBmZWF0dXJlIG9mIGZlYXR1cmVzKSB7XG4gICAgICAgIGFkZEZlYXR1cmUodGlsZSwgZmVhdHVyZSwgdG9sZXJhbmNlLCBvcHRpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIHRpbGU7XG59XG5cbmZ1bmN0aW9uIGFkZEZlYXR1cmUodGlsZSwgZmVhdHVyZSwgdG9sZXJhbmNlLCBvcHRpb25zKSB7XG4gICAgY29uc3QgZ2VvbSA9IGZlYXR1cmUuZ2VvbWV0cnk7XG4gICAgY29uc3QgdHlwZSA9IGZlYXR1cmUudHlwZTtcbiAgICBjb25zdCBzaW1wbGlmaWVkID0gW107XG5cbiAgICB0aWxlLm1pblggPSBNYXRoLm1pbih0aWxlLm1pblgsIGZlYXR1cmUubWluWCk7XG4gICAgdGlsZS5taW5ZID0gTWF0aC5taW4odGlsZS5taW5ZLCBmZWF0dXJlLm1pblkpO1xuICAgIHRpbGUubWF4WCA9IE1hdGgubWF4KHRpbGUubWF4WCwgZmVhdHVyZS5tYXhYKTtcbiAgICB0aWxlLm1heFkgPSBNYXRoLm1heCh0aWxlLm1heFksIGZlYXR1cmUubWF4WSk7XG5cbiAgICBpZiAodHlwZSA9PT0gJ1BvaW50JyB8fCB0eXBlID09PSAnTXVsdGlQb2ludCcpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnZW9tLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgICAgICBzaW1wbGlmaWVkLnB1c2goZ2VvbVtpXSwgZ2VvbVtpICsgMV0pO1xuICAgICAgICAgICAgdGlsZS5udW1Qb2ludHMrKztcbiAgICAgICAgICAgIHRpbGUubnVtU2ltcGxpZmllZCsrO1xuICAgICAgICB9XG5cbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdMaW5lU3RyaW5nJykge1xuICAgICAgICBhZGRMaW5lKHNpbXBsaWZpZWQsIGdlb20sIHRpbGUsIHRvbGVyYW5jZSwgZmFsc2UsIGZhbHNlKTtcblxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ011bHRpTGluZVN0cmluZycgfHwgdHlwZSA9PT0gJ1BvbHlnb24nKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2VvbS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYWRkTGluZShzaW1wbGlmaWVkLCBnZW9tW2ldLCB0aWxlLCB0b2xlcmFuY2UsIHR5cGUgPT09ICdQb2x5Z29uJywgaSA9PT0gMCk7XG4gICAgICAgIH1cblxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ011bHRpUG9seWdvbicpIHtcblxuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGdlb20ubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBvbHlnb24gPSBnZW9tW2tdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2x5Z29uLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYWRkTGluZShzaW1wbGlmaWVkLCBwb2x5Z29uW2ldLCB0aWxlLCB0b2xlcmFuY2UsIHRydWUsIGkgPT09IDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNpbXBsaWZpZWQubGVuZ3RoKSB7XG4gICAgICAgIGxldCB0YWdzID0gZmVhdHVyZS50YWdzIHx8IG51bGw7XG5cbiAgICAgICAgaWYgKHR5cGUgPT09ICdMaW5lU3RyaW5nJyAmJiBvcHRpb25zLmxpbmVNZXRyaWNzKSB7XG4gICAgICAgICAgICB0YWdzID0ge307XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBmZWF0dXJlLnRhZ3MpIHRhZ3Nba2V5XSA9IGZlYXR1cmUudGFnc1trZXldO1xuICAgICAgICAgICAgdGFnc1snbWFwYm94X2NsaXBfc3RhcnQnXSA9IGdlb20uc3RhcnQgLyBnZW9tLnNpemU7XG4gICAgICAgICAgICB0YWdzWydtYXBib3hfY2xpcF9lbmQnXSA9IGdlb20uZW5kIC8gZ2VvbS5zaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGlsZUZlYXR1cmUgPSB7XG4gICAgICAgICAgICBnZW9tZXRyeTogc2ltcGxpZmllZCxcbiAgICAgICAgICAgIHR5cGU6IHR5cGUgPT09ICdQb2x5Z29uJyB8fCB0eXBlID09PSAnTXVsdGlQb2x5Z29uJyA/IDMgOlxuICAgICAgICAgICAgKHR5cGUgPT09ICdMaW5lU3RyaW5nJyB8fCB0eXBlID09PSAnTXVsdGlMaW5lU3RyaW5nJyA/IDIgOiAxKSxcbiAgICAgICAgICAgIHRhZ3NcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGZlYXR1cmUuaWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRpbGVGZWF0dXJlLmlkID0gZmVhdHVyZS5pZDtcbiAgICAgICAgfVxuICAgICAgICB0aWxlLmZlYXR1cmVzLnB1c2godGlsZUZlYXR1cmUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYWRkTGluZShyZXN1bHQsIGdlb20sIHRpbGUsIHRvbGVyYW5jZSwgaXNQb2x5Z29uLCBpc091dGVyKSB7XG4gICAgY29uc3Qgc3FUb2xlcmFuY2UgPSB0b2xlcmFuY2UgKiB0b2xlcmFuY2U7XG5cbiAgICBpZiAodG9sZXJhbmNlID4gMCAmJiAoZ2VvbS5zaXplIDwgKGlzUG9seWdvbiA/IHNxVG9sZXJhbmNlIDogdG9sZXJhbmNlKSkpIHtcbiAgICAgICAgdGlsZS5udW1Qb2ludHMgKz0gZ2VvbS5sZW5ndGggLyAzO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcmluZyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnZW9tLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgIGlmICh0b2xlcmFuY2UgPT09IDAgfHwgZ2VvbVtpICsgMl0gPiBzcVRvbGVyYW5jZSkge1xuICAgICAgICAgICAgdGlsZS5udW1TaW1wbGlmaWVkKys7XG4gICAgICAgICAgICByaW5nLnB1c2goZ2VvbVtpXSwgZ2VvbVtpICsgMV0pO1xuICAgICAgICB9XG4gICAgICAgIHRpbGUubnVtUG9pbnRzKys7XG4gICAgfVxuXG4gICAgaWYgKGlzUG9seWdvbikgcmV3aW5kKHJpbmcsIGlzT3V0ZXIpO1xuXG4gICAgcmVzdWx0LnB1c2gocmluZyk7XG59XG5cbmZ1bmN0aW9uIHJld2luZChyaW5nLCBjbG9ja3dpc2UpIHtcbiAgICBsZXQgYXJlYSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHJpbmcubGVuZ3RoLCBqID0gbGVuIC0gMjsgaSA8IGxlbjsgaiA9IGksIGkgKz0gMikge1xuICAgICAgICBhcmVhICs9IChyaW5nW2ldIC0gcmluZ1tqXSkgKiAocmluZ1tpICsgMV0gKyByaW5nW2ogKyAxXSk7XG4gICAgfVxuICAgIGlmIChhcmVhID4gMCA9PT0gY2xvY2t3aXNlKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSByaW5nLmxlbmd0aDsgaSA8IGxlbiAvIDI7IGkgKz0gMikge1xuICAgICAgICAgICAgY29uc3QgeCA9IHJpbmdbaV07XG4gICAgICAgICAgICBjb25zdCB5ID0gcmluZ1tpICsgMV07XG4gICAgICAgICAgICByaW5nW2ldID0gcmluZ1tsZW4gLSAyIC0gaV07XG4gICAgICAgICAgICByaW5nW2kgKyAxXSA9IHJpbmdbbGVuIC0gMSAtIGldO1xuICAgICAgICAgICAgcmluZ1tsZW4gLSAyIC0gaV0gPSB4O1xuICAgICAgICAgICAgcmluZ1tsZW4gLSAxIC0gaV0gPSB5O1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiXG5pbXBvcnQgY29udmVydCBmcm9tICcuL2NvbnZlcnQuanMnOyAgICAgLy8gR2VvSlNPTiBjb252ZXJzaW9uIGFuZCBwcmVwcm9jZXNzaW5nXG5pbXBvcnQgY2xpcCBmcm9tICcuL2NsaXAuanMnOyAgICAgICAgICAgLy8gc3RyaXBlIGNsaXBwaW5nIGFsZ29yaXRobVxuaW1wb3J0IHdyYXAgZnJvbSAnLi93cmFwLmpzJzsgICAgICAgICAgIC8vIGRhdGUgbGluZSBwcm9jZXNzaW5nXG5pbXBvcnQgdHJhbnNmb3JtIGZyb20gJy4vdHJhbnNmb3JtLmpzJzsgLy8gY29vcmRpbmF0ZSB0cmFuc2Zvcm1hdGlvblxuaW1wb3J0IGNyZWF0ZVRpbGUgZnJvbSAnLi90aWxlLmpzJzsgICAgIC8vIGZpbmFsIHNpbXBsaWZpZWQgdGlsZSBnZW5lcmF0aW9uXG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgIG1heFpvb206IDE0LCAgICAgICAgICAgIC8vIG1heCB6b29tIHRvIHByZXNlcnZlIGRldGFpbCBvblxuICAgIGluZGV4TWF4Wm9vbTogNSwgICAgICAgIC8vIG1heCB6b29tIGluIHRoZSB0aWxlIGluZGV4XG4gICAgaW5kZXhNYXhQb2ludHM6IDEwMDAwMCwgLy8gbWF4IG51bWJlciBvZiBwb2ludHMgcGVyIHRpbGUgaW4gdGhlIHRpbGUgaW5kZXhcbiAgICB0b2xlcmFuY2U6IDMsICAgICAgICAgICAvLyBzaW1wbGlmaWNhdGlvbiB0b2xlcmFuY2UgKGhpZ2hlciBtZWFucyBzaW1wbGVyKVxuICAgIGV4dGVudDogNDA5NiwgICAgICAgICAgIC8vIHRpbGUgZXh0ZW50XG4gICAgYnVmZmVyOiA2NCwgICAgICAgICAgICAgLy8gdGlsZSBidWZmZXIgb24gZWFjaCBzaWRlXG4gICAgbGluZU1ldHJpY3M6IGZhbHNlLCAgICAgLy8gd2hldGhlciB0byBjYWxjdWxhdGUgbGluZSBtZXRyaWNzXG4gICAgcHJvbW90ZUlkOiBudWxsLCAgICAgICAgLy8gbmFtZSBvZiBhIGZlYXR1cmUgcHJvcGVydHkgdG8gYmUgcHJvbW90ZWQgdG8gZmVhdHVyZS5pZFxuICAgIGdlbmVyYXRlSWQ6IGZhbHNlLCAgICAgIC8vIHdoZXRoZXIgdG8gZ2VuZXJhdGUgZmVhdHVyZSBpZHMuIENhbm5vdCBiZSB1c2VkIHdpdGggcHJvbW90ZUlkXG4gICAgZGVidWc6IDAgICAgICAgICAgICAgICAgLy8gbG9nZ2luZyBsZXZlbCAoMCwgMSBvciAyKVxufTtcblxuY2xhc3MgR2VvSlNPTlZUIHtcbiAgICBjb25zdHJ1Y3RvcihkYXRhLCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMgPSBleHRlbmQoT2JqZWN0LmNyZWF0ZShkZWZhdWx0T3B0aW9ucyksIG9wdGlvbnMpO1xuXG4gICAgICAgIGNvbnN0IGRlYnVnID0gb3B0aW9ucy5kZWJ1ZztcblxuICAgICAgICBpZiAoZGVidWcpIGNvbnNvbGUudGltZSgncHJlcHJvY2VzcyBkYXRhJyk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMubWF4Wm9vbSA8IDAgfHwgb3B0aW9ucy5tYXhab29tID4gMjQpIHRocm93IG5ldyBFcnJvcignbWF4Wm9vbSBzaG91bGQgYmUgaW4gdGhlIDAtMjQgcmFuZ2UnKTtcbiAgICAgICAgaWYgKG9wdGlvbnMucHJvbW90ZUlkICYmIG9wdGlvbnMuZ2VuZXJhdGVJZCkgdGhyb3cgbmV3IEVycm9yKCdwcm9tb3RlSWQgYW5kIGdlbmVyYXRlSWQgY2Fubm90IGJlIHVzZWQgdG9nZXRoZXIuJyk7XG5cbiAgICAgICAgLy8gcHJvamVjdHMgYW5kIGFkZHMgc2ltcGxpZmljYXRpb24gaW5mb1xuICAgICAgICBsZXQgZmVhdHVyZXMgPSBjb252ZXJ0KGRhdGEsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIHRpbGVzIGFuZCB0aWxlQ29vcmRzIGFyZSBwYXJ0IG9mIHRoZSBwdWJsaWMgQVBJXG4gICAgICAgIHRoaXMudGlsZXMgPSB7fTtcbiAgICAgICAgdGhpcy50aWxlQ29vcmRzID0gW107XG5cbiAgICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgICAgICBjb25zb2xlLnRpbWVFbmQoJ3ByZXByb2Nlc3MgZGF0YScpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2luZGV4OiBtYXhab29tOiAlZCwgbWF4UG9pbnRzOiAlZCcsIG9wdGlvbnMuaW5kZXhNYXhab29tLCBvcHRpb25zLmluZGV4TWF4UG9pbnRzKTtcbiAgICAgICAgICAgIGNvbnNvbGUudGltZSgnZ2VuZXJhdGUgdGlsZXMnKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdHMgPSB7fTtcbiAgICAgICAgICAgIHRoaXMudG90YWwgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd3JhcHMgZmVhdHVyZXMgKGllIGV4dHJlbWUgd2VzdCBhbmQgZXh0cmVtZSBlYXN0KVxuICAgICAgICBmZWF0dXJlcyA9IHdyYXAoZmVhdHVyZXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIHN0YXJ0IHNsaWNpbmcgZnJvbSB0aGUgdG9wIHRpbGUgZG93blxuICAgICAgICBpZiAoZmVhdHVyZXMubGVuZ3RoKSB0aGlzLnNwbGl0VGlsZShmZWF0dXJlcywgMCwgMCwgMCk7XG5cbiAgICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgICAgICBpZiAoZmVhdHVyZXMubGVuZ3RoKSBjb25zb2xlLmxvZygnZmVhdHVyZXM6ICVkLCBwb2ludHM6ICVkJywgdGhpcy50aWxlc1swXS5udW1GZWF0dXJlcywgdGhpcy50aWxlc1swXS5udW1Qb2ludHMpO1xuICAgICAgICAgICAgY29uc29sZS50aW1lRW5kKCdnZW5lcmF0ZSB0aWxlcycpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3RpbGVzIGdlbmVyYXRlZDonLCB0aGlzLnRvdGFsLCBKU09OLnN0cmluZ2lmeSh0aGlzLnN0YXRzKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzcGxpdHMgZmVhdHVyZXMgZnJvbSBhIHBhcmVudCB0aWxlIHRvIHN1Yi10aWxlcy5cbiAgICAvLyB6LCB4LCBhbmQgeSBhcmUgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQgdGlsZVxuICAgIC8vIGN6LCBjeCwgYW5kIGN5IGFyZSB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIHRhcmdldCB0aWxlXG4gICAgLy9cbiAgICAvLyBJZiBubyB0YXJnZXQgdGlsZSBpcyBzcGVjaWZpZWQsIHNwbGl0dGluZyBzdG9wcyB3aGVuIHdlIHJlYWNoIHRoZSBtYXhpbXVtXG4gICAgLy8gem9vbSBvciB0aGUgbnVtYmVyIG9mIHBvaW50cyBpcyBsb3cgYXMgc3BlY2lmaWVkIGluIHRoZSBvcHRpb25zLlxuICAgIHNwbGl0VGlsZShmZWF0dXJlcywgeiwgeCwgeSwgY3osIGN4LCBjeSkge1xuXG4gICAgICAgIGNvbnN0IHN0YWNrID0gW2ZlYXR1cmVzLCB6LCB4LCB5XTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgZGVidWcgPSBvcHRpb25zLmRlYnVnO1xuXG4gICAgICAgIC8vIGF2b2lkIHJlY3Vyc2lvbiBieSB1c2luZyBhIHByb2Nlc3NpbmcgcXVldWVcbiAgICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCkge1xuICAgICAgICAgICAgeSA9IHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgeCA9IHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgeiA9IHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgZmVhdHVyZXMgPSBzdGFjay5wb3AoKTtcblxuICAgICAgICAgICAgY29uc3QgejIgPSAxIDw8IHo7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHRvSUQoeiwgeCwgeSk7XG4gICAgICAgICAgICBsZXQgdGlsZSA9IHRoaXMudGlsZXNbaWRdO1xuXG4gICAgICAgICAgICBpZiAoIXRpbGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVidWcgPiAxKSBjb25zb2xlLnRpbWUoJ2NyZWF0aW9uJyk7XG5cbiAgICAgICAgICAgICAgICB0aWxlID0gdGhpcy50aWxlc1tpZF0gPSBjcmVhdGVUaWxlKGZlYXR1cmVzLCB6LCB4LCB5LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRpbGVDb29yZHMucHVzaCh7eiwgeCwgeX0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWJ1ZyA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0aWxlIHolZC0lZC0lZCAoZmVhdHVyZXM6ICVkLCBwb2ludHM6ICVkLCBzaW1wbGlmaWVkOiAlZCknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHosIHgsIHksIHRpbGUubnVtRmVhdHVyZXMsIHRpbGUubnVtUG9pbnRzLCB0aWxlLm51bVNpbXBsaWZpZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS50aW1lRW5kKCdjcmVhdGlvbicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGB6JHsgIHp9YDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0c1trZXldID0gKHRoaXMuc3RhdHNba2V5XSB8fCAwKSArIDE7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWwrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNhdmUgcmVmZXJlbmNlIHRvIG9yaWdpbmFsIGdlb21ldHJ5IGluIHRpbGUgc28gdGhhdCB3ZSBjYW4gZHJpbGwgZG93biBsYXRlciBpZiB3ZSBzdG9wIG5vd1xuICAgICAgICAgICAgdGlsZS5zb3VyY2UgPSBmZWF0dXJlcztcblxuICAgICAgICAgICAgLy8gaWYgaXQncyB0aGUgZmlyc3QtcGFzcyB0aWxpbmdcbiAgICAgICAgICAgIGlmIChjeiA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gc3RvcCB0aWxpbmcgaWYgd2UgcmVhY2hlZCBtYXggem9vbSwgb3IgaWYgdGhlIHRpbGUgaXMgdG9vIHNpbXBsZVxuICAgICAgICAgICAgICAgIGlmICh6ID09PSBvcHRpb25zLmluZGV4TWF4Wm9vbSB8fCB0aWxlLm51bVBvaW50cyA8PSBvcHRpb25zLmluZGV4TWF4UG9pbnRzKSBjb250aW51ZTtcbiAgICAgICAgICAgIC8vIGlmIGEgZHJpbGxkb3duIHRvIGEgc3BlY2lmaWMgdGlsZVxuICAgICAgICAgICAgfSBlbHNlIGlmICh6ID09PSBvcHRpb25zLm1heFpvb20gfHwgeiA9PT0gY3opIHtcbiAgICAgICAgICAgICAgICAvLyBzdG9wIHRpbGluZyBpZiB3ZSByZWFjaGVkIGJhc2Ugem9vbSBvciBvdXIgdGFyZ2V0IHRpbGUgem9vbVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjeiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gc3RvcCB0aWxpbmcgaWYgaXQncyBub3QgYW4gYW5jZXN0b3Igb2YgdGhlIHRhcmdldCB0aWxlXG4gICAgICAgICAgICAgICAgY29uc3Qgem9vbVN0ZXBzID0gY3ogLSB6O1xuICAgICAgICAgICAgICAgIGlmICh4ICE9PSBjeCA+PiB6b29tU3RlcHMgfHwgeSAhPT0gY3kgPj4gem9vbVN0ZXBzKSBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgd2Ugc2xpY2UgZnVydGhlciBkb3duLCBubyBuZWVkIHRvIGtlZXAgc291cmNlIGdlb21ldHJ5XG4gICAgICAgICAgICB0aWxlLnNvdXJjZSA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmIChmZWF0dXJlcy5sZW5ndGggPT09IDApIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBpZiAoZGVidWcgPiAxKSBjb25zb2xlLnRpbWUoJ2NsaXBwaW5nJyk7XG5cbiAgICAgICAgICAgIC8vIHZhbHVlcyB3ZSdsbCB1c2UgZm9yIGNsaXBwaW5nXG4gICAgICAgICAgICBjb25zdCBrMSA9IDAuNSAqIG9wdGlvbnMuYnVmZmVyIC8gb3B0aW9ucy5leHRlbnQ7XG4gICAgICAgICAgICBjb25zdCBrMiA9IDAuNSAtIGsxO1xuICAgICAgICAgICAgY29uc3QgazMgPSAwLjUgKyBrMTtcbiAgICAgICAgICAgIGNvbnN0IGs0ID0gMSArIGsxO1xuXG4gICAgICAgICAgICBsZXQgdGwgPSBudWxsO1xuICAgICAgICAgICAgbGV0IGJsID0gbnVsbDtcbiAgICAgICAgICAgIGxldCB0ciA9IG51bGw7XG4gICAgICAgICAgICBsZXQgYnIgPSBudWxsO1xuXG4gICAgICAgICAgICBsZXQgbGVmdCAgPSBjbGlwKGZlYXR1cmVzLCB6MiwgeCAtIGsxLCB4ICsgazMsIDAsIHRpbGUubWluWCwgdGlsZS5tYXhYLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGxldCByaWdodCA9IGNsaXAoZmVhdHVyZXMsIHoyLCB4ICsgazIsIHggKyBrNCwgMCwgdGlsZS5taW5YLCB0aWxlLm1heFgsIG9wdGlvbnMpO1xuICAgICAgICAgICAgZmVhdHVyZXMgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAobGVmdCkge1xuICAgICAgICAgICAgICAgIHRsID0gY2xpcChsZWZ0LCB6MiwgeSAtIGsxLCB5ICsgazMsIDEsIHRpbGUubWluWSwgdGlsZS5tYXhZLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBibCA9IGNsaXAobGVmdCwgejIsIHkgKyBrMiwgeSArIGs0LCAxLCB0aWxlLm1pblksIHRpbGUubWF4WSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgbGVmdCA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyaWdodCkge1xuICAgICAgICAgICAgICAgIHRyID0gY2xpcChyaWdodCwgejIsIHkgLSBrMSwgeSArIGszLCAxLCB0aWxlLm1pblksIHRpbGUubWF4WSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgYnIgPSBjbGlwKHJpZ2h0LCB6MiwgeSArIGsyLCB5ICsgazQsIDEsIHRpbGUubWluWSwgdGlsZS5tYXhZLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByaWdodCA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkZWJ1ZyA+IDEpIGNvbnNvbGUudGltZUVuZCgnY2xpcHBpbmcnKTtcblxuICAgICAgICAgICAgc3RhY2sucHVzaCh0bCB8fCBbXSwgeiArIDEsIHggKiAyLCAgICAgeSAqIDIpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChibCB8fCBbXSwgeiArIDEsIHggKiAyLCAgICAgeSAqIDIgKyAxKTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2godHIgfHwgW10sIHogKyAxLCB4ICogMiArIDEsIHkgKiAyKTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goYnIgfHwgW10sIHogKyAxLCB4ICogMiArIDEsIHkgKiAyICsgMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRUaWxlKHosIHgsIHkpIHtcbiAgICAgICAgeiA9ICt6O1xuICAgICAgICB4ID0gK3g7XG4gICAgICAgIHkgPSAreTtcblxuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB7ZXh0ZW50LCBkZWJ1Z30gPSBvcHRpb25zO1xuXG4gICAgICAgIGlmICh6IDwgMCB8fCB6ID4gMjQpIHJldHVybiBudWxsO1xuXG4gICAgICAgIGNvbnN0IHoyID0gMSA8PCB6O1xuICAgICAgICB4ID0gKHggKyB6MikgJiAoejIgLSAxKTsgLy8gd3JhcCB0aWxlIHggY29vcmRpbmF0ZVxuXG4gICAgICAgIGNvbnN0IGlkID0gdG9JRCh6LCB4LCB5KTtcbiAgICAgICAgaWYgKHRoaXMudGlsZXNbaWRdKSByZXR1cm4gdHJhbnNmb3JtKHRoaXMudGlsZXNbaWRdLCBleHRlbnQpO1xuXG4gICAgICAgIGlmIChkZWJ1ZyA+IDEpIGNvbnNvbGUubG9nKCdkcmlsbGluZyBkb3duIHRvIHolZC0lZC0lZCcsIHosIHgsIHkpO1xuXG4gICAgICAgIGxldCB6MCA9IHo7XG4gICAgICAgIGxldCB4MCA9IHg7XG4gICAgICAgIGxldCB5MCA9IHk7XG4gICAgICAgIGxldCBwYXJlbnQ7XG5cbiAgICAgICAgd2hpbGUgKCFwYXJlbnQgJiYgejAgPiAwKSB7XG4gICAgICAgICAgICB6MC0tO1xuICAgICAgICAgICAgeDAgPSB4MCA+PiAxO1xuICAgICAgICAgICAgeTAgPSB5MCA+PiAxO1xuICAgICAgICAgICAgcGFyZW50ID0gdGhpcy50aWxlc1t0b0lEKHowLCB4MCwgeTApXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcGFyZW50IHx8ICFwYXJlbnQuc291cmNlKSByZXR1cm4gbnVsbDtcblxuICAgICAgICAvLyBpZiB3ZSBmb3VuZCBhIHBhcmVudCB0aWxlIGNvbnRhaW5pbmcgdGhlIG9yaWdpbmFsIGdlb21ldHJ5LCB3ZSBjYW4gZHJpbGwgZG93biBmcm9tIGl0XG4gICAgICAgIGlmIChkZWJ1ZyA+IDEpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmb3VuZCBwYXJlbnQgdGlsZSB6JWQtJWQtJWQnLCB6MCwgeDAsIHkwKTtcbiAgICAgICAgICAgIGNvbnNvbGUudGltZSgnZHJpbGxpbmcgZG93bicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3BsaXRUaWxlKHBhcmVudC5zb3VyY2UsIHowLCB4MCwgeTAsIHosIHgsIHkpO1xuICAgICAgICBpZiAoZGVidWcgPiAxKSBjb25zb2xlLnRpbWVFbmQoJ2RyaWxsaW5nIGRvd24nKTtcblxuICAgICAgICByZXR1cm4gdGhpcy50aWxlc1tpZF0gPyB0cmFuc2Zvcm0odGhpcy50aWxlc1tpZF0sIGV4dGVudCkgOiBudWxsO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdG9JRCh6LCB4LCB5KSB7XG4gICAgcmV0dXJuICgoKDEgPDwgeikgKiB5ICsgeCkgKiAzMikgKyB6O1xufVxuXG5mdW5jdGlvbiBleHRlbmQoZGVzdCwgc3JjKSB7XG4gICAgZm9yIChjb25zdCBpIGluIHNyYykgZGVzdFtpXSA9IHNyY1tpXTtcbiAgICByZXR1cm4gZGVzdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2VvanNvbnZ0KGRhdGEsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IEdlb0pTT05WVChkYXRhLCBvcHRpb25zKTtcbn1cbiIsImltcG9ydCB7Z2V0SlNPTn0gZnJvbSAnLi4vdXRpbC9hamF4JztcbmltcG9ydCB7Z2V0UGVyZm9ybWFuY2VNZWFzdXJlbWVudH0gZnJvbSAnLi4vdXRpbC9wZXJmb3JtYW5jZSc7XG5pbXBvcnQgR2VvSlNPTldyYXBwZXIgZnJvbSAnLi9nZW9qc29uX3dyYXBwZXInO1xuaW1wb3J0IEdlb0pTT05SVCBmcm9tICcuL2dlb2pzb25fcnQnO1xuaW1wb3J0IHZ0cGJmIGZyb20gJ3Z0LXBiZic7XG5pbXBvcnQgU3VwZXJjbHVzdGVyIGZyb20gJ3N1cGVyY2x1c3Rlcic7XG5pbXBvcnQgZ2VvanNvbnZ0IGZyb20gJ2dlb2pzb24tdnQnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IFZlY3RvclRpbGVXb3JrZXJTb3VyY2UgZnJvbSAnLi92ZWN0b3JfdGlsZV93b3JrZXJfc291cmNlJztcbmltcG9ydCB7Y3JlYXRlRXhwcmVzc2lvbn0gZnJvbSAnLi4vc3R5bGUtc3BlYy9leHByZXNzaW9uL2luZGV4JztcblxuaW1wb3J0IHR5cGUge1xuICAgIFJlcXVlc3RlZFRpbGVQYXJhbWV0ZXJzLFxuICAgIFdvcmtlclRpbGVQYXJhbWV0ZXJzLFxuICAgIFdvcmtlclRpbGVDYWxsYmFjayxcbn0gZnJvbSAnLi4vc291cmNlL3dvcmtlcl9zb3VyY2UnO1xuaW1wb3J0IHR5cGUgQWN0b3IgZnJvbSAnLi4vdXRpbC9hY3Rvcic7XG5pbXBvcnQgdHlwZSBTdHlsZUxheWVySW5kZXggZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXJfaW5kZXgnO1xuaW1wb3J0IHR5cGUge0ZlYXR1cmV9IGZyb20gJy4uL3N0eWxlLXNwZWMvZXhwcmVzc2lvbi9pbmRleCc7XG5pbXBvcnQgdHlwZSB7TG9hZFZlY3RvckRhdGFDYWxsYmFja30gZnJvbSAnLi9sb2FkX3ZlY3Rvcl90aWxlJztcbmltcG9ydCB0eXBlIHtSZXF1ZXN0UGFyYW1ldGVycywgUmVzcG9uc2VDYWxsYmFja30gZnJvbSAnLi4vdXRpbC9hamF4JztcbmltcG9ydCB0eXBlIHtDYWxsYmFja30gZnJvbSAnLi4vdHlwZXMvY2FsbGJhY2snO1xuXG5leHBvcnQgdHlwZSBHZW9KU09OV29ya2VyT3B0aW9ucyA9IHtcbiAgICBzb3VyY2U6IHN0cmluZztcbiAgICBjbHVzdGVyOiBib29sZWFuO1xuICAgIHN1cGVyY2x1c3Rlck9wdGlvbnM/OiBhbnk7XG4gICAgZ2VvanNvblZ0T3B0aW9ucz86IGFueTtcbiAgICBjbHVzdGVyUHJvcGVydGllcz86IGFueTtcbiAgICBmaWx0ZXI/OiBBcnJheTx1bmtub3duPjtcbiAgICBkeW5hbWljPzogYm9vbGVhbjtcbn07XG5cbmV4cG9ydCB0eXBlIExvYWRHZW9KU09OUGFyYW1ldGVycyA9IEdlb0pTT05Xb3JrZXJPcHRpb25zICYge1xuICAgIHJlcXVlc3Q/OiBSZXF1ZXN0UGFyYW1ldGVycztcbiAgICBkYXRhPzogc3RyaW5nO1xuICAgIGFwcGVuZD86IGJvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBMb2FkR2VvSlNPTiA9IChwYXJhbXM6IExvYWRHZW9KU09OUGFyYW1ldGVycywgY2FsbGJhY2s6IFJlc3BvbnNlQ2FsbGJhY2s8YW55PikgPT4gdm9pZDtcblxuZXhwb3J0IGludGVyZmFjZSBHZW9KU09OSW5kZXgge1xuICAgIGdldFRpbGU6ICh6OiBudW1iZXIsIHg6IG51bWJlciwgeTogbnVtYmVyKSA9PiBhbnk7XG4gICAgLy8gc3VwZXJjbHVzdGVyIG1ldGhvZHNcbiAgICBnZXRDbHVzdGVyRXhwYW5zaW9uWm9vbT86IChjbHVzdGVySWQ6IG51bWJlcikgPT4gbnVtYmVyO1xuICAgIGdldENoaWxkcmVuPzogKGNsdXN0ZXJJZDogbnVtYmVyKSA9PiBBcnJheTxHZW9KU09OLkZlYXR1cmU+O1xuICAgIGdldExlYXZlcz86IChjbHVzdGVySWQ6IG51bWJlciwgbGltaXQ6IG51bWJlciwgb2Zmc2V0OiBudW1iZXIpID0+IEFycmF5PEdlb0pTT04uRmVhdHVyZT47XG59XG5cbmZ1bmN0aW9uIGxvYWRHZW9KU09OVGlsZShwYXJhbXM6IFJlcXVlc3RlZFRpbGVQYXJhbWV0ZXJzLCBjYWxsYmFjazogTG9hZFZlY3RvckRhdGFDYWxsYmFjayk6IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgY2Fub25pY2FsID0gcGFyYW1zLnRpbGVJRC5jYW5vbmljYWw7XG5cbiAgICBpZiAoIXRoaXMuX2dlb0pTT05JbmRleCkge1xuICAgICAgICBjYWxsYmFjayhudWxsLCBudWxsKTsgLy8gd2UgY291bGRuJ3QgbG9hZCB0aGUgZmlsZVxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZ2VvSlNPTlRpbGUgPSB0aGlzLl9nZW9KU09OSW5kZXguZ2V0VGlsZShjYW5vbmljYWwueiwgY2Fub25pY2FsLngsIGNhbm9uaWNhbC55KTtcbiAgICBpZiAoIWdlb0pTT05UaWxlKSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIG51bGwpOyAvLyBub3RoaW5nIGluIHRoZSBnaXZlbiB0aWxlXG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBnZW9qc29uV3JhcHBlciA9IG5ldyBHZW9KU09OV3JhcHBlcihnZW9KU09OVGlsZS5mZWF0dXJlcyk7XG5cbiAgICAvLyBFbmNvZGUgdGhlIGdlb2pzb24tdnQgdGlsZSBpbnRvIGJpbmFyeSB2ZWN0b3IgdGlsZSBmb3JtLiAgVGhpc1xuICAgIC8vIGlzIGEgY29udmVuaWVuY2UgdGhhdCBhbGxvd3MgYEZlYXR1cmVJbmRleGAgdG8gb3BlcmF0ZSB0aGUgc2FtZSB3YXlcbiAgICAvLyBhY3Jvc3MgYFZlY3RvclRpbGVTb3VyY2VgIGFuZCBgR2VvSlNPTlNvdXJjZWAgZGF0YS5cbiAgICBsZXQgcGJmID0gdnRwYmYoZ2VvanNvbldyYXBwZXIpO1xuICAgIGlmIChwYmYuYnl0ZU9mZnNldCAhPT0gMCB8fCBwYmYuYnl0ZUxlbmd0aCAhPT0gcGJmLmJ1ZmZlci5ieXRlTGVuZ3RoKSB7XG4gICAgICAgIC8vIENvbXBhdGliaWxpdHkgd2l0aCBub2RlIEJ1ZmZlciAoaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9wYmYvaXNzdWVzLzM1KVxuICAgICAgICBwYmYgPSBuZXcgVWludDhBcnJheShwYmYpO1xuICAgIH1cblxuICAgIGNhbGxiYWNrKG51bGwsIHtcbiAgICAgICAgdmVjdG9yVGlsZTogZ2VvanNvbldyYXBwZXIsXG4gICAgICAgIHJhd0RhdGE6IHBiZi5idWZmZXJcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBUaGUge0BsaW5rIFdvcmtlclNvdXJjZX0gaW1wbGVtZW50YXRpb24gdGhhdCBzdXBwb3J0cyB7QGxpbmsgR2VvSlNPTlNvdXJjZX0uXG4gKiBUaGlzIGNsYXNzIGlzIGRlc2lnbmVkIHRvIGJlIGVhc2lseSByZXVzZWQgdG8gc3VwcG9ydCBjdXN0b20gc291cmNlIHR5cGVzXG4gKiBmb3IgZGF0YSBmb3JtYXRzIHRoYXQgY2FuIGJlIHBhcnNlZC9jb252ZXJ0ZWQgaW50byBhbiBpbi1tZW1vcnkgR2VvSlNPTlxuICogcmVwcmVzZW50YXRpb24uICBUbyBkbyBzbywgY3JlYXRlIGl0IHdpdGhcbiAqIGBuZXcgR2VvSlNPTldvcmtlclNvdXJjZShhY3RvciwgbGF5ZXJJbmRleCwgY3VzdG9tTG9hZEdlb0pTT05GdW5jdGlvbilgLlxuICogRm9yIGEgZnVsbCBleGFtcGxlLCBzZWUgW21hcGJveC1nbC10b3BvanNvbl0oaHR0cHM6Ly9naXRodWIuY29tL2RldmVsb3BtZW50c2VlZC9tYXBib3gtZ2wtdG9wb2pzb24pLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIEdlb0pTT05Xb3JrZXJTb3VyY2UgZXh0ZW5kcyBWZWN0b3JUaWxlV29ya2VyU291cmNlIHtcbiAgICBfZ2VvSlNPTkluZGV4OiBHZW9KU09OSW5kZXg7XG4gICAgX2R5bmFtaWNJbmRleDogR2VvSlNPTlJUO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIFtsb2FkR2VvSlNPTl0gT3B0aW9uYWwgbWV0aG9kIGZvciBjdXN0b20gbG9hZGluZy9wYXJzaW5nIG9mXG4gICAgICogR2VvSlNPTiBiYXNlZCBvbiBwYXJhbWV0ZXJzIHBhc3NlZCBmcm9tIHRoZSBtYWluLXRocmVhZCBTb3VyY2UuXG4gICAgICogU2VlIHtAbGluayBHZW9KU09OV29ya2VyU291cmNlI2xvYWRHZW9KU09OfS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGFjdG9yOiBBY3RvciwgbGF5ZXJJbmRleDogU3R5bGVMYXllckluZGV4LCBhdmFpbGFibGVJbWFnZXM6IEFycmF5PHN0cmluZz4sIGlzU3ByaXRlTG9hZGVkOiBib29sZWFuLCBsb2FkR2VvSlNPTj86IExvYWRHZW9KU09OIHwgbnVsbCwgYnJpZ2h0bmVzcz86IG51bWJlciB8IG51bGwpIHtcbiAgICAgICAgc3VwZXIoYWN0b3IsIGxheWVySW5kZXgsIGF2YWlsYWJsZUltYWdlcywgaXNTcHJpdGVMb2FkZWQsIGxvYWRHZW9KU09OVGlsZSwgYnJpZ2h0bmVzcyk7XG4gICAgICAgIGlmIChsb2FkR2VvSlNPTikge1xuICAgICAgICAgICAgdGhpcy5sb2FkR2VvSlNPTiA9IGxvYWRHZW9KU09OO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2R5bmFtaWNJbmRleCA9IG5ldyBHZW9KU09OUlQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIChpZiBhcHByb3ByaWF0ZSksIHBhcnNlcywgYW5kIGluZGV4IGdlb2pzb24gZGF0YSBpbnRvIHRpbGVzLiBUaGlzXG4gICAgICogcHJlcGFyYXRvcnkgbWV0aG9kIG11c3QgYmUgY2FsbGVkIGJlZm9yZSB7QGxpbmsgR2VvSlNPTldvcmtlclNvdXJjZSNsb2FkVGlsZX1cbiAgICAgKiBjYW4gY29ycmVjdGx5IHNlcnZlIHVwIHRpbGVzLlxuICAgICAqXG4gICAgICogRGVmZXJzIHRvIHtAbGluayBHZW9KU09OV29ya2VyU291cmNlI2xvYWRHZW9KU09OfSBmb3IgdGhlIGZldGNoaW5nL3BhcnNpbmcsXG4gICAgICogZXhwZWN0aW5nIGBjYWxsYmFjayhlcnJvciwgZGF0YSlgIHRvIGJlIGNhbGxlZCB3aXRoIGVpdGhlciBhbiBlcnJvciBvciBhXG4gICAgICogcGFyc2VkIEdlb0pTT04gb2JqZWN0LlxuICAgICAqXG4gICAgICogV2hlbiBgbG9hZERhdGFgIHJlcXVlc3RzIGNvbWUgaW4gZmFzdGVyIHRoYW4gdGhleSBjYW4gYmUgcHJvY2Vzc2VkLFxuICAgICAqIHRoZXkgYXJlIGNvYWxlc2NlZCBpbnRvIGEgc2luZ2xlIHJlcXVlc3QgdXNpbmcgdGhlIGxhdGVzdCBkYXRhLlxuICAgICAqIFNlZSB7QGxpbmsgR2VvSlNPTldvcmtlclNvdXJjZSNjb2FsZXNjZX1cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXJhbXNcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGxvYWREYXRhKHBhcmFtczogTG9hZEdlb0pTT05QYXJhbWV0ZXJzLCBjYWxsYmFjazogQ2FsbGJhY2s8e1xuICAgICAgICByZXNvdXJjZVRpbWluZz86IHtcbiAgICAgICAgICAgIFtfOiBzdHJpbmddOiBBcnJheTxQZXJmb3JtYW5jZVJlc291cmNlVGltaW5nPjtcbiAgICAgICAgfTtcbiAgICB9Pikge1xuICAgICAgICBjb25zdCByZXF1ZXN0UGFyYW0gPSBwYXJhbXMgJiYgcGFyYW1zLnJlcXVlc3Q7XG4gICAgICAgIGNvbnN0IHBlcmYgPSByZXF1ZXN0UGFyYW0gJiYgcmVxdWVzdFBhcmFtLmNvbGxlY3RSZXNvdXJjZVRpbWluZztcblxuICAgICAgICB0aGlzLmxvYWRHZW9KU09OKHBhcmFtcywgKGVycj86IEVycm9yLCBkYXRhPzogR2VvSlNPTi5GZWF0dXJlQ29sbGVjdGlvbiB8IEdlb0pTT04uRmVhdHVyZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGVyciB8fCAhZGF0YSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkYXRhICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoYElucHV0IGRhdGEgZ2l2ZW4gdG8gJyR7cGFyYW1zLnNvdXJjZX0nIGlzIG5vdCBhIHZhbGlkIEdlb0pTT04gb2JqZWN0LmApKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyYW1zLmZpbHRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tcGlsZWQgPSBjcmVhdGVFeHByZXNzaW9uKHBhcmFtcy5maWx0ZXIsIHt0eXBlOiAnYm9vbGVhbicsICdwcm9wZXJ0eS10eXBlJzogJ2RhdGEtZHJpdmVuJywgb3ZlcnJpZGFibGU6IGZhbHNlLCB0cmFuc2l0aW9uOiBmYWxzZX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBpbGVkLnJlc3VsdCA9PT0gJ2Vycm9yJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoY29tcGlsZWQudmFsdWUubWFwKGVyciA9PiBgJHtlcnIua2V5fTogJHtlcnIubWVzc2FnZX1gKS5qb2luKCcsICcpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgKGRhdGEgYXMgR2VvSlNPTi5GZWF0dXJlQ29sbGVjdGlvbikuZmVhdHVyZXMgPSAoZGF0YSBhcyBHZW9KU09OLkZlYXR1cmVDb2xsZWN0aW9uKS5mZWF0dXJlcy5maWx0ZXIoZmVhdHVyZSA9PiBjb21waWxlZC52YWx1ZS5ldmFsdWF0ZSh7em9vbTogMH0sIGZlYXR1cmUgYXMgdW5rbm93biBhcyBGZWF0dXJlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBmb3IgR2VvSlNPTiBzb3VyY2VzIHRoYXQgYXJlIG1hcmtlZCBhcyBkeW5hbWljLCB3ZSByZXRhaW4gdGhlIEdlb0pTT04gZGF0YVxuICAgICAgICAgICAgICAgICAgICAvLyBhcyBhIGlkLXRvLWZlYXR1cmUgbWFwIHNvIHRoYXQgd2UgY2FuIGxhdGVyIHVwZGF0ZSBmZWF0dXJlcyBieSBpZCBpbmRpdmlkdWFsbHlcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5keW5hbWljKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS50eXBlID09PSAnRmVhdHVyZScpIGRhdGEgPSB7dHlwZTogJ0ZlYXR1cmVDb2xsZWN0aW9uJywgZmVhdHVyZXM6IFtkYXRhXX07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGFyYW1zLmFwcGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2R5bmFtaWNJbmRleC5jbGVhcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVkID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2R5bmFtaWNJbmRleC5sb2FkKGRhdGEuZmVhdHVyZXMsIHRoaXMubG9hZGVkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5jbHVzdGVyKSBkYXRhLmZlYXR1cmVzID0gdGhpcy5fZHluYW1pY0luZGV4LmdldEZlYXR1cmVzKCkgYXMgdW5rbm93biBhcyBHZW9KU09OLkZlYXR1cmVbXTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZWQgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dlb0pTT05JbmRleCA9XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMuY2x1c3RlciA/IG5ldyBTdXBlcmNsdXN0ZXIoZ2V0U3VwZXJjbHVzdGVyT3B0aW9ucyhwYXJhbXMpKS5sb2FkKChkYXRhIGFzIEdlb0pTT04uRmVhdHVyZUNvbGxlY3Rpb24pLmZlYXR1cmVzIGFzIEFycmF5PEdlb0pTT04uRmVhdHVyZTxHZW9KU09OLlBvaW50LCBvYmplY3Q+PikgOlxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zLmR5bmFtaWMgPyB0aGlzLl9keW5hbWljSW5kZXggOlxuICAgICAgICAgICAgICAgICAgICAgICAgZ2VvanNvbnZ0KGRhdGEsIHBhcmFtcy5nZW9qc29uVnRPcHRpb25zKTtcblxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdDogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICAgICAgICAgIGlmIChwZXJmKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc291cmNlVGltaW5nRGF0YSA9IGdldFBlcmZvcm1hbmNlTWVhc3VyZW1lbnQocmVxdWVzdFBhcmFtKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gaXQncyBuZWNlc3NhcnkgdG8gZXZhbCB0aGUgcmVzdWx0IG9mIGdldEVudHJpZXNCeU5hbWUoKSBoZXJlIHZpYSBwYXJzZS9zdHJpbmdpZnlcbiAgICAgICAgICAgICAgICAgICAgLy8gbGF0ZSBldmFsdWF0aW9uIGluIHRoZSBtYWluIHRocmVhZCBjYXVzZXMgVHlwZUVycm9yOiBpbGxlZ2FsIGludm9jYXRpb25cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc291cmNlVGltaW5nRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlc291cmNlVGltaW5nID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVzb3VyY2VUaW1pbmdbcGFyYW1zLnNvdXJjZV0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlc291cmNlVGltaW5nRGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogSW1wbGVtZW50cyB7QGxpbmsgV29ya2VyU291cmNlI3JlbG9hZFRpbGV9LlxuICAgICpcbiAgICAqIElmIHRoZSB0aWxlIGlzIGxvYWRlZCwgdXNlcyB0aGUgaW1wbGVtZW50YXRpb24gaW4gVmVjdG9yVGlsZVdvcmtlclNvdXJjZS5cbiAgICAqIE90aGVyd2lzZSwgc3VjaCBhcyBhZnRlciBhIHNldERhdGEoKSBjYWxsLCB3ZSBsb2FkIHRoZSB0aWxlIGZyZXNoLlxuICAgICpcbiAgICAqIEBwYXJhbSBwYXJhbXNcbiAgICAqIEBwYXJhbSBwYXJhbXMudWlkIFRoZSBVSUQgZm9yIHRoaXMgdGlsZS5cbiAgICAqIEBwcml2YXRlXG4gICAgKi9cbiAgICByZWxvYWRUaWxlKHBhcmFtczogV29ya2VyVGlsZVBhcmFtZXRlcnMsIGNhbGxiYWNrOiBXb3JrZXJUaWxlQ2FsbGJhY2spOiB2b2lkIHtcbiAgICAgICAgY29uc3QgbG9hZGVkID0gdGhpcy5sb2FkZWQsXG4gICAgICAgICAgICB1aWQgPSBwYXJhbXMudWlkO1xuXG4gICAgICAgIGlmIChsb2FkZWQgJiYgbG9hZGVkW3VpZF0pIHtcbiAgICAgICAgICAgIGlmIChwYXJhbXMucGFydGlhbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLnJlbG9hZFRpbGUocGFyYW1zLCBjYWxsYmFjayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkVGlsZShwYXJhbXMsIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZldGNoIGFuZCBwYXJzZSBHZW9KU09OIGFjY29yZGluZyB0byB0aGUgZ2l2ZW4gcGFyYW1zLiAgQ2FsbHMgYGNhbGxiYWNrYFxuICAgICAqIHdpdGggYChlcnIsIGRhdGEpYCwgd2hlcmUgYGRhdGFgIGlzIGEgcGFyc2VkIEdlb0pTT04gb2JqZWN0LlxuICAgICAqXG4gICAgICogR2VvSlNPTiBpcyBsb2FkZWQgYW5kIHBhcnNlZCBmcm9tIGBwYXJhbXMudXJsYCBpZiBpdCBleGlzdHMsIG9yIGVsc2VcbiAgICAgKiBleHBlY3RlZCBhcyBhIGxpdGVyYWwgKHN0cmluZyBvciBvYmplY3QpIGBwYXJhbXMuZGF0YWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFyYW1zXG4gICAgICogQHBhcmFtIFtwYXJhbXMudXJsXSBBIFVSTCB0byB0aGUgcmVtb3RlIEdlb0pTT04gZGF0YS5cbiAgICAgKiBAcGFyYW0gW3BhcmFtcy5kYXRhXSBMaXRlcmFsIEdlb0pTT04gZGF0YS4gTXVzdCBiZSBwcm92aWRlZCBpZiBgcGFyYW1zLnVybGAgaXMgbm90LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgbG9hZEdlb0pTT04ocGFyYW1zOiBMb2FkR2VvSlNPTlBhcmFtZXRlcnMsIGNhbGxiYWNrOiBSZXNwb25zZUNhbGxiYWNrPGFueT4pOiB2b2lkIHtcbiAgICAgICAgLy8gQmVjYXVzZSBvZiBzYW1lIG9yaWdpbiBpc3N1ZXMsIHVybHMgbXVzdCBlaXRoZXIgaW5jbHVkZSBhbiBleHBsaWNpdFxuICAgICAgICAvLyBvcmlnaW4gb3IgYWJzb2x1dGUgcGF0aC5cbiAgICAgICAgLy8gaWU6IC9mb28vYmFyLmpzb24gb3IgaHR0cDovL2V4YW1wbGUuY29tL2Jhci5qc29uXG4gICAgICAgIC8vIGJ1dCBub3QgLi4vZm9vL2Jhci5qc29uXG4gICAgICAgIGlmIChwYXJhbXMucmVxdWVzdCkge1xuICAgICAgICAgICAgZ2V0SlNPTihwYXJhbXMucmVxdWVzdCwgY2FsbGJhY2spO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwYXJhbXMuZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIEpTT04ucGFyc2UocGFyYW1zLmRhdGEpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoYElucHV0IGRhdGEgZ2l2ZW4gdG8gJyR7cGFyYW1zLnNvdXJjZX0nIGlzIG5vdCBhIHZhbGlkIEdlb0pTT04gb2JqZWN0LmApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoYElucHV0IGRhdGEgZ2l2ZW4gdG8gJyR7cGFyYW1zLnNvdXJjZX0nIGlzIG5vdCBhIHZhbGlkIEdlb0pTT04gb2JqZWN0LmApKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldENsdXN0ZXJFeHBhbnNpb25ab29tKHBhcmFtczoge1xuICAgICAgICBjbHVzdGVySWQ6IG51bWJlcjtcbiAgICB9LCBjYWxsYmFjazogQ2FsbGJhY2s8bnVtYmVyPikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgdGhpcy5fZ2VvSlNPTkluZGV4LmdldENsdXN0ZXJFeHBhbnNpb25ab29tKHBhcmFtcy5jbHVzdGVySWQpKTtcbiAgICAgICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICAgICAgICBjYWxsYmFjayhlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldENsdXN0ZXJDaGlsZHJlbihwYXJhbXM6IHtcbiAgICAgICAgY2x1c3RlcklkOiBudW1iZXI7XG4gICAgfSwgY2FsbGJhY2s6IENhbGxiYWNrPEFycmF5PEdlb0pTT04uRmVhdHVyZT4+KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsLCB0aGlzLl9nZW9KU09OSW5kZXguZ2V0Q2hpbGRyZW4ocGFyYW1zLmNsdXN0ZXJJZCkpO1xuICAgICAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0Q2x1c3RlckxlYXZlcyhwYXJhbXM6IHtcbiAgICAgICAgY2x1c3RlcklkOiBudW1iZXI7XG4gICAgICAgIGxpbWl0OiBudW1iZXI7XG4gICAgICAgIG9mZnNldDogbnVtYmVyO1xuICAgIH0sIGNhbGxiYWNrOiBDYWxsYmFjazxBcnJheTxHZW9KU09OLkZlYXR1cmU+Pikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgdGhpcy5fZ2VvSlNPTkluZGV4LmdldExlYXZlcyhwYXJhbXMuY2x1c3RlcklkLCBwYXJhbXMubGltaXQsIHBhcmFtcy5vZmZzZXQpKTtcbiAgICAgICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICAgICAgICBjYWxsYmFjayhlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0U3VwZXJjbHVzdGVyT3B0aW9ucyh7XG4gICAgc3VwZXJjbHVzdGVyT3B0aW9ucyxcbiAgICBjbHVzdGVyUHJvcGVydGllcyxcbn06IExvYWRHZW9KU09OUGFyYW1ldGVycykge1xuICAgIGlmICghY2x1c3RlclByb3BlcnRpZXMgfHwgIXN1cGVyY2x1c3Rlck9wdGlvbnMpIHJldHVybiBzdXBlcmNsdXN0ZXJPcHRpb25zO1xuXG4gICAgY29uc3QgbWFwRXhwcmVzc2lvbnM6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICBjb25zdCByZWR1Y2VFeHByZXNzaW9uczogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgIGNvbnN0IGdsb2JhbHMgPSB7YWNjdW11bGF0ZWQ6IG51bGwsIHpvb206IDB9O1xuICAgIGNvbnN0IGZlYXR1cmUgPSB7cHJvcGVydGllczogbnVsbH07XG4gICAgY29uc3QgcHJvcGVydHlOYW1lcyA9IE9iamVjdC5rZXlzKGNsdXN0ZXJQcm9wZXJ0aWVzKTtcblxuICAgIGZvciAoY29uc3Qga2V5IG9mIHByb3BlcnR5TmFtZXMpIHtcbiAgICAgICAgY29uc3QgW29wZXJhdG9yLCBtYXBFeHByZXNzaW9uXSA9IGNsdXN0ZXJQcm9wZXJ0aWVzW2tleV07XG5cbiAgICAgICAgY29uc3QgbWFwRXhwcmVzc2lvblBhcnNlZCA9IGNyZWF0ZUV4cHJlc3Npb24obWFwRXhwcmVzc2lvbik7XG4gICAgICAgIGNvbnN0IHJlZHVjZUV4cHJlc3Npb25QYXJzZWQgPSBjcmVhdGVFeHByZXNzaW9uKFxuICAgICAgICAgICAgdHlwZW9mIG9wZXJhdG9yID09PSAnc3RyaW5nJyA/IFtvcGVyYXRvciwgWydhY2N1bXVsYXRlZCddLCBbJ2dldCcsIGtleV1dIDogb3BlcmF0b3IpO1xuXG4gICAgICAgIGFzc2VydChtYXBFeHByZXNzaW9uUGFyc2VkLnJlc3VsdCA9PT0gJ3N1Y2Nlc3MnKTtcbiAgICAgICAgYXNzZXJ0KHJlZHVjZUV4cHJlc3Npb25QYXJzZWQucmVzdWx0ID09PSAnc3VjY2VzcycpO1xuXG4gICAgICAgIG1hcEV4cHJlc3Npb25zW2tleV0gPSBtYXBFeHByZXNzaW9uUGFyc2VkLnZhbHVlO1xuICAgICAgICByZWR1Y2VFeHByZXNzaW9uc1trZXldID0gcmVkdWNlRXhwcmVzc2lvblBhcnNlZC52YWx1ZTtcbiAgICB9XG5cbiAgICBzdXBlcmNsdXN0ZXJPcHRpb25zLm1hcCA9IChwb2ludFByb3BlcnRpZXMpID0+IHtcbiAgICAgICAgZmVhdHVyZS5wcm9wZXJ0aWVzID0gcG9pbnRQcm9wZXJ0aWVzO1xuICAgICAgICBjb25zdCBwcm9wZXJ0aWVzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHByb3BlcnR5TmFtZXMpIHtcbiAgICAgICAgICAgIHByb3BlcnRpZXNba2V5XSA9IG1hcEV4cHJlc3Npb25zW2tleV0uZXZhbHVhdGUoZ2xvYmFscywgZmVhdHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gICAgfTtcbiAgICBzdXBlcmNsdXN0ZXJPcHRpb25zLnJlZHVjZSA9IChhY2N1bXVsYXRlZCwgY2x1c3RlclByb3BlcnRpZXMpID0+IHtcbiAgICAgICAgZmVhdHVyZS5wcm9wZXJ0aWVzID0gY2x1c3RlclByb3BlcnRpZXM7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHByb3BlcnR5TmFtZXMpIHtcbiAgICAgICAgICAgIGdsb2JhbHMuYWNjdW11bGF0ZWQgPSBhY2N1bXVsYXRlZFtrZXldO1xuICAgICAgICAgICAgYWNjdW11bGF0ZWRba2V5XSA9IHJlZHVjZUV4cHJlc3Npb25zW2tleV0uZXZhbHVhdGUoZ2xvYmFscywgZmVhdHVyZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIHN1cGVyY2x1c3Rlck9wdGlvbnM7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdlb0pTT05Xb3JrZXJTb3VyY2U7XG4iLCJpbXBvcnQge2dldEFycmF5QnVmZmVyfSBmcm9tICcuLi8uLi9zcmMvdXRpbC9hamF4JztcbmltcG9ydCBGZWF0dXJlSW5kZXggZnJvbSAnLi4vLi4vc3JjL2RhdGEvZmVhdHVyZV9pbmRleCc7XG5pbXBvcnQge3Byb2Nlc3MzRFRpbGV9IGZyb20gJy4vbW9kZWxfbG9hZGVyJztcbmltcG9ydCB7dGlsZVRvTWV0ZXJ9IGZyb20gJy4uLy4uL3NyYy9nZW8vbWVyY2F0b3JfY29vcmRpbmF0ZSc7XG5pbXBvcnQgVGlsZWQzZE1vZGVsQnVja2V0IGZyb20gJy4uL2RhdGEvYnVja2V0L3RpbGVkXzNkX21vZGVsX2J1Y2tldCc7XG5pbXBvcnQge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uLy4uL3NyYy9zb3VyY2UvdGlsZV9pZCc7XG5pbXBvcnQge2xvYWQzRFRpbGV9IGZyb20gJy4uL3V0aWwvbG9hZGVycyc7XG5pbXBvcnQgRXZhbHVhdGlvblBhcmFtZXRlcnMgZnJvbSAnLi4vLi4vc3JjL3N0eWxlL2V2YWx1YXRpb25fcGFyYW1ldGVycyc7XG5cbmltcG9ydCB0eXBlIHtDYW5vbmljYWxUaWxlSUR9IGZyb20gJy4uLy4uL3NyYy9zb3VyY2UvdGlsZV9pZCc7XG5pbXBvcnQgdHlwZSBBY3RvciBmcm9tICcuLi8uLi9zcmMvdXRpbC9hY3Rvcic7XG5pbXBvcnQgdHlwZSBTdHlsZUxheWVySW5kZXggZnJvbSAnLi4vLi4vc3JjL3N0eWxlL3N0eWxlX2xheWVyX2luZGV4JztcbmltcG9ydCB0eXBlIHtcbiAgICBXb3JrZXJTb3VyY2UsXG4gICAgV29ya2VyVGlsZVBhcmFtZXRlcnMsXG4gICAgV29ya2VyVGlsZUNhbGxiYWNrLFxuICAgIFRpbGVQYXJhbWV0ZXJzLFxuICAgIFdvcmtlclRpbGVSZXN1bHRcbn0gZnJvbSAnLi4vLi4vc3JjL3NvdXJjZS93b3JrZXJfc291cmNlJztcbmltcG9ydCB0eXBlIHtCdWNrZXR9IGZyb20gJy4uLy4uL3NyYy9kYXRhL2J1Y2tldCc7XG5pbXBvcnQgdHlwZSB7TG9hZFZlY3RvckRhdGF9IGZyb20gJy4uLy4uL3NyYy9zb3VyY2UvbG9hZF92ZWN0b3JfdGlsZSc7XG5pbXBvcnQgdHlwZSBQcm9qZWN0aW9uIGZyb20gJy4uLy4uL3NyYy9nZW8vcHJvamVjdGlvbi9wcm9qZWN0aW9uJztcblxuY2xhc3MgVGlsZWQzZFdvcmtlclRpbGUge1xuICAgIHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRDtcbiAgICB1aWQ6IG51bWJlcjtcbiAgICB6b29tOiBudW1iZXI7XG4gICAgdGlsZVpvb206IG51bWJlcjtcbiAgICBjYW5vbmljYWw6IENhbm9uaWNhbFRpbGVJRDtcbiAgICBwaXhlbFJhdGlvOiBudW1iZXI7XG4gICAgdGlsZVNpemU6IG51bWJlcjtcbiAgICBzb3VyY2U6IHN0cmluZztcbiAgICBvdmVyc2NhbGluZzogbnVtYmVyO1xuICAgIHByb2plY3Rpb246IFByb2plY3Rpb247XG4gICAgc3RhdHVzOiAncGFyc2luZycgfCAnZG9uZSc7XG4gICAgcmVsb2FkQ2FsbGJhY2s6IFdvcmtlclRpbGVDYWxsYmFjayB8IG51bGwgfCB1bmRlZmluZWQ7XG4gICAgYnJpZ2h0bmVzczogbnVtYmVyIHwgbnVsbCB8IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0cnVjdG9yKHBhcmFtczogV29ya2VyVGlsZVBhcmFtZXRlcnMsIGJyaWdodG5lc3M/OiBudW1iZXIgfCBudWxsKSB7XG4gICAgICAgIHRoaXMudGlsZUlEID0gbmV3IE92ZXJzY2FsZWRUaWxlSUQocGFyYW1zLnRpbGVJRC5vdmVyc2NhbGVkWiwgcGFyYW1zLnRpbGVJRC53cmFwLCBwYXJhbXMudGlsZUlELmNhbm9uaWNhbC56LCBwYXJhbXMudGlsZUlELmNhbm9uaWNhbC54LCBwYXJhbXMudGlsZUlELmNhbm9uaWNhbC55KTtcbiAgICAgICAgdGhpcy50aWxlWm9vbSA9IHBhcmFtcy50aWxlWm9vbTtcbiAgICAgICAgdGhpcy51aWQgPSBwYXJhbXMudWlkO1xuICAgICAgICB0aGlzLnpvb20gPSBwYXJhbXMuem9vbTtcbiAgICAgICAgdGhpcy5jYW5vbmljYWwgPSBwYXJhbXMudGlsZUlELmNhbm9uaWNhbDtcbiAgICAgICAgdGhpcy5waXhlbFJhdGlvID0gcGFyYW1zLnBpeGVsUmF0aW87XG4gICAgICAgIHRoaXMudGlsZVNpemUgPSBwYXJhbXMudGlsZVNpemU7XG4gICAgICAgIHRoaXMuc291cmNlID0gcGFyYW1zLnNvdXJjZTtcbiAgICAgICAgdGhpcy5vdmVyc2NhbGluZyA9IHRoaXMudGlsZUlELm92ZXJzY2FsZUZhY3RvcigpO1xuICAgICAgICB0aGlzLnByb2plY3Rpb24gPSBwYXJhbXMucHJvamVjdGlvbjtcbiAgICAgICAgdGhpcy5icmlnaHRuZXNzID0gYnJpZ2h0bmVzcztcbiAgICB9XG5cbiAgICBwYXJzZShcbiAgICAgICAgZGF0YTogQXJyYXlCdWZmZXIsXG4gICAgICAgIGxheWVySW5kZXg6IFN0eWxlTGF5ZXJJbmRleCxcbiAgICAgICAgcGFyYW1zOiBXb3JrZXJUaWxlUGFyYW1ldGVycyxcbiAgICAgICAgY2FsbGJhY2s6IFdvcmtlclRpbGVDYWxsYmFjayxcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSAncGFyc2luZyc7XG4gICAgICAgIGNvbnN0IHRpbGVJRCA9IG5ldyBPdmVyc2NhbGVkVGlsZUlEKHBhcmFtcy50aWxlSUQub3ZlcnNjYWxlZFosIHBhcmFtcy50aWxlSUQud3JhcCwgcGFyYW1zLnRpbGVJRC5jYW5vbmljYWwueiwgcGFyYW1zLnRpbGVJRC5jYW5vbmljYWwueCwgcGFyYW1zLnRpbGVJRC5jYW5vbmljYWwueSk7XG4gICAgICAgIGNvbnN0IGJ1Y2tldHM6IHtcbiAgICAgICAgICAgIFtfOiBzdHJpbmddOiBCdWNrZXQ7XG4gICAgICAgIH0gPSB7fTtcbiAgICAgICAgY29uc3QgbGF5ZXJGYW1pbGllcyA9IGxheWVySW5kZXguZmFtaWxpZXNCeVNvdXJjZVtwYXJhbXMuc291cmNlXTtcbiAgICAgICAgY29uc3QgZmVhdHVyZUluZGV4ID0gbmV3IEZlYXR1cmVJbmRleCh0aWxlSUQsIHBhcmFtcy5wcm9tb3RlSWQpO1xuICAgICAgICBmZWF0dXJlSW5kZXguYnVja2V0TGF5ZXJJRHMgPSBbXTtcbiAgICAgICAgZmVhdHVyZUluZGV4LmlzM0RUaWxlID0gdHJ1ZTtcblxuICAgICAgICByZXR1cm4gbG9hZDNEVGlsZShkYXRhKVxuICAgICAgICAgICAgLnRoZW4oZ2x0ZiA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFnbHRmKSByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKCdDb3VsZCBub3QgcGFyc2UgdGlsZScpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBub2RlcyA9IHByb2Nlc3MzRFRpbGUoZ2x0ZiwgMS4wIC8gdGlsZVRvTWV0ZXIocGFyYW1zLnRpbGVJRC5jYW5vbmljYWwpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNNYXBib3hNZXNoRmVhdHVyZXMgPSAoZ2x0Zi5qc29uLmV4dGVuc2lvbnNVc2VkICYmIGdsdGYuanNvbi5leHRlbnNpb25zVXNlZC5pbmNsdWRlcygnTUFQQk9YX21lc2hfZmVhdHVyZXMnKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGdsdGYuanNvbi5hc3NldC5leHRyYXMgJiYgZ2x0Zi5qc29uLmFzc2V0LmV4dHJhc1snTUFQQk9YX21lc2hfZmVhdHVyZXMnXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzTWVzaG9wdENvbXByZXNzaW9uID0gZ2x0Zi5qc29uLmV4dGVuc2lvbnNVc2VkICYmIGdsdGYuanNvbi5leHRlbnNpb25zVXNlZC5pbmNsdWRlcygnRVhUX21lc2hvcHRfY29tcHJlc3Npb24nKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtZXRlcnMgPSBuZXcgRXZhbHVhdGlvblBhcmFtZXRlcnModGhpcy56b29tLCB7YnJpZ2h0bmVzczogdGhpcy5icmlnaHRuZXNzfSk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzb3VyY2VMYXllcklkIGluIGxheWVyRmFtaWxpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBmYW1pbHkgb2YgbGF5ZXJGYW1pbGllc1tzb3VyY2VMYXllcklkXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGF5ZXIgPSBmYW1pbHlbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBmZWF0dXJlSW5kZXguYnVja2V0TGF5ZXJJRHMucHVzaChmYW1pbHkubWFwKChsKSA9PiBsLmlkKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllci5yZWNhbGN1bGF0ZShwYXJhbWV0ZXJzLCBbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBidWNrZXQgPSBuZXcgVGlsZWQzZE1vZGVsQnVja2V0KG5vZGVzLCB0aWxlSUQsIGhhc01hcGJveE1lc2hGZWF0dXJlcywgaGFzTWVzaG9wdENvbXByZXNzaW9uLCB0aGlzLmJyaWdodG5lc3MsIGZlYXR1cmVJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGxvYWQgdG8gR1BVIHdpdGhvdXQgd2FpdGluZyBmb3IgZXZhbHVhdGlvbiBpZiB3ZSBhcmUgaW4gZGlmZnVzZSBwYXRoXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhhc01hcGJveE1lc2hGZWF0dXJlcykgYnVja2V0Lm5lZWRzVXBsb2FkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1Y2tldHNbbGF5ZXIuZnFpZF0gPSBidWNrZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkbyB0aGUgZmlyc3QgZXZhbHVhdGlvbiBpbiB0aGUgd29ya2VyIHRvIGF2b2lkIHN0dXR0ZXJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzNDUgLSBBcmd1bWVudCBvZiB0eXBlICdUeXBlZFN0eWxlTGF5ZXInIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHBhcmFtZXRlciBvZiB0eXBlICdNb2RlbFN0eWxlTGF5ZXInLlxuICAgICAgICAgICAgICAgICAgICAgICAgYnVja2V0LmV2YWx1YXRlKGxheWVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1cyA9ICdkb25lJztcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyNzQwIC0gVHlwZSAneyBbXzogc3RyaW5nXTogQnVja2V0OyB9JyBpcyBtaXNzaW5nIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllcyBmcm9tIHR5cGUgJ0J1Y2tldFtdJzogbGVuZ3RoLCBwb3AsIHB1c2gsIGNvbmNhdCwgYW5kIDM1IG1vcmUuXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwge2J1Y2tldHMsIGZlYXR1cmVJbmRleH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjYWxsYmFjayhuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpKSk7XG4gICAgfVxufVxuXG4vLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyNDIwIC0gQ2xhc3MgJ1RpbGVkM2RNb2RlbFdvcmtlclNvdXJjZScgaW5jb3JyZWN0bHkgaW1wbGVtZW50cyBpbnRlcmZhY2UgJ1dvcmtlclNvdXJjZScuXG5jbGFzcyBUaWxlZDNkTW9kZWxXb3JrZXJTb3VyY2UgaW1wbGVtZW50cyBXb3JrZXJTb3VyY2Uge1xuICAgIGFjdG9yOiBBY3RvcjtcbiAgICBsYXllckluZGV4OiBTdHlsZUxheWVySW5kZXg7XG5cbiAgICBsb2FkaW5nOiB7XG4gICAgICAgIFtfOiBudW1iZXJdOiBUaWxlZDNkV29ya2VyVGlsZTtcbiAgICB9O1xuICAgIGxvYWRlZDoge1xuICAgICAgICBbXzogbnVtYmVyXTogVGlsZWQzZFdvcmtlclRpbGU7XG4gICAgfTtcbiAgICBicmlnaHRuZXNzPzogbnVtYmVyO1xuICAgIGNvbnN0cnVjdG9yKGFjdG9yOiBBY3RvciwgbGF5ZXJJbmRleDogU3R5bGVMYXllckluZGV4LCBhdmFpbGFibGVJbWFnZXM6IEFycmF5PHN0cmluZz4sIGlzU3ByaXRlTG9hZGVkOiBib29sZWFuLCBsb2FkVmVjdG9yRGF0YT86IExvYWRWZWN0b3JEYXRhLCBicmlnaHRuZXNzPzogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuYWN0b3IgPSBhY3RvcjtcbiAgICAgICAgdGhpcy5sYXllckluZGV4ID0gbGF5ZXJJbmRleDtcbiAgICAgICAgdGhpcy5icmlnaHRuZXNzID0gYnJpZ2h0bmVzcztcbiAgICAgICAgdGhpcy5sb2FkaW5nID0ge307XG4gICAgICAgIHRoaXMubG9hZGVkID0ge307XG4gICAgfVxuXG4gICAgbG9hZFRpbGUocGFyYW1zOiBXb3JrZXJUaWxlUGFyYW1ldGVycywgY2FsbGJhY2s6IFdvcmtlclRpbGVDYWxsYmFjaykge1xuICAgICAgICBjb25zdCB1aWQgPSBwYXJhbXMudWlkO1xuICAgICAgICBjb25zdCB3b3JrZXJUaWxlID0gdGhpcy5sb2FkaW5nW3VpZF0gPSBuZXcgVGlsZWQzZFdvcmtlclRpbGUocGFyYW1zLCB0aGlzLmJyaWdodG5lc3MpO1xuICAgICAgICBnZXRBcnJheUJ1ZmZlcihwYXJhbXMucmVxdWVzdCwgKGVycj86IEVycm9yIHwgbnVsbCwgZGF0YT86IEFycmF5QnVmZmVyIHwgbnVsbCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYWJvcnRlZCA9ICF0aGlzLmxvYWRpbmdbdWlkXTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmxvYWRpbmdbdWlkXTtcblxuICAgICAgICAgICAgaWYgKGFib3J0ZWQgfHwgZXJyKSB7XG4gICAgICAgICAgICAgICAgd29ya2VyVGlsZS5zdGF0dXMgPSAnZG9uZSc7XG4gICAgICAgICAgICAgICAgaWYgKCFhYm9ydGVkKSB0aGlzLmxvYWRlZFt1aWRdID0gd29ya2VyVGlsZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFkYXRhIHx8IGRhdGEuYnl0ZUxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHdvcmtlclRpbGUuc3RhdHVzID0gJ2RvbmUnO1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZGVkW3VpZF0gPSB3b3JrZXJUaWxlO1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB3b3JrZXJUaWxlQ2FsbGJhY2sgPSAoZXJyPzogRXJyb3IgfCBudWxsLCByZXN1bHQ/OiBXb3JrZXJUaWxlUmVzdWx0IHwgbnVsbCkgPT4ge1xuICAgICAgICAgICAgICAgIHdvcmtlclRpbGUuc3RhdHVzID0gJ2RvbmUnO1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZGVkID0gdGhpcy5sb2FkZWQgfHwge307XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkZWRbdWlkXSA9IHdvcmtlclRpbGU7XG5cbiAgICAgICAgICAgICAgICBpZiAoZXJyIHx8ICFyZXN1bHQpIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgZWxzZSBjYWxsYmFjayhudWxsLCByZXN1bHQpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgd29ya2VyVGlsZS5wYXJzZShkYXRhLCB0aGlzLmxheWVySW5kZXgsIHBhcmFtcywgd29ya2VyVGlsZUNhbGxiYWNrKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmUtcGFyc2VzIGEgdGlsZSB0aGF0IGhhcyBhbHJlYWR5IGJlZW4gbG9hZGVkLiAgWWllbGRzIHRoZSBzYW1lIGRhdGEgYXNcbiAgICAgKiB7QGxpbmsgV29ya2VyU291cmNlI2xvYWRUaWxlfS5cbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICByZWxvYWRUaWxlKHBhcmFtczogV29ya2VyVGlsZVBhcmFtZXRlcnMsIGNhbGxiYWNrOiBXb3JrZXJUaWxlQ2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgbG9hZGVkID0gdGhpcy5sb2FkZWQ7XG4gICAgICAgIGNvbnN0IHVpZCA9IHBhcmFtcy51aWQ7XG4gICAgICAgIGlmIChsb2FkZWQgJiYgbG9hZGVkW3VpZF0pIHtcbiAgICAgICAgICAgIGNvbnN0IHdvcmtlclRpbGUgPSBsb2FkZWRbdWlkXTtcbiAgICAgICAgICAgIHdvcmtlclRpbGUucHJvamVjdGlvbiA9IHBhcmFtcy5wcm9qZWN0aW9uO1xuICAgICAgICAgICAgd29ya2VyVGlsZS5icmlnaHRuZXNzID0gcGFyYW1zLmJyaWdodG5lc3M7XG5cbiAgICAgICAgICAgIGNvbnN0IGRvbmUgPSAoZXJyPzogRXJyb3IgfCBudWxsLCBkYXRhPzogV29ya2VyVGlsZVJlc3VsdCB8IG51bGwpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWxvYWRDYWxsYmFjayA9IHdvcmtlclRpbGUucmVsb2FkQ2FsbGJhY2s7XG4gICAgICAgICAgICAgICAgaWYgKHJlbG9hZENhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB3b3JrZXJUaWxlLnJlbG9hZENhbGxiYWNrO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRUaWxlKHBhcmFtcywgY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIsIGRhdGEpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHdvcmtlclRpbGUuc3RhdHVzID09PSAncGFyc2luZycpIHtcbiAgICAgICAgICAgICAgICB3b3JrZXJUaWxlLnJlbG9hZENhbGxiYWNrID0gZG9uZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAod29ya2VyVGlsZS5zdGF0dXMgPT09ICdkb25lJykge1xuICAgICAgICAgICAgICAgIC8vIGRvIHRoZSByZXF1ZXN0IGFnYWluXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkVGlsZShwYXJhbXMsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFib3J0cyBsb2FkaW5nIGEgdGlsZSB0aGF0IGlzIGluIHByb2dyZXNzLlxuICAgICAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIGFib3J0VGlsZShwYXJhbXM6IFRpbGVQYXJhbWV0ZXJzLCBjYWxsYmFjazogV29ya2VyVGlsZUNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IHVpZCA9IHBhcmFtcy51aWQ7XG4gICAgICAgIGNvbnN0IHRpbGUgPSB0aGlzLmxvYWRpbmdbdWlkXTtcbiAgICAgICAgaWYgKHRpbGUpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmxvYWRpbmdbdWlkXTtcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhpcyB0aWxlIGZyb20gYW55IGxvY2FsIGNhY2hlcy5cbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICByZW1vdmVUaWxlKHBhcmFtczogVGlsZVBhcmFtZXRlcnMsIGNhbGxiYWNrOiBXb3JrZXJUaWxlQ2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgbG9hZGVkID0gdGhpcy5sb2FkZWQsXG4gICAgICAgICAgICB1aWQgPSBwYXJhbXMudWlkO1xuICAgICAgICBpZiAobG9hZGVkICYmIGxvYWRlZFt1aWRdKSB7XG4gICAgICAgICAgICBkZWxldGUgbG9hZGVkW3VpZF07XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGlsZWQzZE1vZGVsV29ya2VyU291cmNlO1xuIiwiaW1wb3J0IEFjdG9yIGZyb20gJy4uL3V0aWwvYWN0b3InO1xuaW1wb3J0IFN0eWxlTGF5ZXJJbmRleCBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllcl9pbmRleCc7XG5pbXBvcnQgVmVjdG9yVGlsZVdvcmtlclNvdXJjZSBmcm9tICcuL3ZlY3Rvcl90aWxlX3dvcmtlcl9zb3VyY2UnO1xuaW1wb3J0IFJhc3RlckRFTVRpbGVXb3JrZXJTb3VyY2UgZnJvbSAnLi9yYXN0ZXJfZGVtX3RpbGVfd29ya2VyX3NvdXJjZSc7XG5pbXBvcnQgUmFzdGVyQXJyYXlUaWxlV29ya2VyU291cmNlIGZyb20gJy4vcmFzdGVyX2FycmF5X3RpbGVfd29ya2VyX3NvdXJjZSc7XG5pbXBvcnQgR2VvSlNPTldvcmtlclNvdXJjZSBmcm9tICcuL2dlb2pzb25fd29ya2VyX3NvdXJjZSc7XG5pbXBvcnQgVGlsZWQzZE1vZGVsV29ya2VyU291cmNlIGZyb20gJy4uLy4uLzNkLXN0eWxlL3NvdXJjZS90aWxlZF8zZF9tb2RlbF93b3JrZXJfc291cmNlJztcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcbmltcG9ydCB7cGx1Z2luIGFzIGdsb2JhbFJUTFRleHRQbHVnaW59IGZyb20gJy4vcnRsX3RleHRfcGx1Z2luJztcbmltcG9ydCB7ZW5mb3JjZUNhY2hlU2l6ZUxpbWl0fSBmcm9tICcuLi91dGlsL3RpbGVfcmVxdWVzdF9jYWNoZSc7XG5pbXBvcnQge1BlcmZvcm1hbmNlVXRpbHN9IGZyb20gJy4uL3V0aWwvcGVyZm9ybWFuY2UnO1xuaW1wb3J0IHtFdmVudH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkJztcbmltcG9ydCB7Z2V0UHJvamVjdGlvbn0gZnJvbSAnLi4vZ2VvL3Byb2plY3Rpb24vaW5kZXgnO1xuXG5pbXBvcnQgdHlwZSB7Q2xhc3N9IGZyb20gJy4uL3R5cGVzL2NsYXNzJztcbmltcG9ydCB0eXBlIHtcbiAgICBXb3JrZXJTb3VyY2UsXG4gICAgV29ya2VyVGlsZVBhcmFtZXRlcnMsXG4gICAgV29ya2VyREVNVGlsZVBhcmFtZXRlcnMsXG4gICAgV29ya2VyVGlsZUNhbGxiYWNrLFxuICAgIFdvcmtlckRFTVRpbGVDYWxsYmFjayxcbiAgICBUaWxlUGFyYW1ldGVycyxcbiAgICBXb3JrZXJSYXN0ZXJBcnJheVRpbGVQYXJhbWV0ZXJzLFxuICAgIFdvcmtlclJhc3RlckFycmF5VGlsZUNhbGxiYWNrXG59IGZyb20gJy4uL3NvdXJjZS93b3JrZXJfc291cmNlJztcbmltcG9ydCB0eXBlIHtXb3JrZXJHbG9iYWxTY29wZUludGVyZmFjZX0gZnJvbSAnLi4vdXRpbC93ZWJfd29ya2VyJztcbmltcG9ydCB0eXBlIHtDYWxsYmFja30gZnJvbSAnLi4vdHlwZXMvY2FsbGJhY2snO1xuaW1wb3J0IHR5cGUge0xheWVyU3BlY2lmaWNhdGlvbiwgUHJvamVjdGlvblNwZWNpZmljYXRpb259IGZyb20gJy4uL3N0eWxlLXNwZWMvdHlwZXMnO1xuaW1wb3J0IHR5cGUge0NvbmZpZ09wdGlvbnN9IGZyb20gJy4uL3N0eWxlL3Byb3BlcnRpZXMnO1xuaW1wb3J0IHR5cGUge1BsdWdpblN0YXRlfSBmcm9tICcuL3J0bF90ZXh0X3BsdWdpbic7XG5pbXBvcnQgdHlwZSBQcm9qZWN0aW9uIGZyb20gJy4uL2dlby9wcm9qZWN0aW9uL3Byb2plY3Rpb24nO1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdvcmtlciB7XG4gICAgc2VsZjogV29ya2VyR2xvYmFsU2NvcGVJbnRlcmZhY2U7XG4gICAgYWN0b3I6IEFjdG9yO1xuICAgIGxheWVySW5kZXhlczoge1xuICAgICAgICBbbWFwSWQ6IHN0cmluZ106IHtcbiAgICAgICAgICAgIFtzY29wZTogc3RyaW5nXTogU3R5bGVMYXllckluZGV4O1xuICAgICAgICB9O1xuICAgIH07XG4gICAgYXZhaWxhYmxlSW1hZ2VzOiB7XG4gICAgICAgIFttYXBJZDogc3RyaW5nXToge1xuICAgICAgICAgICAgW3Njb3BlOiBzdHJpbmddOiBBcnJheTxzdHJpbmc+O1xuICAgICAgICB9O1xuICAgIH07XG4gICAgd29ya2VyU291cmNlVHlwZXM6IHtcbiAgICAgICAgW186IHN0cmluZ106IENsYXNzPFdvcmtlclNvdXJjZT47XG4gICAgfTtcbiAgICB3b3JrZXJTb3VyY2VzOiB7XG4gICAgICAgIFttYXBJZDogc3RyaW5nXToge1xuICAgICAgICAgICAgW3Njb3BlOiBzdHJpbmddOiB7XG4gICAgICAgICAgICAgICAgW3NvdXJjZVR5cGU6IHN0cmluZ106IHtcbiAgICAgICAgICAgICAgICAgICAgW3NvdXJjZUlkOiBzdHJpbmddOiBXb3JrZXJTb3VyY2U7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBkZW1Xb3JrZXJTb3VyY2VzOiB7XG4gICAgICAgIFttYXBJZDogc3RyaW5nXToge1xuICAgICAgICAgICAgW3Njb3BlOiBzdHJpbmddOiB7XG4gICAgICAgICAgICAgICAgW3NvdXJjZUlkOiBzdHJpbmddOiBSYXN0ZXJERU1UaWxlV29ya2VyU291cmNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJhc3RlckFycmF5V29ya2VyU291cmNlOiBSYXN0ZXJBcnJheVRpbGVXb3JrZXJTb3VyY2UgfCBudWxsIHwgdW5kZWZpbmVkO1xuICAgIHByb2plY3Rpb25zOiB7XG4gICAgICAgIFtfOiBzdHJpbmddOiBQcm9qZWN0aW9uO1xuICAgIH07XG4gICAgZGVmYXVsdFByb2plY3Rpb246IFByb2plY3Rpb247XG4gICAgaXNTcHJpdGVMb2FkZWQ6IHtcbiAgICAgICAgW21hcElkOiBzdHJpbmddOiB7XG4gICAgICAgICAgICBbc2NvcGU6IHN0cmluZ106IGJvb2xlYW47XG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZWZlcnJlcjogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZDtcbiAgICBkcmFjb1VybDogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZDtcbiAgICBicmlnaHRuZXNzOiBudW1iZXIgfCBudWxsIHwgdW5kZWZpbmVkO1xuXG4gICAgY29uc3RydWN0b3Ioc2VsZjogV29ya2VyR2xvYmFsU2NvcGVJbnRlcmZhY2UpIHtcbiAgICAgICAgUGVyZm9ybWFuY2VVdGlscy5tZWFzdXJlKCd3b3JrZXJFdmFsdWF0ZVNjcmlwdCcpO1xuICAgICAgICB0aGlzLnNlbGYgPSBzZWxmO1xuICAgICAgICB0aGlzLmFjdG9yID0gbmV3IEFjdG9yKHNlbGYsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMubGF5ZXJJbmRleGVzID0ge307XG4gICAgICAgIHRoaXMuYXZhaWxhYmxlSW1hZ2VzID0ge307XG4gICAgICAgIHRoaXMuaXNTcHJpdGVMb2FkZWQgPSB7fTtcblxuICAgICAgICB0aGlzLnByb2plY3Rpb25zID0ge307XG4gICAgICAgIHRoaXMuZGVmYXVsdFByb2plY3Rpb24gPSBnZXRQcm9qZWN0aW9uKHtuYW1lOiAnbWVyY2F0b3InfSk7XG5cbiAgICAgICAgdGhpcy53b3JrZXJTb3VyY2VUeXBlcyA9IHtcbiAgICAgICAgICAgIHZlY3RvcjogVmVjdG9yVGlsZVdvcmtlclNvdXJjZSxcbiAgICAgICAgICAgIGdlb2pzb246IEdlb0pTT05Xb3JrZXJTb3VyY2UsXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVFMyNDE5IC0gVHlwZXMgb2YgY29uc3RydWN0IHNpZ25hdHVyZXMgYXJlIGluY29tcGF0aWJsZS5cbiAgICAgICAgICAgICdiYXRjaGVkLW1vZGVsJzogVGlsZWQzZE1vZGVsV29ya2VyU291cmNlXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gW21hcElkXVtzY29wZV1bc291cmNlVHlwZV1bc291cmNlTmFtZV0gPT4gd29ya2VyIHNvdXJjZSBpbnN0YW5jZVxuICAgICAgICB0aGlzLndvcmtlclNvdXJjZXMgPSB7fTtcbiAgICAgICAgdGhpcy5kZW1Xb3JrZXJTb3VyY2VzID0ge307XG5cbiAgICAgICAgdGhpcy5zZWxmLnJlZ2lzdGVyV29ya2VyU291cmNlID0gKG5hbWU6IHN0cmluZywgV29ya2VyU291cmNlOiBDbGFzczxXb3JrZXJTb3VyY2U+KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy53b3JrZXJTb3VyY2VUeXBlc1tuYW1lXSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgV29ya2VyIHNvdXJjZSB3aXRoIG5hbWUgXCIke25hbWV9XCIgYWxyZWFkeSByZWdpc3RlcmVkLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy53b3JrZXJTb3VyY2VUeXBlc1tuYW1lXSA9IFdvcmtlclNvdXJjZTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBUaGlzIGlzIGludm9rZWQgYnkgdGhlIFJUTCB0ZXh0IHBsdWdpbiB3aGVuIHRoZSBkb3dubG9hZCB2aWEgdGhlIGBpbXBvcnRTY3JpcHRzYCBjYWxsIGhhcyBmaW5pc2hlZCwgYW5kIHRoZSBjb2RlIGhhcyBiZWVuIHBhcnNlZC5cbiAgICAgICAgdGhpcy5zZWxmLnJlZ2lzdGVyUlRMVGV4dFBsdWdpbiA9IChydGxUZXh0UGx1Z2luOiB7XG4gICAgICAgICAgICBhcHBseUFyYWJpY1NoYXBpbmc6IGFueTtcbiAgICAgICAgICAgIHByb2Nlc3NCaWRpcmVjdGlvbmFsVGV4dDogYW55O1xuICAgICAgICAgICAgcHJvY2Vzc1N0eWxlZEJpZGlyZWN0aW9uYWxUZXh0PzogYW55O1xuICAgICAgICB9KSA9PiB7XG4gICAgICAgICAgICBpZiAoZ2xvYmFsUlRMVGV4dFBsdWdpbi5pc1BhcnNlZCgpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSVEwgdGV4dCBwbHVnaW4gYWxyZWFkeSByZWdpc3RlcmVkLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2xvYmFsUlRMVGV4dFBsdWdpblsnYXBwbHlBcmFiaWNTaGFwaW5nJ10gPSBydGxUZXh0UGx1Z2luLmFwcGx5QXJhYmljU2hhcGluZztcbiAgICAgICAgICAgIGdsb2JhbFJUTFRleHRQbHVnaW5bJ3Byb2Nlc3NCaWRpcmVjdGlvbmFsVGV4dCddID0gcnRsVGV4dFBsdWdpbi5wcm9jZXNzQmlkaXJlY3Rpb25hbFRleHQ7XG4gICAgICAgICAgICBnbG9iYWxSVExUZXh0UGx1Z2luWydwcm9jZXNzU3R5bGVkQmlkaXJlY3Rpb25hbFRleHQnXSA9IHJ0bFRleHRQbHVnaW4ucHJvY2Vzc1N0eWxlZEJpZGlyZWN0aW9uYWxUZXh0O1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGNsZWFyQ2FjaGVzKG1hcElkOiBzdHJpbmcsIHVudXNlZDogdW5rbm93biwgY2FsbGJhY2s6IFdvcmtlclRpbGVDYWxsYmFjaykge1xuICAgICAgICBkZWxldGUgdGhpcy5sYXllckluZGV4ZXNbbWFwSWRdO1xuICAgICAgICBkZWxldGUgdGhpcy5hdmFpbGFibGVJbWFnZXNbbWFwSWRdO1xuICAgICAgICBkZWxldGUgdGhpcy53b3JrZXJTb3VyY2VzW21hcElkXTtcbiAgICAgICAgZGVsZXRlIHRoaXMuZGVtV29ya2VyU291cmNlc1ttYXBJZF07XG4gICAgICAgIGRlbGV0ZSB0aGlzLnJhc3RlckFycmF5V29ya2VyU291cmNlO1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIGNoZWNrSWZSZWFkeShtYXBJRDogc3RyaW5nLCB1bnVzZWQ6IHVua25vd24sIGNhbGxiYWNrOiBXb3JrZXJUaWxlQ2FsbGJhY2spIHtcbiAgICAgICAgLy8gbm9vcCwgdXNlZCB0byBjaGVjayBpZiBhIHdvcmtlciBpcyBmdWxseSBzZXQgdXAgYW5kIHJlYWR5IHRvIHJlY2VpdmUgbWVzc2FnZXNcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBzZXRSZWZlcnJlcihtYXBJRDogc3RyaW5nLCByZWZlcnJlcjogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMucmVmZXJyZXIgPSByZWZlcnJlcjtcbiAgICB9XG5cbiAgICBzcHJpdGVMb2FkZWQobWFwSWQ6IHN0cmluZywge1xuICAgICAgICBzY29wZSxcbiAgICAgICAgaXNMb2FkZWQsXG4gICAgfToge1xuICAgICAgICBzY29wZTogc3RyaW5nO1xuICAgICAgICBpc0xvYWRlZDogYm9vbGVhbjtcbiAgICB9KSB7XG4gICAgICAgIGlmICghdGhpcy5pc1Nwcml0ZUxvYWRlZFttYXBJZF0pXG4gICAgICAgICAgICB0aGlzLmlzU3ByaXRlTG9hZGVkW21hcElkXSA9IHt9O1xuXG4gICAgICAgIHRoaXMuaXNTcHJpdGVMb2FkZWRbbWFwSWRdW3Njb3BlXSA9IGlzTG9hZGVkO1xuXG4gICAgICAgIGlmICghdGhpcy53b3JrZXJTb3VyY2VzW21hcElkXSB8fCAhdGhpcy53b3JrZXJTb3VyY2VzW21hcElkXVtzY29wZV0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3Qgd29ya2VyU291cmNlIGluIHRoaXMud29ya2VyU291cmNlc1ttYXBJZF1bc2NvcGVdKSB7XG4gICAgICAgICAgICBjb25zdCB3cyA9IHRoaXMud29ya2VyU291cmNlc1ttYXBJZF1bc2NvcGVdW3dvcmtlclNvdXJjZV07XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHNvdXJjZSBpbiB3cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdvcmtlclNvdXJjZSA9IHdzW3NvdXJjZV07XG4gICAgICAgICAgICAgICAgaWYgKHdvcmtlclNvdXJjZSBpbnN0YW5jZW9mIFZlY3RvclRpbGVXb3JrZXJTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgd29ya2VyU291cmNlLmlzU3ByaXRlTG9hZGVkID0gaXNMb2FkZWQ7XG4gICAgICAgICAgICAgICAgICAgIHdvcmtlclNvdXJjZS5maXJlKG5ldyBFdmVudCgnaXNTcHJpdGVMb2FkZWQnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0SW1hZ2VzKG1hcElkOiBzdHJpbmcsIHtcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIGltYWdlcyxcbiAgICB9OiB7XG4gICAgICAgIHNjb3BlOiBzdHJpbmc7XG4gICAgICAgIGltYWdlczogQXJyYXk8c3RyaW5nPjtcbiAgICB9LCBjYWxsYmFjazogV29ya2VyVGlsZUNhbGxiYWNrKSB7XG4gICAgICAgIGlmICghdGhpcy5hdmFpbGFibGVJbWFnZXNbbWFwSWRdKSB7XG4gICAgICAgICAgICB0aGlzLmF2YWlsYWJsZUltYWdlc1ttYXBJZF0gPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXZhaWxhYmxlSW1hZ2VzW21hcElkXVtzY29wZV0gPSBpbWFnZXM7XG5cbiAgICAgICAgaWYgKCF0aGlzLndvcmtlclNvdXJjZXNbbWFwSWRdIHx8ICF0aGlzLndvcmtlclNvdXJjZXNbbWFwSWRdW3Njb3BlXSkge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3Qgd29ya2VyU291cmNlIGluIHRoaXMud29ya2VyU291cmNlc1ttYXBJZF1bc2NvcGVdKSB7XG4gICAgICAgICAgICBjb25zdCB3cyA9IHRoaXMud29ya2VyU291cmNlc1ttYXBJZF1bc2NvcGVdW3dvcmtlclNvdXJjZV07XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHNvdXJjZSBpbiB3cykge1xuICAgICAgICAgICAgICAgIHdzW3NvdXJjZV0uYXZhaWxhYmxlSW1hZ2VzID0gaW1hZ2VzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBzZXRQcm9qZWN0aW9uKG1hcElkOiBzdHJpbmcsIGNvbmZpZzogUHJvamVjdGlvblNwZWNpZmljYXRpb24pIHtcbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uc1ttYXBJZF0gPSBnZXRQcm9qZWN0aW9uKGNvbmZpZyk7XG4gICAgfVxuXG4gICAgc2V0QnJpZ2h0bmVzcyhtYXBJZDogc3RyaW5nLCBicmlnaHRuZXNzOiBudW1iZXIgfCBudWxsIHwgdW5kZWZpbmVkLCBjYWxsYmFjazogV29ya2VyVGlsZUNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuYnJpZ2h0bmVzcyA9IGJyaWdodG5lc3M7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgc2V0TGF5ZXJzKG1hcElkOiBzdHJpbmcsIHBhcmFtczoge1xuICAgICAgICBsYXllcnM6IEFycmF5PExheWVyU3BlY2lmaWNhdGlvbj47XG4gICAgICAgIHNjb3BlOiBzdHJpbmc7XG4gICAgICAgIG9wdGlvbnM6IENvbmZpZ09wdGlvbnM7XG4gICAgfSwgY2FsbGJhY2s6IFdvcmtlclRpbGVDYWxsYmFjaykge1xuICAgICAgICB0aGlzLmdldExheWVySW5kZXgobWFwSWQsIHBhcmFtcy5zY29wZSkucmVwbGFjZShwYXJhbXMubGF5ZXJzLCBwYXJhbXMub3B0aW9ucyk7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgdXBkYXRlTGF5ZXJzKG1hcElkOiBzdHJpbmcsIHBhcmFtczoge1xuICAgICAgICBsYXllcnM6IEFycmF5PExheWVyU3BlY2lmaWNhdGlvbj47XG4gICAgICAgIHNjb3BlOiBzdHJpbmc7XG4gICAgICAgIHJlbW92ZWRJZHM6IEFycmF5PHN0cmluZz47XG4gICAgICAgIG9wdGlvbnM6IENvbmZpZ09wdGlvbnM7XG4gICAgfSwgY2FsbGJhY2s6IFdvcmtlclRpbGVDYWxsYmFjaykge1xuICAgICAgICB0aGlzLmdldExheWVySW5kZXgobWFwSWQsIHBhcmFtcy5zY29wZSkudXBkYXRlKHBhcmFtcy5sYXllcnMsIHBhcmFtcy5yZW1vdmVkSWRzLCBwYXJhbXMub3B0aW9ucyk7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgbG9hZFRpbGUobWFwSWQ6IHN0cmluZywgcGFyYW1zOiBXb3JrZXJUaWxlUGFyYW1ldGVycyAmIHtcbiAgICAgICAgdHlwZTogc3RyaW5nO1xuICAgIH0sIGNhbGxiYWNrOiBXb3JrZXJUaWxlQ2FsbGJhY2spIHtcbiAgICAgICAgYXNzZXJ0KHBhcmFtcy50eXBlKTtcbiAgICAgICAgcGFyYW1zLnByb2plY3Rpb24gPSB0aGlzLnByb2plY3Rpb25zW21hcElkXSB8fCB0aGlzLmRlZmF1bHRQcm9qZWN0aW9uO1xuICAgICAgICB0aGlzLmdldFdvcmtlclNvdXJjZShtYXBJZCwgcGFyYW1zLnR5cGUsIHBhcmFtcy5zb3VyY2UsIHBhcmFtcy5zY29wZSkubG9hZFRpbGUocGFyYW1zLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgbG9hZERFTVRpbGUobWFwSWQ6IHN0cmluZywgcGFyYW1zOiBXb3JrZXJERU1UaWxlUGFyYW1ldGVycywgY2FsbGJhY2s6IFdvcmtlckRFTVRpbGVDYWxsYmFjaykge1xuICAgICAgICB0aGlzLmdldERFTVdvcmtlclNvdXJjZShtYXBJZCwgcGFyYW1zLnNvdXJjZSwgcGFyYW1zLnNjb3BlKS5sb2FkVGlsZShwYXJhbXMsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBkZWNvZGVSYXN0ZXJBcnJheShtYXBJZDogc3RyaW5nLCBwYXJhbXM6IFdvcmtlclJhc3RlckFycmF5VGlsZVBhcmFtZXRlcnMsIGNhbGxiYWNrOiBXb3JrZXJSYXN0ZXJBcnJheVRpbGVDYWxsYmFjaykge1xuICAgICAgICB0aGlzLmdldFJhc3RlckFycmF5V29ya2VyU291cmNlKCkuZGVjb2RlUmFzdGVyQXJyYXkocGFyYW1zLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgcmVsb2FkVGlsZShtYXBJZDogc3RyaW5nLCBwYXJhbXM6IFdvcmtlclRpbGVQYXJhbWV0ZXJzICYge1xuICAgICAgICB0eXBlOiBzdHJpbmc7XG4gICAgfSwgY2FsbGJhY2s6IFdvcmtlclRpbGVDYWxsYmFjaykge1xuICAgICAgICBhc3NlcnQocGFyYW1zLnR5cGUpO1xuICAgICAgICBwYXJhbXMucHJvamVjdGlvbiA9IHRoaXMucHJvamVjdGlvbnNbbWFwSWRdIHx8IHRoaXMuZGVmYXVsdFByb2plY3Rpb247XG4gICAgICAgIHRoaXMuZ2V0V29ya2VyU291cmNlKG1hcElkLCBwYXJhbXMudHlwZSwgcGFyYW1zLnNvdXJjZSwgcGFyYW1zLnNjb3BlKS5yZWxvYWRUaWxlKHBhcmFtcywgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIGFib3J0VGlsZShtYXBJZDogc3RyaW5nLCBwYXJhbXM6IFRpbGVQYXJhbWV0ZXJzICYge1xuICAgICAgICB0eXBlOiBzdHJpbmc7XG4gICAgfSwgY2FsbGJhY2s6IFdvcmtlclRpbGVDYWxsYmFjaykge1xuICAgICAgICBhc3NlcnQocGFyYW1zLnR5cGUpO1xuICAgICAgICB0aGlzLmdldFdvcmtlclNvdXJjZShtYXBJZCwgcGFyYW1zLnR5cGUsIHBhcmFtcy5zb3VyY2UsIHBhcmFtcy5zY29wZSkuYWJvcnRUaWxlKHBhcmFtcywgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIHJlbW92ZVRpbGUobWFwSWQ6IHN0cmluZywgcGFyYW1zOiBUaWxlUGFyYW1ldGVycyAmIHtcbiAgICAgICAgdHlwZTogc3RyaW5nO1xuICAgIH0sIGNhbGxiYWNrOiBXb3JrZXJUaWxlQ2FsbGJhY2spIHtcbiAgICAgICAgYXNzZXJ0KHBhcmFtcy50eXBlKTtcbiAgICAgICAgdGhpcy5nZXRXb3JrZXJTb3VyY2UobWFwSWQsIHBhcmFtcy50eXBlLCBwYXJhbXMuc291cmNlLCBwYXJhbXMuc2NvcGUpLnJlbW92ZVRpbGUocGFyYW1zLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgcmVtb3ZlU291cmNlKG1hcElkOiBzdHJpbmcsIHBhcmFtczoge1xuICAgICAgICBzb3VyY2U6IHN0cmluZztcbiAgICAgICAgc2NvcGU6IHN0cmluZztcbiAgICAgICAgdHlwZTogc3RyaW5nO1xuICAgIH0sIGNhbGxiYWNrOiBXb3JrZXJUaWxlQ2FsbGJhY2spIHtcbiAgICAgICAgYXNzZXJ0KHBhcmFtcy50eXBlKTtcbiAgICAgICAgYXNzZXJ0KHBhcmFtcy5zY29wZSk7XG4gICAgICAgIGFzc2VydChwYXJhbXMuc291cmNlKTtcblxuICAgICAgICBpZiAoIXRoaXMud29ya2VyU291cmNlc1ttYXBJZF0gfHxcbiAgICAgICAgICAgICF0aGlzLndvcmtlclNvdXJjZXNbbWFwSWRdW3BhcmFtcy5zY29wZV0gfHxcbiAgICAgICAgICAgICF0aGlzLndvcmtlclNvdXJjZXNbbWFwSWRdW3BhcmFtcy5zY29wZV1bcGFyYW1zLnR5cGVdIHx8XG4gICAgICAgICAgICAhdGhpcy53b3JrZXJTb3VyY2VzW21hcElkXVtwYXJhbXMuc2NvcGVdW3BhcmFtcy50eXBlXVtwYXJhbXMuc291cmNlXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgd29ya2VyID0gdGhpcy53b3JrZXJTb3VyY2VzW21hcElkXVtwYXJhbXMuc2NvcGVdW3BhcmFtcy50eXBlXVtwYXJhbXMuc291cmNlXTtcbiAgICAgICAgZGVsZXRlIHRoaXMud29ya2VyU291cmNlc1ttYXBJZF1bcGFyYW1zLnNjb3BlXVtwYXJhbXMudHlwZV1bcGFyYW1zLnNvdXJjZV07XG5cbiAgICAgICAgaWYgKHdvcmtlci5yZW1vdmVTb3VyY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd29ya2VyLnJlbW92ZVNvdXJjZShwYXJhbXMsIGNhbGxiYWNrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2FkIGEge0BsaW5rIFdvcmtlclNvdXJjZX0gc2NyaXB0IGF0IHBhcmFtcy51cmwuICBUaGUgc2NyaXB0IGlzIHJ1blxuICAgICAqICh1c2luZyBpbXBvcnRTY3JpcHRzKSB3aXRoIGByZWdpc3RlcldvcmtlclNvdXJjZWAgaW4gc2NvcGUsIHdoaWNoIGlzIGFcbiAgICAgKiBmdW5jdGlvbiB0YWtpbmcgYChuYW1lLCB3b3JrZXJTb3VyY2VPYmplY3QpYC5cbiAgICAgKiAgQHByaXZhdGVcbiAgICAgKi9cbiAgICBsb2FkV29ya2VyU291cmNlKG1hcDogc3RyaW5nLCBwYXJhbXM6IHtcbiAgICAgICAgdXJsOiBzdHJpbmc7XG4gICAgfSwgY2FsbGJhY2s6IENhbGxiYWNrPHVuZGVmaW5lZD4pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuc2VsZi5pbXBvcnRTY3JpcHRzKHBhcmFtcy51cmwpO1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY2FsbGJhY2soZS50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN5bmNSVExQbHVnaW5TdGF0ZShtYXA6IHN0cmluZywgc3RhdGU6IFBsdWdpblN0YXRlLCBjYWxsYmFjazogQ2FsbGJhY2s8Ym9vbGVhbj4pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGdsb2JhbFJUTFRleHRQbHVnaW4uc2V0U3RhdGUoc3RhdGUpO1xuICAgICAgICAgICAgY29uc3QgcGx1Z2luVVJMID0gZ2xvYmFsUlRMVGV4dFBsdWdpbi5nZXRQbHVnaW5VUkwoKTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBnbG9iYWxSVExUZXh0UGx1Z2luLmlzTG9hZGVkKCkgJiZcbiAgICAgICAgICAgICAgICAhZ2xvYmFsUlRMVGV4dFBsdWdpbi5pc1BhcnNlZCgpICYmXG4gICAgICAgICAgICAgICAgcGx1Z2luVVJMICE9IG51bGwgLy8gTm90IHBvc3NpYmxlIHdoZW4gYGlzTG9hZGVkYCBpcyB0cnVlLCBidXQga2VlcHMgZmxvdyBoYXBweVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxmLmltcG9ydFNjcmlwdHMocGx1Z2luVVJMKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21wbGV0ZSA9IGdsb2JhbFJUTFRleHRQbHVnaW4uaXNQYXJzZWQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IGNvbXBsZXRlID8gdW5kZWZpbmVkIDogbmV3IEVycm9yKGBSVEwgVGV4dCBQbHVnaW4gZmFpbGVkIHRvIGltcG9ydCBzY3JpcHRzIGZyb20gJHtwbHVnaW5VUkx9YCk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICAgICAgICBjYWxsYmFjayhlLnRvU3RyaW5nKCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0RHJhY29VcmwobWFwOiBzdHJpbmcsIGRyYWNvVXJsOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5kcmFjb1VybCA9IGRyYWNvVXJsO1xuICAgIH1cblxuICAgIGdldEF2YWlsYWJsZUltYWdlcyhtYXBJZDogc3RyaW5nLCBzY29wZTogc3RyaW5nKTogQXJyYXk8c3RyaW5nPiB7XG4gICAgICAgIGlmICghdGhpcy5hdmFpbGFibGVJbWFnZXNbbWFwSWRdKSB7XG4gICAgICAgICAgICB0aGlzLmF2YWlsYWJsZUltYWdlc1ttYXBJZF0gPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBhdmFpbGFibGVJbWFnZXMgPSB0aGlzLmF2YWlsYWJsZUltYWdlc1ttYXBJZF1bc2NvcGVdO1xuXG4gICAgICAgIGlmICghYXZhaWxhYmxlSW1hZ2VzKSB7XG4gICAgICAgICAgICBhdmFpbGFibGVJbWFnZXMgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhdmFpbGFibGVJbWFnZXM7XG4gICAgfVxuXG4gICAgZ2V0TGF5ZXJJbmRleChtYXBJZDogc3RyaW5nLCBzY29wZTogc3RyaW5nKTogU3R5bGVMYXllckluZGV4IHtcbiAgICAgICAgaWYgKCF0aGlzLmxheWVySW5kZXhlc1ttYXBJZF0pIHtcbiAgICAgICAgICAgIHRoaXMubGF5ZXJJbmRleGVzW21hcElkXSA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGxheWVySW5kZXggPSB0aGlzLmxheWVySW5kZXhlc1ttYXBJZF1bc2NvcGVdO1xuXG4gICAgICAgIGlmICghbGF5ZXJJbmRleCkge1xuICAgICAgICAgICAgbGF5ZXJJbmRleCA9IHRoaXMubGF5ZXJJbmRleGVzW21hcElkXVtzY29wZV0gPSBuZXcgU3R5bGVMYXllckluZGV4KCk7XG4gICAgICAgICAgICBsYXllckluZGV4LnNjb3BlID0gc2NvcGU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbGF5ZXJJbmRleDtcbiAgICB9XG5cbiAgICBnZXRXb3JrZXJTb3VyY2UobWFwSWQ6IHN0cmluZywgdHlwZTogc3RyaW5nLCBzb3VyY2U6IHN0cmluZywgc2NvcGU6IHN0cmluZyk6IFdvcmtlclNvdXJjZSB7XG4gICAgICAgIGlmICghdGhpcy53b3JrZXJTb3VyY2VzW21hcElkXSlcbiAgICAgICAgICAgIHRoaXMud29ya2VyU291cmNlc1ttYXBJZF0gPSB7fTtcbiAgICAgICAgaWYgKCF0aGlzLndvcmtlclNvdXJjZXNbbWFwSWRdW3Njb3BlXSlcbiAgICAgICAgICAgIHRoaXMud29ya2VyU291cmNlc1ttYXBJZF1bc2NvcGVdID0ge307XG4gICAgICAgIGlmICghdGhpcy53b3JrZXJTb3VyY2VzW21hcElkXVtzY29wZV1bdHlwZV0pXG4gICAgICAgICAgICB0aGlzLndvcmtlclNvdXJjZXNbbWFwSWRdW3Njb3BlXVt0eXBlXSA9IHt9O1xuICAgICAgICBpZiAoIXRoaXMuaXNTcHJpdGVMb2FkZWRbbWFwSWRdKVxuICAgICAgICAgICAgdGhpcy5pc1Nwcml0ZUxvYWRlZFttYXBJZF0gPSB7fTtcblxuICAgICAgICBpZiAoIXRoaXMud29ya2VyU291cmNlc1ttYXBJZF1bc2NvcGVdW3R5cGVdW3NvdXJjZV0pIHtcbiAgICAgICAgICAgIC8vIHVzZSBhIHdyYXBwZWQgYWN0b3Igc28gdGhhdCB3ZSBjYW4gYXR0YWNoIGEgdGFyZ2V0IG1hcElkIHBhcmFtXG4gICAgICAgICAgICAvLyB0byBhbnkgbWVzc2FnZXMgaW52b2tlZCBieSB0aGUgV29ya2VyU291cmNlXG4gICAgICAgICAgICBjb25zdCBhY3RvciA9IHtcbiAgICAgICAgICAgICAgICBzZW5kOiAodHlwZTogc3RyaW5nLCBkYXRhOiB1bmtub3duLCBjYWxsYmFjazogYW55LCBfOiBhbnksIG11c3RRdWV1ZTogYm9vbGVhbiwgbWV0YWRhdGE6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdG9yLnNlbmQodHlwZSwgZGF0YSwgY2FsbGJhY2ssIG1hcElkLCBtdXN0UXVldWUsIG1ldGFkYXRhKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNjaGVkdWxlcjogdGhpcy5hY3Rvci5zY2hlZHVsZXJcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLndvcmtlclNvdXJjZXNbbWFwSWRdW3Njb3BlXVt0eXBlXVtzb3VyY2VdID0gbmV3ICh0aGlzLndvcmtlclNvdXJjZVR5cGVzW3R5cGVdIGFzIGFueSkoXG4gICAgICAgICAgICAgICAgKGFjdG9yIGFzIGFueSksXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRMYXllckluZGV4KG1hcElkLCBzY29wZSksXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRBdmFpbGFibGVJbWFnZXMobWFwSWQsIHNjb3BlKSxcbiAgICAgICAgICAgICAgICB0aGlzLmlzU3ByaXRlTG9hZGVkW21hcElkXVtzY29wZV0sXG4gICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHRoaXMuYnJpZ2h0bmVzcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy53b3JrZXJTb3VyY2VzW21hcElkXVtzY29wZV1bdHlwZV1bc291cmNlXTtcbiAgICB9XG5cbiAgICBnZXRERU1Xb3JrZXJTb3VyY2UobWFwSWQ6IHN0cmluZywgc291cmNlOiBzdHJpbmcsIHNjb3BlOiBzdHJpbmcpOiBSYXN0ZXJERU1UaWxlV29ya2VyU291cmNlIHtcbiAgICAgICAgaWYgKCF0aGlzLmRlbVdvcmtlclNvdXJjZXNbbWFwSWRdKVxuICAgICAgICAgICAgdGhpcy5kZW1Xb3JrZXJTb3VyY2VzW21hcElkXSA9IHt9O1xuXG4gICAgICAgIGlmICghdGhpcy5kZW1Xb3JrZXJTb3VyY2VzW21hcElkXVtzY29wZV0pXG4gICAgICAgICAgICB0aGlzLmRlbVdvcmtlclNvdXJjZXNbbWFwSWRdW3Njb3BlXSA9IHt9O1xuXG4gICAgICAgIGlmICghdGhpcy5kZW1Xb3JrZXJTb3VyY2VzW21hcElkXVtzY29wZV1bc291cmNlXSkge1xuICAgICAgICAgICAgdGhpcy5kZW1Xb3JrZXJTb3VyY2VzW21hcElkXVtzY29wZV1bc291cmNlXSA9IG5ldyBSYXN0ZXJERU1UaWxlV29ya2VyU291cmNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5kZW1Xb3JrZXJTb3VyY2VzW21hcElkXVtzY29wZV1bc291cmNlXTtcbiAgICB9XG5cbiAgICBnZXRSYXN0ZXJBcnJheVdvcmtlclNvdXJjZSgpOiBSYXN0ZXJBcnJheVRpbGVXb3JrZXJTb3VyY2Uge1xuICAgICAgICBpZiAoIXRoaXMucmFzdGVyQXJyYXlXb3JrZXJTb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMucmFzdGVyQXJyYXlXb3JrZXJTb3VyY2UgPSBuZXcgUmFzdGVyQXJyYXlUaWxlV29ya2VyU291cmNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5yYXN0ZXJBcnJheVdvcmtlclNvdXJjZTtcbiAgICB9XG5cbiAgICBlbmZvcmNlQ2FjaGVTaXplTGltaXQobWFwSWQ6IHN0cmluZywgbGltaXQ6IG51bWJlcikge1xuICAgICAgICBlbmZvcmNlQ2FjaGVTaXplTGltaXQobGltaXQpO1xuICAgIH1cblxuICAgIGdldFdvcmtlclBlcmZvcm1hbmNlTWV0cmljcyhtYXBJZDogc3RyaW5nLCBwYXJhbXM6IGFueSwgY2FsbGJhY2s6IChlcnJvcj86IEVycm9yLCByZXN1bHQ/OiBhbnkpID0+IHZvaWQpIHtcbiAgICAgICAgY2FsbGJhY2sodW5kZWZpbmVkLCBQZXJmb3JtYW5jZVV0aWxzLmdldFdvcmtlclBlcmZvcm1hbmNlTWV0cmljcygpKTtcbiAgICB9XG59XG5cbi8vIEB0cy1leHBlY3QtZXJyb3IgLSBUUzIzMDRcbmlmICh0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnICYmXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjMwNFxuICAgIHNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSkge1xuLy8gQHRzLWV4cGVjdC1lcnJvciAtIFRTMjU1MSAtIFByb3BlcnR5ICd3b3JrZXInIGRvZXMgbm90IGV4aXN0IG9uIHR5cGUgJ1dpbmRvdyAmIHR5cGVvZiBnbG9iYWxUaGlzJy4gRGlkIHlvdSBtZWFuICdXb3JrZXInPyB8IFRTMjM0NSAtIEFyZ3VtZW50IG9mIHR5cGUgJ1dpbmRvdyAmIHR5cGVvZiBnbG9iYWxUaGlzJyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnV29ya2VyR2xvYmFsU2NvcGVJbnRlcmZhY2UnLlxuICAgIHNlbGYud29ya2VyID0gbmV3IFdvcmtlcihzZWxmKTtcbn1cbiJdLCJuYW1lcyI6WyJnZXRQZXJmb3JtYW5jZU1lYXN1cmVtZW50IiwicmVxdWVzdCIsInVybCIsInRvU3RyaW5nIiwicGVyZm9ybWFuY2UiLCJnZXRFbnRyaWVzQnlOYW1lIiwic3RyaW5naWZ5Iiwib2JqIiwiSlNPTiIsIkFycmF5IiwiaXNBcnJheSIsInN0ciIsInZhbCIsImtleSIsIk9iamVjdCIsImtleXMiLCJzb3J0IiwiZ2V0S2V5IiwibGF5ZXIiLCJrIiwicmVmUHJvcGVydGllcyIsIlN0eWxlTGF5ZXJJbmRleCIsImNvbnN0cnVjdG9yIiwibGF5ZXJDb25maWdzIiwidGhpcyIsImtleUNhY2hlIiwiX2xheWVycyIsIl9sYXllckNvbmZpZ3MiLCJyZXBsYWNlIiwib3B0aW9ucyIsInVwZGF0ZSIsInJlbW92ZWRJZHMiLCJfb3B0aW9ucyIsImxheWVyQ29uZmlnIiwiaWQiLCJjcmVhdGVTdHlsZUxheWVyIiwic2NvcGUiLCJjb21waWxlRmlsdGVyIiwiZmFtaWxpZXNCeVNvdXJjZSIsImdyb3VwcyIsImxheWVycyIsImNhY2hlZEtleXMiLCJpIiwibGVuZ3RoIiwiZ3JvdXAiLCJwdXNoIiwicmVzdWx0IiwiZ3JvdXBCeUxheW91dCIsInZhbHVlcyIsIm1hcCIsInZpc2liaWxpdHkiLCJzb3VyY2VJZCIsInNvdXJjZSIsInNvdXJjZUdyb3VwIiwic291cmNlTGF5ZXJJZCIsInNvdXJjZUxheWVyIiwic291cmNlTGF5ZXJGYW1pbGllcyIsImxvY2FsR2x5cGhQYWRkaW5nIiwiU0RGX1NDQUxFIiwiR2x5cGhBdGxhcyIsInN0YWNrcyIsInBvc2l0aW9ucyIsImJpbnMiLCJzdGFjayIsImdseXBoRGF0YSIsImdseXBoUG9zaXRpb25NYXAiLCJnbHlwaHMiLCJzcmMiLCJiaXRtYXAiLCJ3aWR0aCIsImhlaWdodCIsInBhZGRpbmciLCJtZXRyaWNzIiwibG9jYWxHbHlwaCIsImJpbiIsIngiLCJ5IiwidyIsImgiLCJwb3RwYWNrIiwieiIsImltYWdlIiwiQWxwaGFJbWFnZSIsImNvcHkiLCJyZWdpc3RlciIsIldvcmtlclRpbGUiLCJwYXJhbXMiLCJ0aWxlSUQiLCJPdmVyc2NhbGVkVGlsZUlEIiwib3ZlcnNjYWxlZFoiLCJ3cmFwIiwiY2Fub25pY2FsIiwidGlsZVpvb20iLCJ1aWQiLCJ6b29tIiwibHV0IiwicGl4ZWxSYXRpbyIsInRpbGVTaXplIiwib3ZlcnNjYWxpbmciLCJvdmVyc2NhbGVGYWN0b3IiLCJzaG93Q29sbGlzaW9uQm94ZXMiLCJjb2xsZWN0UmVzb3VyY2VUaW1pbmciLCJwcm9tb3RlSWQiLCJpc1N5bWJvbFRpbGUiLCJ0aWxlVHJhbnNmb3JtIiwicHJvamVjdGlvbiIsImJyaWdodG5lc3MiLCJleHRyYVNoYWRvd0Nhc3RlciIsInRlc3NlbGxhdGlvblN0ZXAiLCJwYXJzZSIsImRhdGEiLCJsYXllckluZGV4IiwiYXZhaWxhYmxlSW1hZ2VzIiwiYWN0b3IiLCJjYWxsYmFjayIsInN0YXR1cyIsImNvbGxpc2lvbkJveEFycmF5IiwiQ29sbGlzaW9uQm94QXJyYXkiLCJzb3VyY2VMYXllckNvZGVyIiwiRGljdGlvbmFyeUNvZGVyIiwiZFEiLCJmZWF0dXJlSW5kZXgiLCJGZWF0dXJlSW5kZXgiLCJidWNrZXRMYXllcklEcyIsImJ1Y2tldHMiLCJsaW5lQXRsYXMiLCJMaW5lQXRsYXMiLCJpY29uRGVwZW5kZW5jaWVzIiwicGF0dGVybkRlcGVuZGVuY2llcyIsImdseXBoRGVwZW5kZW5jaWVzIiwibGF5ZXJGYW1pbGllcyIsImFueVN5bWJvbExheWVycyIsImFueU90aGVyTGF5ZXJzIiwiYW55M0RMYXllciIsImZhbWlseSIsInR5cGUiLCJpczNEIiwidmVyc2lvbiIsIndhcm5PbmNlIiwic291cmNlTGF5ZXJJbmRleCIsImVuY29kZSIsImZlYXR1cmVzIiwiaW5kZXgiLCJmZWF0dXJlIiwiZ2V0SWQiLCJtaW56b29tIiwiTWF0aCIsImZsb29yIiwibWF4em9vbSIsInJlY2FsY3VsYXRlTGF5ZXJzIiwiY3JlYXRlQnVja2V0Iiwic291cmNlSUQiLCJzcGVjIiwicG9wdWxhdGUiLCJsIiwiZXJyb3IiLCJnbHlwaE1hcCIsImljb25NYXAiLCJwYXR0ZXJuTWFwIiwidHJpbSIsInRhc2tNZXRhZGF0YSIsIm1heWJlUHJlcGFyZSIsImZpbHRlciIsImIiLCJpc0VtcHR5IiwiZ2x5cGhBdGxhc0ltYWdlIiwiaW1hZ2VBdGxhcyIsImdseXBoUG9zaXRpb25zIiwiZ2x5cGhBdGxhcyIsIkltYWdlQXRsYXMiLCJidWNrZXQiLCJTeW1ib2xCdWNrZXQiLCJwZXJmb3JtU3ltYm9sTGF5b3V0IiwiaWNvblBvc2l0aW9ucyIsImhhc1BhdHRlcm4iLCJMaW5lQnVja2V0IiwiRmlsbEJ1Y2tldCIsImFZIiwiRmlsbEV4dHJ1c2lvbkJ1Y2tldCIsImFkZEZlYXR1cmVzIiwicGF0dGVyblBvc2l0aW9ucyIsIm1hcE9iamVjdCIsIk51bWJlciIsInNlbmQiLCJlcnIiLCJpY29ucyIsInBhdHRlcm5zIiwicGFyYW1ldGVycyIsIkV2YWx1YXRpb25QYXJhbWV0ZXJzIiwiYTMiLCJyZWNhbGN1bGF0ZSIsIlZlY3RvclRpbGVXb3JrZXJTb3VyY2UiLCJFdmVudGVkIiwiaXNTcHJpdGVMb2FkZWQiLCJsb2FkVmVjdG9yRGF0YSIsInN1cGVyIiwibG9hZFZlY3RvclRpbGUiLCJsb2FkaW5nIiwibG9hZGVkIiwiZGVkdXBlZCIsIkRlZHVwZWRSZXF1ZXN0IiwiYXUiLCJzY2hlZHVsZXIiLCJsb2FkVGlsZSIsInJlcXVlc3RQYXJhbSIsInBlcmYiLCJ3b3JrZXJUaWxlIiwiYWJvcnQiLCJyZXNwb25zZSIsImFib3J0ZWQiLCJyYXdUaWxlRGF0YSIsInJhd0RhdGEiLCJjYWNoZUNvbnRyb2wiLCJleHBpcmVzIiwidmVjdG9yVGlsZSIsIlZlY3RvclRpbGUiLCJQcm90b2J1ZiIsInBhcnNlVGlsZSIsInJlc291cmNlVGltaW5nIiwicmVzb3VyY2VUaW1pbmdEYXRhIiwiZXh0ZW5kIiwic2xpY2UiLCJvbmNlIiwiYWRkIiwicmVsb2FkVGlsZSIsImRvbmUiLCJyZWxvYWRDYWxsYmFjayIsImFib3J0VGlsZSIsInRpbGUiLCJyZW1vdmVUaWxlIiwiUmFzdGVyREVNVGlsZVdvcmtlclNvdXJjZSIsImVuY29kaW5nIiwicmF3SW1hZ2VEYXRhIiwiaW1hZ2VQaXhlbHMiLCJJbWFnZUJpdG1hcCIsImdldEltYWdlRGF0YSIsIkRFTURhdGEiLCJpbWdCaXRtYXAiLCJvZmZzY3JlZW5DYW52YXMiLCJvZmZzY3JlZW5DYW52YXNDb250ZXh0IiwiT2Zmc2NyZWVuQ2FudmFzIiwiZ2V0Q29udGV4dCIsIndpbGxSZWFkRnJlcXVlbnRseSIsImRyYXdJbWFnZSIsImltZ0RhdGEiLCJjbGVhclJlY3QiLCJNYXBib3hSYXN0ZXJUaWxlIiwic2V0UGJmIiwiUGJmIiwiUmFzdGVyQXJyYXlUaWxlV29ya2VyU291cmNlIiwiZGVjb2RlUmFzdGVyQXJyYXkiLCJ0YXNrIiwiYnVmZmVyIiwiYmEiLCJwZXJmb3JtRGVjb2RpbmciLCJ0aGVuIiwidG9HZW9KU09OIiwiVmVjdG9yVGlsZUZlYXR1cmUiLCJwcm90b3R5cGUiLCJGZWF0dXJlV3JhcHBlciIsIl9mZWF0dXJlIiwiZXh0ZW50IiwiRVhURU5UIiwicHJvcGVydGllcyIsInRhZ3MiLCJpc05hTiIsInBhcnNlSW50IiwibG9hZEdlb21ldHJ5IiwiZ2VvbWV0cnkiLCJwb2ludCIsIlBvaW50IiwicmluZyIsIm5ld1JpbmciLCJjYWxsIiwiR2VvSlNPTldyYXBwZXIiLCJfZ2VvanNvblRpbGVMYXllciIsIm5hbWUiLCJfZmVhdHVyZXMiLCJQQUQiLCJQQURfUFgiLCJHZW9KU09OUlQiLCJNYXAiLCJjbGVhciIsImxvYWQiLCJjYWNoZSIsInVwZGF0ZWQiLCJnZXQiLCJ1cGRhdGVDYWNoZSIsImNvbnZlcnRGZWF0dXJlIiwic2V0IiwiZGVsZXRlIiwiaW50ZXJzZWN0c1RpbGUiLCJwb3ciLCJnZXRUaWxlIiwidHgiLCJ0eSIsInoyIiwib3V0cHV0RmVhdHVyZSIsImdldEZlYXR1cmVzIiwibWluWCIsIm1pblkiLCJtYXhYIiwibWF4WSIsIm9yaWdpbmFsRmVhdHVyZSIsIkVycm9yIiwiY29vcmRpbmF0ZXMiLCJJbmZpbml0eSIsImdlb20iLCJjb252ZXJ0UG9pbnQiLCJwIiwiY29udmVydExpbmUiLCJjb252ZXJ0TGluZXMiLCJwb2x5Z29uIiwibG5nIiwibGF0Iiwib3V0IiwiYmJveCIsIm1lcmNhdG9yWGZyb21MbmciLCJtZXJjYXRvcllmcm9tTGF0IiwibWluIiwibWF4IiwiaXNQb2x5Z29uIiwiaXNPdXRlciIsIm5ld0xpbmUiLCJjbG9ja3dpc2UiLCJhcmVhIiwibGVuIiwiaiIsInJld2luZCIsImxpbmVzIiwidGlsZUdlb20iLCJsaW5lIiwib3giLCJyb3VuZCIsIm95IiwidHJhbnNmb3JtUG9pbnRzIiwidHJhbnNmb3JtQW5kQ2xpcExpbmUiLCJhYiIsInBhcnQiLCJ4MCIsInkwIiwieDEiLCJ5MSIsImR4IiwiZHkiLCJyZXF1aXJlIiwidW5kZWZpbmVkIiwicmF3R2VvbWV0cnkiLCJnZW9qc29uX3dyYXBwZXIiLCJyaW5ncyIsIngyIiwieTIiLCJjb29yZCIsImZyb21WZWN0b3JUaWxlSnMiLCJwYmYiLCJ3cml0ZU1lc3NhZ2UiLCJ3cml0ZUxheWVyIiwid3JpdGVUaWxlIiwiZmluaXNoIiwid3JpdGVWYXJpbnRGaWVsZCIsIndyaXRlU3RyaW5nRmllbGQiLCJjb250ZXh0Iiwia2V5Y2FjaGUiLCJ2YWx1ZWNhY2hlIiwid3JpdGVGZWF0dXJlIiwid3JpdGVWYWx1ZSIsIndyaXRlUHJvcGVydGllcyIsIndyaXRlR2VvbWV0cnkiLCJ2YWx1ZSIsImtleUluZGV4Iiwid3JpdGVWYXJpbnQiLCJ2YWx1ZUtleSIsInZhbHVlSW5kZXgiLCJjb21tYW5kIiwiY21kIiwiemlnemFnIiwibnVtIiwiciIsImNvdW50IiwibGluZUNvdW50Iiwid3JpdGVCb29sZWFuRmllbGQiLCJ3cml0ZURvdWJsZUZpZWxkIiwid3JpdGVTVmFyaW50RmllbGQiLCJ2dFBiZk1vZHVsZSIsImV4cG9ydHMiLCJmcm9tR2VvanNvblZ0IiwiZGVmYXVsdE9wdGlvbnMiLCJtaW5ab29tIiwibWF4Wm9vbSIsIm1pblBvaW50cyIsInJhZGl1cyIsIm5vZGVTaXplIiwibG9nIiwiZ2VuZXJhdGVJZCIsInJlZHVjZSIsInByb3BzIiwiZnJvdW5kIiwidG1wIiwiRmxvYXQzMkFycmF5IiwiT0ZGU0VUX0lEIiwiT0ZGU0VUX05VTSIsIk9GRlNFVF9QUk9QIiwiU3VwZXJjbHVzdGVyIiwiYXNzaWduIiwiY3JlYXRlIiwidHJlZXMiLCJzdHJpZGUiLCJjbHVzdGVyUHJvcHMiLCJwb2ludHMiLCJjb25zb2xlIiwidGltZSIsInRpbWVySWQiLCJsbmdYIiwibGF0WSIsInRyZWUiLCJfY3JlYXRlVHJlZSIsInRpbWVFbmQiLCJub3ciLCJEYXRlIiwiX2NsdXN0ZXIiLCJudW1JdGVtcyIsImdldENsdXN0ZXJzIiwibWluTG5nIiwibWluTGF0IiwibWF4TG5nIiwibWF4TGF0IiwiZWFzdGVybkhlbSIsIndlc3Rlcm5IZW0iLCJjb25jYXQiLCJfbGltaXRab29tIiwiaWRzIiwicmFuZ2UiLCJjbHVzdGVycyIsImdldENsdXN0ZXJKU09OIiwiZ2V0Q2hpbGRyZW4iLCJjbHVzdGVySWQiLCJvcmlnaW5JZCIsIl9nZXRPcmlnaW5JZCIsIm9yaWdpblpvb20iLCJfZ2V0T3JpZ2luWm9vbSIsImVycm9yTXNnIiwid2l0aGluIiwiY2hpbGRyZW4iLCJnZXRMZWF2ZXMiLCJsaW1pdCIsIm9mZnNldCIsImxlYXZlcyIsIl9hcHBlbmRMZWF2ZXMiLCJ0b3AiLCJib3R0b20iLCJfYWRkVGlsZUZlYXR1cmVzIiwiZ2V0Q2x1c3RlckV4cGFuc2lvblpvb20iLCJleHBhbnNpb25ab29tIiwiY2x1c3Rlcl9pZCIsInNraXBwZWQiLCJjaGlsZCIsImNsdXN0ZXIiLCJwb2ludF9jb3VudCIsIktEQnVzaCIsImlzQ2x1c3RlciIsInB4IiwicHkiLCJnZXRDbHVzdGVyUHJvcGVydGllcyIsImYiLCJuZXh0RGF0YSIsIm5laWdoYm9ySWRzIiwibnVtUG9pbnRzT3JpZ2luIiwibnVtUG9pbnRzIiwibmVpZ2hib3JJZCIsImNsdXN0ZXJQcm9wZXJ0aWVzIiwid3giLCJ3eSIsImNsdXN0ZXJQcm9wSW5kZXgiLCJudW1Qb2ludHMyIiwiX21hcCIsImNsb25lIiwib3JpZ2luYWwiLCJ5TGF0IiwiYWJicmV2IiwicHJvcEluZGV4IiwicG9pbnRfY291bnRfYWJicmV2aWF0ZWQiLCJzaW4iLCJQSSIsImF0YW4iLCJleHAiLCJzaW1wbGlmeSIsImNvb3JkcyIsImZpcnN0IiwibGFzdCIsInNxVG9sZXJhbmNlIiwibWF4U3FEaXN0IiwibWlkIiwibWluUG9zVG9NaWQiLCJheCIsImF5IiwiYngiLCJieSIsImQiLCJnZXRTcVNlZ0Rpc3QiLCJwb3NUb01pZCIsImFicyIsInQiLCJjcmVhdGVGZWF0dXJlIiwiY2FsY0xpbmVCQm94IiwiZ2VvanNvbiIsInRvbGVyYW5jZSIsImxpbmVNZXRyaWNzIiwic2luZ2xlR2VvbWV0cnkiLCJnZW9tZXRyaWVzIiwibmV3UG9seWdvbiIsInByb2plY3RYIiwicHJvamVjdFkiLCJzaXplIiwic3FydCIsInN0YXJ0IiwiZW5kIiwiY2xpcCIsInNjYWxlIiwiazEiLCJrMiIsImF4aXMiLCJtaW5BbGwiLCJtYXhBbGwiLCJjbGlwcGVkIiwibmV3R2VvbWV0cnkiLCJjbGlwUG9pbnRzIiwiY2xpcExpbmUiLCJjbGlwTGluZXMiLCJuZXdHZW9tIiwiYSIsImFkZFBvaW50IiwidHJhY2tNZXRyaWNzIiwibmV3U2xpY2UiLCJpbnRlcnNlY3QiLCJpbnRlcnNlY3RYIiwiaW50ZXJzZWN0WSIsInNlZ0xlbiIsImF6IiwiZXhpdGVkIiwic2hpZnRGZWF0dXJlQ29vcmRzIiwibmV3RmVhdHVyZXMiLCJzaGlmdENvb3JkcyIsIm5ld1BvaW50cyIsInRyYW5zZm9ybVRpbGUiLCJ0cmFuc2Zvcm1lZCIsInRyYW5zZm9ybVBvaW50IiwiY3JlYXRlVGlsZSIsIm51bVNpbXBsaWZpZWQiLCJudW1GZWF0dXJlcyIsImFkZEZlYXR1cmUiLCJzaW1wbGlmaWVkIiwiYWRkTGluZSIsInRpbGVGZWF0dXJlIiwiaW5kZXhNYXhab29tIiwiaW5kZXhNYXhQb2ludHMiLCJkZWJ1ZyIsIkdlb0pTT05WVCIsImRlc3QiLCJjb252ZXJ0IiwidGlsZXMiLCJ0aWxlQ29vcmRzIiwic3RhdHMiLCJ0b3RhbCIsIm1lcmdlZCIsImxlZnQiLCJyaWdodCIsInNwbGl0VGlsZSIsImN6IiwiY3giLCJjeSIsInBvcCIsInRvSUQiLCJ6b29tU3RlcHMiLCJrMyIsIms0IiwidGwiLCJibCIsInRyIiwiYnIiLCJ0cmFuc2Zvcm0iLCJwYXJlbnQiLCJ6MCIsImxvYWRHZW9KU09OVGlsZSIsIl9nZW9KU09OSW5kZXgiLCJnZW9KU09OVGlsZSIsImdlb2pzb25XcmFwcGVyIiwidnRwYmYiLCJieXRlT2Zmc2V0IiwiYnl0ZUxlbmd0aCIsIlVpbnQ4QXJyYXkiLCJHZW9KU09OV29ya2VyU291cmNlIiwibG9hZEdlb0pTT04iLCJfZHluYW1pY0luZGV4IiwibG9hZERhdGEiLCJjb21waWxlZCIsImNyZWF0ZUV4cHJlc3Npb24iLCJvdmVycmlkYWJsZSIsInRyYW5zaXRpb24iLCJtZXNzYWdlIiwiam9pbiIsImV2YWx1YXRlIiwiZHluYW1pYyIsImFwcGVuZCIsInN1cGVyY2x1c3Rlck9wdGlvbnMiLCJtYXBFeHByZXNzaW9ucyIsInJlZHVjZUV4cHJlc3Npb25zIiwiZ2xvYmFscyIsImFjY3VtdWxhdGVkIiwicHJvcGVydHlOYW1lcyIsIm9wZXJhdG9yIiwibWFwRXhwcmVzc2lvbiIsIm1hcEV4cHJlc3Npb25QYXJzZWQiLCJyZWR1Y2VFeHByZXNzaW9uUGFyc2VkIiwicG9pbnRQcm9wZXJ0aWVzIiwiZ2V0U3VwZXJjbHVzdGVyT3B0aW9ucyIsImdlb2pzb252dCIsImdlb2pzb25WdE9wdGlvbnMiLCJwYXJ0aWFsIiwiZ2V0SlNPTiIsImUiLCJnZXRDbHVzdGVyQ2hpbGRyZW4iLCJnZXRDbHVzdGVyTGVhdmVzIiwiVGlsZWQzZFdvcmtlclRpbGUiLCJhQSIsImRSIiwiaXMzRFRpbGUiLCJsb2FkM0RUaWxlIiwiZ2x0ZiIsIm5vZGVzIiwicHJvY2VzczNEVGlsZSIsInRpbGVUb01ldGVyIiwiYzgiLCJoYXNNYXBib3hNZXNoRmVhdHVyZXMiLCJqc29uIiwiZXh0ZW5zaW9uc1VzZWQiLCJpbmNsdWRlcyIsImFzc2V0IiwiZXh0cmFzIiwiaGFzTWVzaG9wdENvbXByZXNzaW9uIiwiVGlsZWQzZE1vZGVsQnVja2V0IiwibmVlZHNVcGxvYWQiLCJmcWlkIiwiY2F0Y2giLCJUaWxlZDNkTW9kZWxXb3JrZXJTb3VyY2UiLCJnZXRBcnJheUJ1ZmZlciIsIldvcmtlciIsInNlbGYiLCJBY3RvciIsImUzIiwibGF5ZXJJbmRleGVzIiwicHJvamVjdGlvbnMiLCJkZWZhdWx0UHJvamVjdGlvbiIsImdldFByb2plY3Rpb24iLCJiTCIsIndvcmtlclNvdXJjZVR5cGVzIiwidmVjdG9yIiwid29ya2VyU291cmNlcyIsImRlbVdvcmtlclNvdXJjZXMiLCJyZWdpc3RlcldvcmtlclNvdXJjZSIsIldvcmtlclNvdXJjZSIsInJlZ2lzdGVyUlRMVGV4dFBsdWdpbiIsInJ0bFRleHRQbHVnaW4iLCJnbG9iYWxSVExUZXh0UGx1Z2luIiwiaXNQYXJzZWQiLCJhcHBseUFyYWJpY1NoYXBpbmciLCJwcm9jZXNzQmlkaXJlY3Rpb25hbFRleHQiLCJwcm9jZXNzU3R5bGVkQmlkaXJlY3Rpb25hbFRleHQiLCJjbGVhckNhY2hlcyIsIm1hcElkIiwidW51c2VkIiwicmFzdGVyQXJyYXlXb3JrZXJTb3VyY2UiLCJjaGVja0lmUmVhZHkiLCJtYXBJRCIsInNldFJlZmVycmVyIiwicmVmZXJyZXIiLCJzcHJpdGVMb2FkZWQiLCJpc0xvYWRlZCIsIndvcmtlclNvdXJjZSIsIndzIiwiZmlyZSIsIkV2ZW50Iiwic2V0SW1hZ2VzIiwiaW1hZ2VzIiwic2V0UHJvamVjdGlvbiIsImNvbmZpZyIsInNldEJyaWdodG5lc3MiLCJzZXRMYXllcnMiLCJnZXRMYXllckluZGV4IiwidXBkYXRlTGF5ZXJzIiwiZ2V0V29ya2VyU291cmNlIiwibG9hZERFTVRpbGUiLCJnZXRERU1Xb3JrZXJTb3VyY2UiLCJnZXRSYXN0ZXJBcnJheVdvcmtlclNvdXJjZSIsInJlbW92ZVNvdXJjZSIsIndvcmtlciIsImxvYWRXb3JrZXJTb3VyY2UiLCJpbXBvcnRTY3JpcHRzIiwic3luY1JUTFBsdWdpblN0YXRlIiwic3RhdGUiLCJzZXRTdGF0ZSIsInBsdWdpblVSTCIsImdldFBsdWdpblVSTCIsImU0IiwiY29tcGxldGUiLCJzZXREcmFjb1VybCIsImRyYWNvVXJsIiwiZ2V0QXZhaWxhYmxlSW1hZ2VzIiwiXyIsIm11c3RRdWV1ZSIsIm1ldGFkYXRhIiwiZW5mb3JjZUNhY2hlU2l6ZUxpbWl0IiwiZTUiLCJnZXRXb3JrZXJQZXJmb3JtYW5jZU1ldHJpY3MiLCJXb3JrZXJHbG9iYWxTY29wZSJdLCJtYXBwaW5ncyI6ImlDQTRJTyxTQUFTQSxFQUEwQkMsR0FDdEMsTUFBTUMsRUFBTUQsRUFBVUEsRUFBUUMsSUFBSUMsZ0JBQWEsRUFDL0MsT0FBS0QsRUFHRUUsWUFBWUMsaUJBQWlCSCxHQUZ6QixFQUh3RixDQ3hJdkcsU0FBU0ksRUFBVUMsR0FDWCxHQUFlLGlCQUFSQSxHQUFtQyxrQkFBUkEsR0FBb0MsaUJBQVJBLEdBQTlELE1BQWtGQSxFQUMzRSxPQUFBQyxLQUFLRixVQUFVQyxHQUV0QixHQUFBRSxNQUFNQyxRQUFRSCxHQUFNLENBQ3BCLElBQUlJLEVBQU0sSUFDVixJQUFXQyxNQUFBQSxLQUFPTCxFQUNkSSxHQUFPLEdBQUdMLEVBQVVNLE1BRXhCLE1BQU8sR0FBR0QsSUFUVyxDQVl6QixJQUFJQSxFQUFNLElBQ1YsSUFBQSxNQUFXRSxLQUFPQyxPQUFPQyxLQUFLUixHQUFLUyxPQUMvQkwsR0FBTyxHQUFHRSxLQUFPUCxFQUFXQyxFQUFLTSxPQUVyQyxNQUFPLEdBQUdGLElBaEJlLENBbUI3QixTQUFTTSxFQUFPQyxHQUNaLElBQUlMLEVBQU0sR0FDVixJQUFXTSxNQUFBQSxLQUFLQyxLQUNaUCxHQUFPLElBQUlQLEVBQVdZLEVBQWNDLE1BRWpDLE9BQUFOLENBTGdDLENDVjNDLE1BQU1RLEVBaUJGQyxXQUFBQSxDQUFZQyxHQUNSQyxLQUFLQyxTQUFXLEdBQ2hCRCxLQUFLRSxRQUFVLEdBQ2ZGLEtBQUtHLGNBQWdCLEdBQ2pCSixHQUNBQyxLQUFLSSxRQUFRTCxFQXRCSCxDQTBCbEJLLE9BQUFBLENBQVFMLEVBQXlDTSxHQUM3Q0wsS0FBS0csY0FBZ0IsR0FDckJILEtBQUtFLFFBQVUsR0FDZkYsS0FBS00sT0FBT1AsRUFBYyxHQUFJTSxF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S3luQixpQkFBaUJXLEtBQ2xCcG9CLEtBQUF5bkIsaUJBQWlCVyxHQUFTLElBRTlCcG9CLEtBQUt5bkIsaUJBQWlCVyxHQUFPeG5CLEtBQzlCWixLQUFLeW5CLGlCQUFpQlcsR0FBT3huQixHQUFTLENBQUEsR0FFckNaLEtBQUt5bkIsaUJBQWlCVyxHQUFPeG5CLEdBQU9nQixLQUNoQzVCLEtBQUF5bkIsaUJBQWlCVyxHQUFPeG5CLEdBQU9nQixHQUFVLElBQUlrTCxHQUcvQzlNLEtBQUt5bkIsaUJBQWlCVyxHQUFPeG5CLEdBQU9nQixFQWhYdkIsQ0FtWHhCZ29CLDBCQUFBQSxHQUtJLE9BSks1cEIsS0FBS3NvQiwwQkFDRHRvQixLQUFBc29CLHdCQUEwQixJQUFJcmEsR0FHaENqTyxLQUFLc29CLHVCQXhYUSxDQTJYeEJ3QyxxQkFBQUEsQ0FBc0IxQyxFQUFlaE8sR0FDakMwUSxFQUFBQyxHQUFzQjNRLEVBNVhGLENBK1h4QjRRLDJCQUFBQSxDQUE0QjVDLEVBQWV0a0IsRUFBYTRCLEdBQzNDQSxPQUFBLE9BQVcsRUFoWUEsUUFxWUssb0JBQXRCdWxCLG1CQUNTLG9CQUFUbkUsTUFFUEEsZ0JBQWdCbUUsb0JBRVhuRSxLQUFBZ0QsT0FBUyxJQUFJakQsR0FBT0MiLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMTAsMTEsMTIsMTMsMTQsMTUsMTYsMTcsMTgsMTksMjBdfQ==
